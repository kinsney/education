(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],2:[function(require,module,exports){
/**
 * Indicates that navigation was caused by a call to history.push.
 */
'use strict';

exports.__esModule = true;
var PUSH = 'PUSH';

exports.PUSH = PUSH;
/**
 * Indicates that navigation was caused by a call to history.replace.
 */
var REPLACE = 'REPLACE';

exports.REPLACE = REPLACE;
/**
 * Indicates that navigation was caused by some other action such
 * as using a browser's back/forward buttons and/or manually manipulating
 * the URL in a browser's location bar. This is the default.
 *
 * See https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate
 * for more information.
 */
var POP = 'POP';

exports.POP = POP;
exports['default'] = {
  PUSH: PUSH,
  REPLACE: REPLACE,
  POP: POP
};
},{}],3:[function(require,module,exports){
"use strict";

exports.__esModule = true;
var _slice = Array.prototype.slice;
exports.loopAsync = loopAsync;

function loopAsync(turns, work, callback) {
  var currentTurn = 0,
      isDone = false;
  var sync = false,
      hasNext = false,
      doneArgs = undefined;

  function done() {
    isDone = true;
    if (sync) {
      // Iterate instead of recursing if possible.
      doneArgs = [].concat(_slice.call(arguments));
      return;
    }

    callback.apply(this, arguments);
  }

  function next() {
    if (isDone) {
      return;
    }

    hasNext = true;
    if (sync) {
      // Iterate instead of recursing if possible.
      return;
    }

    sync = true;

    while (!isDone && currentTurn < turns && hasNext) {
      hasNext = false;
      work.call(this, currentTurn++, next, done);
    }

    sync = false;

    if (isDone) {
      // This means the loop finished synchronously.
      callback.apply(this, doneArgs);
      return;
    }

    if (currentTurn >= turns && hasNext) {
      isDone = true;
      callback();
    }
  }

  next();
}
},{}],4:[function(require,module,exports){
(function (process){
/*eslint-disable no-empty */
'use strict';

exports.__esModule = true;
exports.saveState = saveState;
exports.readState = readState;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var KeyPrefix = '@@History/';
var QuotaExceededErrors = ['QuotaExceededError', 'QUOTA_EXCEEDED_ERR'];

var SecurityError = 'SecurityError';

function createKey(key) {
  return KeyPrefix + key;
}

function saveState(key, state) {
  try {
    if (state == null) {
      window.sessionStorage.removeItem(createKey(key));
    } else {
      window.sessionStorage.setItem(createKey(key), JSON.stringify(state));
    }
  } catch (error) {
    if (error.name === SecurityError) {
      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any
      // attempt to access window.sessionStorage.
      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available due to security settings') : undefined;

      return;
    }

    if (QuotaExceededErrors.indexOf(error.name) >= 0 && window.sessionStorage.length === 0) {
      // Safari "private mode" throws QuotaExceededError.
      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available in Safari private mode') : undefined;

      return;
    }

    throw error;
  }
}

function readState(key) {
  var json = undefined;
  try {
    json = window.sessionStorage.getItem(createKey(key));
  } catch (error) {
    if (error.name === SecurityError) {
      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any
      // attempt to access window.sessionStorage.
      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to read state; sessionStorage is not available due to security settings') : undefined;

      return null;
    }
  }

  if (json) {
    try {
      return JSON.parse(json);
    } catch (error) {
      // Ignore invalid JSON.
    }
  }

  return null;
}
}).call(this,require('_process'))

},{"_process":1,"warning":28}],5:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.addEventListener = addEventListener;
exports.removeEventListener = removeEventListener;
exports.getHashPath = getHashPath;
exports.replaceHashPath = replaceHashPath;
exports.getWindowPath = getWindowPath;
exports.go = go;
exports.getUserConfirmation = getUserConfirmation;
exports.supportsHistory = supportsHistory;
exports.supportsGoWithoutReloadUsingHash = supportsGoWithoutReloadUsingHash;

function addEventListener(node, event, listener) {
  if (node.addEventListener) {
    node.addEventListener(event, listener, false);
  } else {
    node.attachEvent('on' + event, listener);
  }
}

function removeEventListener(node, event, listener) {
  if (node.removeEventListener) {
    node.removeEventListener(event, listener, false);
  } else {
    node.detachEvent('on' + event, listener);
  }
}

function getHashPath() {
  // We can't use window.location.hash here because it's not
  // consistent across browsers - Firefox will pre-decode it!
  return window.location.href.split('#')[1] || '';
}

function replaceHashPath(path) {
  window.location.replace(window.location.pathname + window.location.search + '#' + path);
}

function getWindowPath() {
  return window.location.pathname + window.location.search + window.location.hash;
}

function go(n) {
  if (n) window.history.go(n);
}

function getUserConfirmation(message, callback) {
  callback(window.confirm(message));
}

/**
 * Returns true if the HTML5 history API is supported. Taken from Modernizr.
 *
 * https://github.com/Modernizr/Modernizr/blob/master/LICENSE
 * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js
 * changed to avoid false negatives for Windows Phones: https://github.com/rackt/react-router/issues/586
 */

function supportsHistory() {
  var ua = navigator.userAgent;
  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) {
    return false;
  }
  return window.history && 'pushState' in window.history;
}

/**
 * Returns false if using go(n) with hash history causes a full page reload.
 */

function supportsGoWithoutReloadUsingHash() {
  var ua = navigator.userAgent;
  return ua.indexOf('Firefox') === -1;
}
},{}],6:[function(require,module,exports){
'use strict';

exports.__esModule = true;
var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
exports.canUseDOM = canUseDOM;
},{}],7:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;
exports.extractPath = extractPath;
exports.parsePath = parsePath;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

function extractPath(string) {
  var match = string.match(/^https?:\/\/[^\/]*/);

  if (match == null) return string;

  return string.substring(match[0].length);
}

function parsePath(path) {
  var pathname = extractPath(path);
  var search = '';
  var hash = '';

  process.env.NODE_ENV !== 'production' ? _warning2['default'](path === pathname, 'A path must be pathname + search + hash only, not a fully qualified URL like "%s"', path) : undefined;

  var hashIndex = pathname.indexOf('#');
  if (hashIndex !== -1) {
    hash = pathname.substring(hashIndex);
    pathname = pathname.substring(0, hashIndex);
  }

  var searchIndex = pathname.indexOf('?');
  if (searchIndex !== -1) {
    search = pathname.substring(searchIndex);
    pathname = pathname.substring(0, searchIndex);
  }

  if (pathname === '') pathname = '/';

  return {
    pathname: pathname,
    search: search,
    hash: hash
  };
}
}).call(this,require('_process'))

},{"_process":1,"warning":28}],8:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _invariant = require('invariant');

var _invariant2 = _interopRequireDefault(_invariant);

var _Actions = require('./Actions');

var _PathUtils = require('./PathUtils');

var _ExecutionEnvironment = require('./ExecutionEnvironment');

var _DOMUtils = require('./DOMUtils');

var _DOMStateStorage = require('./DOMStateStorage');

var _createDOMHistory = require('./createDOMHistory');

var _createDOMHistory2 = _interopRequireDefault(_createDOMHistory);

/**
 * Creates and returns a history object that uses HTML5's history API
 * (pushState, replaceState, and the popstate event) to manage history.
 * This is the recommended method of managing history in browsers because
 * it provides the cleanest URLs.
 *
 * Note: In browsers that do not support the HTML5 history API full
 * page reloads will be used to preserve URLs.
 */
function createBrowserHistory() {
  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Browser history needs a DOM') : _invariant2['default'](false) : undefined;

  var forceRefresh = options.forceRefresh;

  var isSupported = _DOMUtils.supportsHistory();
  var useRefresh = !isSupported || forceRefresh;

  function getCurrentLocation(historyState) {
    try {
      historyState = historyState || window.history.state || {};
    } catch (e) {
      historyState = {};
    }

    var path = _DOMUtils.getWindowPath();
    var _historyState = historyState;
    var key = _historyState.key;

    var state = undefined;
    if (key) {
      state = _DOMStateStorage.readState(key);
    } else {
      state = null;
      key = history.createKey();

      if (isSupported) window.history.replaceState(_extends({}, historyState, { key: key }), null);
    }

    var location = _PathUtils.parsePath(path);

    return history.createLocation(_extends({}, location, { state: state }), undefined, key);
  }

  function startPopStateListener(_ref) {
    var transitionTo = _ref.transitionTo;

    function popStateListener(event) {
      if (event.state === undefined) return; // Ignore extraneous popstate events in WebKit.

      transitionTo(getCurrentLocation(event.state));
    }

    _DOMUtils.addEventListener(window, 'popstate', popStateListener);

    return function () {
      _DOMUtils.removeEventListener(window, 'popstate', popStateListener);
    };
  }

  function finishTransition(location) {
    var basename = location.basename;
    var pathname = location.pathname;
    var search = location.search;
    var hash = location.hash;
    var state = location.state;
    var action = location.action;
    var key = location.key;

    if (action === _Actions.POP) return; // Nothing to do.

    _DOMStateStorage.saveState(key, state);

    var path = (basename || '') + pathname + search + hash;
    var historyState = {
      key: key
    };

    if (action === _Actions.PUSH) {
      if (useRefresh) {
        window.location.href = path;
        return false; // Prevent location update.
      } else {
          window.history.pushState(historyState, null, path);
        }
    } else {
      // REPLACE
      if (useRefresh) {
        window.location.replace(path);
        return false; // Prevent location update.
      } else {
          window.history.replaceState(historyState, null, path);
        }
    }
  }

  var history = _createDOMHistory2['default'](_extends({}, options, {
    getCurrentLocation: getCurrentLocation,
    finishTransition: finishTransition,
    saveState: _DOMStateStorage.saveState
  }));

  var listenerCount = 0,
      stopPopStateListener = undefined;

  function listenBefore(listener) {
    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);

    var unlisten = history.listenBefore(listener);

    return function () {
      unlisten();

      if (--listenerCount === 0) stopPopStateListener();
    };
  }

  function listen(listener) {
    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);

    var unlisten = history.listen(listener);

    return function () {
      unlisten();

      if (--listenerCount === 0) stopPopStateListener();
    };
  }

  // deprecated
  function registerTransitionHook(hook) {
    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);

    history.registerTransitionHook(hook);
  }

  // deprecated
  function unregisterTransitionHook(hook) {
    history.unregisterTransitionHook(hook);

    if (--listenerCount === 0) stopPopStateListener();
  }

  return _extends({}, history, {
    listenBefore: listenBefore,
    listen: listen,
    registerTransitionHook: registerTransitionHook,
    unregisterTransitionHook: unregisterTransitionHook
  });
}

exports['default'] = createBrowserHistory;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./Actions":2,"./DOMStateStorage":4,"./DOMUtils":5,"./ExecutionEnvironment":6,"./PathUtils":7,"./createDOMHistory":9,"_process":1,"invariant":25}],9:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _invariant = require('invariant');

var _invariant2 = _interopRequireDefault(_invariant);

var _ExecutionEnvironment = require('./ExecutionEnvironment');

var _DOMUtils = require('./DOMUtils');

var _createHistory = require('./createHistory');

var _createHistory2 = _interopRequireDefault(_createHistory);

function createDOMHistory(options) {
  var history = _createHistory2['default'](_extends({
    getUserConfirmation: _DOMUtils.getUserConfirmation
  }, options, {
    go: _DOMUtils.go
  }));

  function listen(listener) {
    !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'DOM history needs a DOM') : _invariant2['default'](false) : undefined;

    return history.listen(listener);
  }

  return _extends({}, history, {
    listen: listen
  });
}

exports['default'] = createDOMHistory;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./DOMUtils":5,"./ExecutionEnvironment":6,"./createHistory":11,"_process":1,"invariant":25}],10:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var _invariant = require('invariant');

var _invariant2 = _interopRequireDefault(_invariant);

var _Actions = require('./Actions');

var _PathUtils = require('./PathUtils');

var _ExecutionEnvironment = require('./ExecutionEnvironment');

var _DOMUtils = require('./DOMUtils');

var _DOMStateStorage = require('./DOMStateStorage');

var _createDOMHistory = require('./createDOMHistory');

var _createDOMHistory2 = _interopRequireDefault(_createDOMHistory);

function isAbsolutePath(path) {
  return typeof path === 'string' && path.charAt(0) === '/';
}

function ensureSlash() {
  var path = _DOMUtils.getHashPath();

  if (isAbsolutePath(path)) return true;

  _DOMUtils.replaceHashPath('/' + path);

  return false;
}

function addQueryStringValueToPath(path, key, value) {
  return path + (path.indexOf('?') === -1 ? '?' : '&') + (key + '=' + value);
}

function stripQueryStringValueFromPath(path, key) {
  return path.replace(new RegExp('[?&]?' + key + '=[a-zA-Z0-9]+'), '');
}

function getQueryStringValueFromPath(path, key) {
  var match = path.match(new RegExp('\\?.*?\\b' + key + '=(.+?)\\b'));
  return match && match[1];
}

var DefaultQueryKey = '_k';

function createHashHistory() {
  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Hash history needs a DOM') : _invariant2['default'](false) : undefined;

  var queryKey = options.queryKey;

  if (queryKey === undefined || !!queryKey) queryKey = typeof queryKey === 'string' ? queryKey : DefaultQueryKey;

  function getCurrentLocation() {
    var path = _DOMUtils.getHashPath();

    var key = undefined,
        state = undefined;
    if (queryKey) {
      key = getQueryStringValueFromPath(path, queryKey);
      path = stripQueryStringValueFromPath(path, queryKey);

      if (key) {
        state = _DOMStateStorage.readState(key);
      } else {
        state = null;
        key = history.createKey();
        _DOMUtils.replaceHashPath(addQueryStringValueToPath(path, queryKey, key));
      }
    } else {
      key = state = null;
    }

    var location = _PathUtils.parsePath(path);

    return history.createLocation(_extends({}, location, { state: state }), undefined, key);
  }

  function startHashChangeListener(_ref) {
    var transitionTo = _ref.transitionTo;

    function hashChangeListener() {
      if (!ensureSlash()) return; // Always make sure hashes are preceeded with a /.

      transitionTo(getCurrentLocation());
    }

    ensureSlash();
    _DOMUtils.addEventListener(window, 'hashchange', hashChangeListener);

    return function () {
      _DOMUtils.removeEventListener(window, 'hashchange', hashChangeListener);
    };
  }

  function finishTransition(location) {
    var basename = location.basename;
    var pathname = location.pathname;
    var search = location.search;
    var state = location.state;
    var action = location.action;
    var key = location.key;

    if (action === _Actions.POP) return; // Nothing to do.

    var path = (basename || '') + pathname + search;

    if (queryKey) {
      path = addQueryStringValueToPath(path, queryKey, key);
      _DOMStateStorage.saveState(key, state);
    } else {
      // Drop key and state.
      location.key = location.state = null;
    }

    var currentHash = _DOMUtils.getHashPath();

    if (action === _Actions.PUSH) {
      if (currentHash !== path) {
        window.location.hash = path;
      } else {
        process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'You cannot PUSH the same path using hash history') : undefined;
      }
    } else if (currentHash !== path) {
      // REPLACE
      _DOMUtils.replaceHashPath(path);
    }
  }

  var history = _createDOMHistory2['default'](_extends({}, options, {
    getCurrentLocation: getCurrentLocation,
    finishTransition: finishTransition,
    saveState: _DOMStateStorage.saveState
  }));

  var listenerCount = 0,
      stopHashChangeListener = undefined;

  function listenBefore(listener) {
    if (++listenerCount === 1) stopHashChangeListener = startHashChangeListener(history);

    var unlisten = history.listenBefore(listener);

    return function () {
      unlisten();

      if (--listenerCount === 0) stopHashChangeListener();
    };
  }

  function listen(listener) {
    if (++listenerCount === 1) stopHashChangeListener = startHashChangeListener(history);

    var unlisten = history.listen(listener);

    return function () {
      unlisten();

      if (--listenerCount === 0) stopHashChangeListener();
    };
  }

  function push(location) {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](queryKey || location.state == null, 'You cannot use state without a queryKey it will be dropped') : undefined;

    history.push(location);
  }

  function replace(location) {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](queryKey || location.state == null, 'You cannot use state without a queryKey it will be dropped') : undefined;

    history.replace(location);
  }

  var goIsSupportedWithoutReload = _DOMUtils.supportsGoWithoutReloadUsingHash();

  function go(n) {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](goIsSupportedWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : undefined;

    history.go(n);
  }

  function createHref(path) {
    return '#' + history.createHref(path);
  }

  // deprecated
  function registerTransitionHook(hook) {
    if (++listenerCount === 1) stopHashChangeListener = startHashChangeListener(history);

    history.registerTransitionHook(hook);
  }

  // deprecated
  function unregisterTransitionHook(hook) {
    history.unregisterTransitionHook(hook);

    if (--listenerCount === 0) stopHashChangeListener();
  }

  // deprecated
  function pushState(state, path) {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](queryKey || state == null, 'You cannot use state without a queryKey it will be dropped') : undefined;

    history.pushState(state, path);
  }

  // deprecated
  function replaceState(state, path) {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](queryKey || state == null, 'You cannot use state without a queryKey it will be dropped') : undefined;

    history.replaceState(state, path);
  }

  return _extends({}, history, {
    listenBefore: listenBefore,
    listen: listen,
    push: push,
    replace: replace,
    go: go,
    createHref: createHref,

    registerTransitionHook: registerTransitionHook, // deprecated - warning is in createHistory
    unregisterTransitionHook: unregisterTransitionHook, // deprecated - warning is in createHistory
    pushState: pushState, // deprecated - warning is in createHistory
    replaceState: replaceState // deprecated - warning is in createHistory
  });
}

exports['default'] = createHashHistory;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./Actions":2,"./DOMStateStorage":4,"./DOMUtils":5,"./ExecutionEnvironment":6,"./PathUtils":7,"./createDOMHistory":9,"_process":1,"invariant":25,"warning":28}],11:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var _deepEqual = require('deep-equal');

var _deepEqual2 = _interopRequireDefault(_deepEqual);

var _PathUtils = require('./PathUtils');

var _AsyncUtils = require('./AsyncUtils');

var _Actions = require('./Actions');

var _createLocation2 = require('./createLocation');

var _createLocation3 = _interopRequireDefault(_createLocation2);

var _runTransitionHook = require('./runTransitionHook');

var _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);

var _deprecate = require('./deprecate');

var _deprecate2 = _interopRequireDefault(_deprecate);

function createRandomKey(length) {
  return Math.random().toString(36).substr(2, length);
}

function locationsAreEqual(a, b) {
  return a.pathname === b.pathname && a.search === b.search &&
  //a.action === b.action && // Different action !== location change.
  a.key === b.key && _deepEqual2['default'](a.state, b.state);
}

var DefaultKeyLength = 6;

function createHistory() {
  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
  var getCurrentLocation = options.getCurrentLocation;
  var finishTransition = options.finishTransition;
  var saveState = options.saveState;
  var go = options.go;
  var getUserConfirmation = options.getUserConfirmation;
  var keyLength = options.keyLength;

  if (typeof keyLength !== 'number') keyLength = DefaultKeyLength;

  var transitionHooks = [];

  function listenBefore(hook) {
    transitionHooks.push(hook);

    return function () {
      transitionHooks = transitionHooks.filter(function (item) {
        return item !== hook;
      });
    };
  }

  var allKeys = [];
  var changeListeners = [];
  var location = undefined;

  function getCurrent() {
    if (pendingLocation && pendingLocation.action === _Actions.POP) {
      return allKeys.indexOf(pendingLocation.key);
    } else if (location) {
      return allKeys.indexOf(location.key);
    } else {
      return -1;
    }
  }

  function updateLocation(newLocation) {
    var current = getCurrent();

    location = newLocation;

    if (location.action === _Actions.PUSH) {
      allKeys = [].concat(allKeys.slice(0, current + 1), [location.key]);
    } else if (location.action === _Actions.REPLACE) {
      allKeys[current] = location.key;
    }

    changeListeners.forEach(function (listener) {
      listener(location);
    });
  }

  function listen(listener) {
    changeListeners.push(listener);

    if (location) {
      listener(location);
    } else {
      var _location = getCurrentLocation();
      allKeys = [_location.key];
      updateLocation(_location);
    }

    return function () {
      changeListeners = changeListeners.filter(function (item) {
        return item !== listener;
      });
    };
  }

  function confirmTransitionTo(location, callback) {
    _AsyncUtils.loopAsync(transitionHooks.length, function (index, next, done) {
      _runTransitionHook2['default'](transitionHooks[index], location, function (result) {
        if (result != null) {
          done(result);
        } else {
          next();
        }
      });
    }, function (message) {
      if (getUserConfirmation && typeof message === 'string') {
        getUserConfirmation(message, function (ok) {
          callback(ok !== false);
        });
      } else {
        callback(message !== false);
      }
    });
  }

  var pendingLocation = undefined;

  function transitionTo(nextLocation) {
    if (location && locationsAreEqual(location, nextLocation)) return; // Nothing to do.

    pendingLocation = nextLocation;

    confirmTransitionTo(nextLocation, function (ok) {
      if (pendingLocation !== nextLocation) return; // Transition was interrupted.

      if (ok) {
        // treat PUSH to current path like REPLACE to be consistent with browsers
        if (nextLocation.action === _Actions.PUSH) {
          var prevPath = createPath(location);
          var nextPath = createPath(nextLocation);

          if (nextPath === prevPath && _deepEqual2['default'](location.state, nextLocation.state)) nextLocation.action = _Actions.REPLACE;
        }

        if (finishTransition(nextLocation) !== false) updateLocation(nextLocation);
      } else if (location && nextLocation.action === _Actions.POP) {
        var prevIndex = allKeys.indexOf(location.key);
        var nextIndex = allKeys.indexOf(nextLocation.key);

        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL.
      }
    });
  }

  function push(location) {
    transitionTo(createLocation(location, _Actions.PUSH, createKey()));
  }

  function replace(location) {
    transitionTo(createLocation(location, _Actions.REPLACE, createKey()));
  }

  function goBack() {
    go(-1);
  }

  function goForward() {
    go(1);
  }

  function createKey() {
    return createRandomKey(keyLength);
  }

  function createPath(location) {
    if (location == null || typeof location === 'string') return location;

    var pathname = location.pathname;
    var search = location.search;
    var hash = location.hash;

    var result = pathname;

    if (search) result += search;

    if (hash) result += hash;

    return result;
  }

  function createHref(location) {
    return createPath(location);
  }

  function createLocation(location, action) {
    var key = arguments.length <= 2 || arguments[2] === undefined ? createKey() : arguments[2];

    if (typeof action === 'object') {
      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'The state (2nd) argument to history.createLocation is deprecated; use a ' + 'location descriptor instead') : undefined;

      if (typeof location === 'string') location = _PathUtils.parsePath(location);

      location = _extends({}, location, { state: action });

      action = key;
      key = arguments[3] || createKey();
    }

    return _createLocation3['default'](location, action, key);
  }

  // deprecated
  function setState(state) {
    if (location) {
      updateLocationState(location, state);
      updateLocation(location);
    } else {
      updateLocationState(getCurrentLocation(), state);
    }
  }

  function updateLocationState(location, state) {
    location.state = _extends({}, location.state, state);
    saveState(location.key, location.state);
  }

  // deprecated
  function registerTransitionHook(hook) {
    if (transitionHooks.indexOf(hook) === -1) transitionHooks.push(hook);
  }

  // deprecated
  function unregisterTransitionHook(hook) {
    transitionHooks = transitionHooks.filter(function (item) {
      return item !== hook;
    });
  }

  // deprecated
  function pushState(state, path) {
    if (typeof path === 'string') path = _PathUtils.parsePath(path);

    push(_extends({ state: state }, path));
  }

  // deprecated
  function replaceState(state, path) {
    if (typeof path === 'string') path = _PathUtils.parsePath(path);

    replace(_extends({ state: state }, path));
  }

  return {
    listenBefore: listenBefore,
    listen: listen,
    transitionTo: transitionTo,
    push: push,
    replace: replace,
    go: go,
    goBack: goBack,
    goForward: goForward,
    createKey: createKey,
    createPath: createPath,
    createHref: createHref,
    createLocation: createLocation,

    setState: _deprecate2['default'](setState, 'setState is deprecated; use location.key to save state instead'),
    registerTransitionHook: _deprecate2['default'](registerTransitionHook, 'registerTransitionHook is deprecated; use listenBefore instead'),
    unregisterTransitionHook: _deprecate2['default'](unregisterTransitionHook, 'unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead'),
    pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),
    replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')
  };
}

exports['default'] = createHistory;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./Actions":2,"./AsyncUtils":3,"./PathUtils":7,"./createLocation":12,"./deprecate":14,"./runTransitionHook":18,"_process":1,"deep-equal":22,"warning":28}],12:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var _Actions = require('./Actions');

var _PathUtils = require('./PathUtils');

function createLocation() {
  var location = arguments.length <= 0 || arguments[0] === undefined ? '/' : arguments[0];
  var action = arguments.length <= 1 || arguments[1] === undefined ? _Actions.POP : arguments[1];
  var key = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

  var _fourthArg = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];

  if (typeof location === 'string') location = _PathUtils.parsePath(location);

  if (typeof action === 'object') {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'The state (2nd) argument to createLocation is deprecated; use a ' + 'location descriptor instead') : undefined;

    location = _extends({}, location, { state: action });

    action = key || _Actions.POP;
    key = _fourthArg;
  }

  var pathname = location.pathname || '/';
  var search = location.search || '';
  var hash = location.hash || '';
  var state = location.state || null;

  return {
    pathname: pathname,
    search: search,
    hash: hash,
    state: state,
    action: action,
    key: key
  };
}

exports['default'] = createLocation;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./Actions":2,"./PathUtils":7,"_process":1,"warning":28}],13:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var _invariant = require('invariant');

var _invariant2 = _interopRequireDefault(_invariant);

var _PathUtils = require('./PathUtils');

var _Actions = require('./Actions');

var _createHistory = require('./createHistory');

var _createHistory2 = _interopRequireDefault(_createHistory);

function createStateStorage(entries) {
  return entries.filter(function (entry) {
    return entry.state;
  }).reduce(function (memo, entry) {
    memo[entry.key] = entry.state;
    return memo;
  }, {});
}

function createMemoryHistory() {
  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

  if (Array.isArray(options)) {
    options = { entries: options };
  } else if (typeof options === 'string') {
    options = { entries: [options] };
  }

  var history = _createHistory2['default'](_extends({}, options, {
    getCurrentLocation: getCurrentLocation,
    finishTransition: finishTransition,
    saveState: saveState,
    go: go
  }));

  var _options = options;
  var entries = _options.entries;
  var current = _options.current;

  if (typeof entries === 'string') {
    entries = [entries];
  } else if (!Array.isArray(entries)) {
    entries = ['/'];
  }

  entries = entries.map(function (entry) {
    var key = history.createKey();

    if (typeof entry === 'string') return { pathname: entry, key: key };

    if (typeof entry === 'object' && entry) return _extends({}, entry, { key: key });

    !false ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Unable to create history entry from %s', entry) : _invariant2['default'](false) : undefined;
  });

  if (current == null) {
    current = entries.length - 1;
  } else {
    !(current >= 0 && current < entries.length) ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Current index must be >= 0 and < %s, was %s', entries.length, current) : _invariant2['default'](false) : undefined;
  }

  var storage = createStateStorage(entries);

  function saveState(key, state) {
    storage[key] = state;
  }

  function readState(key) {
    return storage[key];
  }

  function getCurrentLocation() {
    var entry = entries[current];
    var basename = entry.basename;
    var pathname = entry.pathname;
    var search = entry.search;

    var path = (basename || '') + pathname + (search || '');

    var key = undefined,
        state = undefined;
    if (entry.key) {
      key = entry.key;
      state = readState(key);
    } else {
      key = history.createKey();
      state = null;
      entry.key = key;
    }

    var location = _PathUtils.parsePath(path);

    return history.createLocation(_extends({}, location, { state: state }), undefined, key);
  }

  function canGo(n) {
    var index = current + n;
    return index >= 0 && index < entries.length;
  }

  function go(n) {
    if (n) {
      if (!canGo(n)) {
        process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Cannot go(%s) there is not enough history', n) : undefined;
        return;
      }

      current += n;

      var currentLocation = getCurrentLocation();

      // change action to POP
      history.transitionTo(_extends({}, currentLocation, { action: _Actions.POP }));
    }
  }

  function finishTransition(location) {
    switch (location.action) {
      case _Actions.PUSH:
        current += 1;

        // if we are not on the top of stack
        // remove rest and push new
        if (current < entries.length) entries.splice(current);

        entries.push(location);
        saveState(location.key, location.state);
        break;
      case _Actions.REPLACE:
        entries[current] = location;
        saveState(location.key, location.state);
        break;
    }
  }

  return history;
}

exports['default'] = createMemoryHistory;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./Actions":2,"./PathUtils":7,"./createHistory":11,"_process":1,"invariant":25,"warning":28}],14:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

function deprecate(fn, message) {
  return function () {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] ' + message) : undefined;
    return fn.apply(this, arguments);
  };
}

exports['default'] = deprecate;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"_process":1,"warning":28}],15:[function(require,module,exports){
'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _deprecate = require('./deprecate');

var _deprecate2 = _interopRequireDefault(_deprecate);

var _useBeforeUnload = require('./useBeforeUnload');

var _useBeforeUnload2 = _interopRequireDefault(_useBeforeUnload);

exports['default'] = _deprecate2['default'](_useBeforeUnload2['default'], 'enableBeforeUnload is deprecated, use useBeforeUnload instead');
module.exports = exports['default'];
},{"./deprecate":14,"./useBeforeUnload":20}],16:[function(require,module,exports){
'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _deprecate = require('./deprecate');

var _deprecate2 = _interopRequireDefault(_deprecate);

var _useQueries = require('./useQueries');

var _useQueries2 = _interopRequireDefault(_useQueries);

exports['default'] = _deprecate2['default'](_useQueries2['default'], 'enableQueries is deprecated, use useQueries instead');
module.exports = exports['default'];
},{"./deprecate":14,"./useQueries":21}],17:[function(require,module,exports){
'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _deprecate = require('./deprecate');

var _deprecate2 = _interopRequireDefault(_deprecate);

var _createLocation2 = require('./createLocation');

var _createLocation3 = _interopRequireDefault(_createLocation2);

var _createBrowserHistory = require('./createBrowserHistory');

var _createBrowserHistory2 = _interopRequireDefault(_createBrowserHistory);

exports.createHistory = _createBrowserHistory2['default'];

var _createHashHistory2 = require('./createHashHistory');

var _createHashHistory3 = _interopRequireDefault(_createHashHistory2);

exports.createHashHistory = _createHashHistory3['default'];

var _createMemoryHistory2 = require('./createMemoryHistory');

var _createMemoryHistory3 = _interopRequireDefault(_createMemoryHistory2);

exports.createMemoryHistory = _createMemoryHistory3['default'];

var _useBasename2 = require('./useBasename');

var _useBasename3 = _interopRequireDefault(_useBasename2);

exports.useBasename = _useBasename3['default'];

var _useBeforeUnload2 = require('./useBeforeUnload');

var _useBeforeUnload3 = _interopRequireDefault(_useBeforeUnload2);

exports.useBeforeUnload = _useBeforeUnload3['default'];

var _useQueries2 = require('./useQueries');

var _useQueries3 = _interopRequireDefault(_useQueries2);

exports.useQueries = _useQueries3['default'];

var _Actions2 = require('./Actions');

var _Actions3 = _interopRequireDefault(_Actions2);

exports.Actions = _Actions3['default'];

// deprecated

var _enableBeforeUnload2 = require('./enableBeforeUnload');

var _enableBeforeUnload3 = _interopRequireDefault(_enableBeforeUnload2);

exports.enableBeforeUnload = _enableBeforeUnload3['default'];

var _enableQueries2 = require('./enableQueries');

var _enableQueries3 = _interopRequireDefault(_enableQueries2);

exports.enableQueries = _enableQueries3['default'];
var createLocation = _deprecate2['default'](_createLocation3['default'], 'Using createLocation without a history instance is deprecated; please use history.createLocation instead');
exports.createLocation = createLocation;
},{"./Actions":2,"./createBrowserHistory":8,"./createHashHistory":10,"./createLocation":12,"./createMemoryHistory":13,"./deprecate":14,"./enableBeforeUnload":15,"./enableQueries":16,"./useBasename":19,"./useBeforeUnload":20,"./useQueries":21}],18:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

function runTransitionHook(hook, location, callback) {
  var result = hook(location, callback);

  if (hook.length < 2) {
    // Assume the hook runs synchronously and automatically
    // call the callback with the return value.
    callback(result);
  } else {
    process.env.NODE_ENV !== 'production' ? _warning2['default'](result === undefined, 'You should not "return" in a transition hook with a callback argument; call the callback instead') : undefined;
  }
}

exports['default'] = runTransitionHook;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"_process":1,"warning":28}],19:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var _ExecutionEnvironment = require('./ExecutionEnvironment');

var _PathUtils = require('./PathUtils');

var _runTransitionHook = require('./runTransitionHook');

var _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);

var _deprecate = require('./deprecate');

var _deprecate2 = _interopRequireDefault(_deprecate);

function useBasename(createHistory) {
  return function () {
    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    var history = createHistory(options);

    var basename = options.basename;

    var checkedBaseHref = false;

    function checkBaseHref() {
      if (checkedBaseHref) {
        return;
      }

      // Automatically use the value of <base href> in HTML
      // documents as basename if it's not explicitly given.
      if (basename == null && _ExecutionEnvironment.canUseDOM) {
        var base = document.getElementsByTagName('base')[0];
        var baseHref = base && base.getAttribute('href');

        if (baseHref != null) {
          basename = baseHref;

          process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Automatically setting basename using <base href> is deprecated and will ' + 'be removed in the next major release. The semantics of <base href> are ' + 'subtly different from basename. Please pass the basename explicitly in ' + 'the options to createHistory') : undefined;
        }
      }

      checkedBaseHref = true;
    }

    function addBasename(location) {
      checkBaseHref();

      if (basename && location.basename == null) {
        if (location.pathname.indexOf(basename) === 0) {
          location.pathname = location.pathname.substring(basename.length);
          location.basename = basename;

          if (location.pathname === '') location.pathname = '/';
        } else {
          location.basename = '';
        }
      }

      return location;
    }

    function prependBasename(location) {
      checkBaseHref();

      if (!basename) return location;

      if (typeof location === 'string') location = _PathUtils.parsePath(location);

      var pname = location.pathname;
      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';
      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;
      var pathname = normalizedBasename + normalizedPathname;

      return _extends({}, location, {
        pathname: pathname
      });
    }

    // Override all read methods with basename-aware versions.
    function listenBefore(hook) {
      return history.listenBefore(function (location, callback) {
        _runTransitionHook2['default'](hook, addBasename(location), callback);
      });
    }

    function listen(listener) {
      return history.listen(function (location) {
        listener(addBasename(location));
      });
    }

    // Override all write methods with basename-aware versions.
    function push(location) {
      history.push(prependBasename(location));
    }

    function replace(location) {
      history.replace(prependBasename(location));
    }

    function createPath(location) {
      return history.createPath(prependBasename(location));
    }

    function createHref(location) {
      return history.createHref(prependBasename(location));
    }

    function createLocation(location) {
      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      return addBasename(history.createLocation.apply(history, [prependBasename(location)].concat(args)));
    }

    // deprecated
    function pushState(state, path) {
      if (typeof path === 'string') path = _PathUtils.parsePath(path);

      push(_extends({ state: state }, path));
    }

    // deprecated
    function replaceState(state, path) {
      if (typeof path === 'string') path = _PathUtils.parsePath(path);

      replace(_extends({ state: state }, path));
    }

    return _extends({}, history, {
      listenBefore: listenBefore,
      listen: listen,
      push: push,
      replace: replace,
      createPath: createPath,
      createHref: createHref,
      createLocation: createLocation,

      pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),
      replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')
    });
  };
}

exports['default'] = useBasename;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./ExecutionEnvironment":6,"./PathUtils":7,"./deprecate":14,"./runTransitionHook":18,"_process":1,"warning":28}],20:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var _ExecutionEnvironment = require('./ExecutionEnvironment');

var _DOMUtils = require('./DOMUtils');

var _deprecate = require('./deprecate');

var _deprecate2 = _interopRequireDefault(_deprecate);

function startBeforeUnloadListener(getBeforeUnloadPromptMessage) {
  function listener(event) {
    var message = getBeforeUnloadPromptMessage();

    if (typeof message === 'string') {
      (event || window.event).returnValue = message;
      return message;
    }
  }

  _DOMUtils.addEventListener(window, 'beforeunload', listener);

  return function () {
    _DOMUtils.removeEventListener(window, 'beforeunload', listener);
  };
}

/**
 * Returns a new createHistory function that can be used to create
 * history objects that know how to use the beforeunload event in web
 * browsers to cancel navigation.
 */
function useBeforeUnload(createHistory) {
  return function (options) {
    var history = createHistory(options);

    var stopBeforeUnloadListener = undefined;
    var beforeUnloadHooks = [];

    function getBeforeUnloadPromptMessage() {
      var message = undefined;

      for (var i = 0, len = beforeUnloadHooks.length; message == null && i < len; ++i) {
        message = beforeUnloadHooks[i].call();
      }return message;
    }

    function listenBeforeUnload(hook) {
      beforeUnloadHooks.push(hook);

      if (beforeUnloadHooks.length === 1) {
        if (_ExecutionEnvironment.canUseDOM) {
          stopBeforeUnloadListener = startBeforeUnloadListener(getBeforeUnloadPromptMessage);
        } else {
          process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'listenBeforeUnload only works in DOM environments') : undefined;
        }
      }

      return function () {
        beforeUnloadHooks = beforeUnloadHooks.filter(function (item) {
          return item !== hook;
        });

        if (beforeUnloadHooks.length === 0 && stopBeforeUnloadListener) {
          stopBeforeUnloadListener();
          stopBeforeUnloadListener = null;
        }
      };
    }

    // deprecated
    function registerBeforeUnloadHook(hook) {
      if (_ExecutionEnvironment.canUseDOM && beforeUnloadHooks.indexOf(hook) === -1) {
        beforeUnloadHooks.push(hook);

        if (beforeUnloadHooks.length === 1) stopBeforeUnloadListener = startBeforeUnloadListener(getBeforeUnloadPromptMessage);
      }
    }

    // deprecated
    function unregisterBeforeUnloadHook(hook) {
      if (beforeUnloadHooks.length > 0) {
        beforeUnloadHooks = beforeUnloadHooks.filter(function (item) {
          return item !== hook;
        });

        if (beforeUnloadHooks.length === 0) stopBeforeUnloadListener();
      }
    }

    return _extends({}, history, {
      listenBeforeUnload: listenBeforeUnload,

      registerBeforeUnloadHook: _deprecate2['default'](registerBeforeUnloadHook, 'registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead'),
      unregisterBeforeUnloadHook: _deprecate2['default'](unregisterBeforeUnloadHook, 'unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead')
    });
  };
}

exports['default'] = useBeforeUnload;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./DOMUtils":5,"./ExecutionEnvironment":6,"./deprecate":14,"_process":1,"warning":28}],21:[function(require,module,exports){
(function (process){
'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

var _queryString = require('query-string');

var _runTransitionHook = require('./runTransitionHook');

var _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);

var _PathUtils = require('./PathUtils');

var _deprecate = require('./deprecate');

var _deprecate2 = _interopRequireDefault(_deprecate);

var SEARCH_BASE_KEY = '$searchBase';

function defaultStringifyQuery(query) {
  return _queryString.stringify(query).replace(/%20/g, '+');
}

var defaultParseQueryString = _queryString.parse;

function isNestedObject(object) {
  for (var p in object) {
    if (Object.prototype.hasOwnProperty.call(object, p) && typeof object[p] === 'object' && !Array.isArray(object[p]) && object[p] !== null) return true;
  }return false;
}

/**
 * Returns a new createHistory function that may be used to create
 * history objects that know how to handle URL queries.
 */
function useQueries(createHistory) {
  return function () {
    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    var history = createHistory(options);

    var stringifyQuery = options.stringifyQuery;
    var parseQueryString = options.parseQueryString;

    if (typeof stringifyQuery !== 'function') stringifyQuery = defaultStringifyQuery;

    if (typeof parseQueryString !== 'function') parseQueryString = defaultParseQueryString;

    function addQuery(location) {
      if (location.query == null) {
        var search = location.search;

        location.query = parseQueryString(search.substring(1));
        location[SEARCH_BASE_KEY] = { search: search, searchBase: '' };
      }

      // TODO: Instead of all the book-keeping here, this should just strip the
      // stringified query from the search.

      return location;
    }

    function appendQuery(location, query) {
      var _extends2;

      var searchBaseSpec = location[SEARCH_BASE_KEY];
      var queryString = query ? stringifyQuery(query) : '';
      if (!searchBaseSpec && !queryString) {
        return location;
      }

      process.env.NODE_ENV !== 'production' ? _warning2['default'](stringifyQuery !== defaultStringifyQuery || !isNestedObject(query), 'useQueries does not stringify nested query objects by default; ' + 'use a custom stringifyQuery function') : undefined;

      if (typeof location === 'string') location = _PathUtils.parsePath(location);

      var searchBase = undefined;
      if (searchBaseSpec && location.search === searchBaseSpec.search) {
        searchBase = searchBaseSpec.searchBase;
      } else {
        searchBase = location.search || '';
      }

      var search = searchBase;
      if (queryString) {
        search += (search ? '&' : '?') + queryString;
      }

      return _extends({}, location, (_extends2 = {
        search: search
      }, _extends2[SEARCH_BASE_KEY] = { search: search, searchBase: searchBase }, _extends2));
    }

    // Override all read methods with query-aware versions.
    function listenBefore(hook) {
      return history.listenBefore(function (location, callback) {
        _runTransitionHook2['default'](hook, addQuery(location), callback);
      });
    }

    function listen(listener) {
      return history.listen(function (location) {
        listener(addQuery(location));
      });
    }

    // Override all write methods with query-aware versions.
    function push(location) {
      history.push(appendQuery(location, location.query));
    }

    function replace(location) {
      history.replace(appendQuery(location, location.query));
    }

    function createPath(location, query) {
      process.env.NODE_ENV !== 'production' ? _warning2['default'](!query, 'the query argument to createPath is deprecated; use a location descriptor instead') : undefined;

      return history.createPath(appendQuery(location, query || location.query));
    }

    function createHref(location, query) {
      process.env.NODE_ENV !== 'production' ? _warning2['default'](!query, 'the query argument to createHref is deprecated; use a location descriptor instead') : undefined;

      return history.createHref(appendQuery(location, query || location.query));
    }

    function createLocation(location) {
      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      var fullLocation = history.createLocation.apply(history, [appendQuery(location, location.query)].concat(args));
      if (location.query) {
        fullLocation.query = location.query;
      }
      return addQuery(fullLocation);
    }

    // deprecated
    function pushState(state, path, query) {
      if (typeof path === 'string') path = _PathUtils.parsePath(path);

      push(_extends({ state: state }, path, { query: query }));
    }

    // deprecated
    function replaceState(state, path, query) {
      if (typeof path === 'string') path = _PathUtils.parsePath(path);

      replace(_extends({ state: state }, path, { query: query }));
    }

    return _extends({}, history, {
      listenBefore: listenBefore,
      listen: listen,
      push: push,
      replace: replace,
      createPath: createPath,
      createHref: createHref,
      createLocation: createLocation,

      pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),
      replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')
    });
  };
}

exports['default'] = useQueries;
module.exports = exports['default'];
}).call(this,require('_process'))

},{"./PathUtils":7,"./deprecate":14,"./runTransitionHook":18,"_process":1,"query-string":26,"warning":28}],22:[function(require,module,exports){
var pSlice = Array.prototype.slice;
var objectKeys = require('./lib/keys.js');
var isArguments = require('./lib/is_arguments.js');

var deepEqual = module.exports = function (actual, expected, opts) {
  if (!opts) opts = {};
  // 7.1. All identical values are equivalent, as determined by ===.
  if (actual === expected) {
    return true;

  } else if (actual instanceof Date && expected instanceof Date) {
    return actual.getTime() === expected.getTime();

  // 7.3. Other pairs that do not both pass typeof value == 'object',
  // equivalence is determined by ==.
  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {
    return opts.strict ? actual === expected : actual == expected;

  // 7.4. For all other Object pairs, including Array objects, equivalence is
  // determined by having the same number of owned properties (as verified
  // with Object.prototype.hasOwnProperty.call), the same set of keys
  // (although not necessarily the same order), equivalent values for every
  // corresponding key, and an identical 'prototype' property. Note: this
  // accounts for both named and indexed properties on Arrays.
  } else {
    return objEquiv(actual, expected, opts);
  }
}

function isUndefinedOrNull(value) {
  return value === null || value === undefined;
}

function isBuffer (x) {
  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;
  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {
    return false;
  }
  if (x.length > 0 && typeof x[0] !== 'number') return false;
  return true;
}

function objEquiv(a, b, opts) {
  var i, key;
  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))
    return false;
  // an identical 'prototype' property.
  if (a.prototype !== b.prototype) return false;
  //~~~I've managed to break Object.keys through screwy arguments passing.
  //   Converting to array solves the problem.
  if (isArguments(a)) {
    if (!isArguments(b)) {
      return false;
    }
    a = pSlice.call(a);
    b = pSlice.call(b);
    return deepEqual(a, b, opts);
  }
  if (isBuffer(a)) {
    if (!isBuffer(b)) {
      return false;
    }
    if (a.length !== b.length) return false;
    for (i = 0; i < a.length; i++) {
      if (a[i] !== b[i]) return false;
    }
    return true;
  }
  try {
    var ka = objectKeys(a),
        kb = objectKeys(b);
  } catch (e) {//happens when one is a string literal and the other isn't
    return false;
  }
  // having the same number of owned properties (keys incorporates
  // hasOwnProperty)
  if (ka.length != kb.length)
    return false;
  //the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  //~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] != kb[i])
      return false;
  }
  //equivalent values for every corresponding key, and
  //~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!deepEqual(a[key], b[key], opts)) return false;
  }
  return typeof a === typeof b;
}

},{"./lib/is_arguments.js":23,"./lib/keys.js":24}],23:[function(require,module,exports){
var supportsArgumentsClass = (function(){
  return Object.prototype.toString.call(arguments)
})() == '[object Arguments]';

exports = module.exports = supportsArgumentsClass ? supported : unsupported;

exports.supported = supported;
function supported(object) {
  return Object.prototype.toString.call(object) == '[object Arguments]';
};

exports.unsupported = unsupported;
function unsupported(object){
  return object &&
    typeof object == 'object' &&
    typeof object.length == 'number' &&
    Object.prototype.hasOwnProperty.call(object, 'callee') &&
    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||
    false;
};

},{}],24:[function(require,module,exports){
exports = module.exports = typeof Object.keys === 'function'
  ? Object.keys : shim;

exports.shim = shim;
function shim (obj) {
  var keys = [];
  for (var key in obj) keys.push(key);
  return keys;
}

},{}],25:[function(require,module,exports){
(function (process){
/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */

'use strict';

/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var invariant = function(condition, format, a, b, c, d, e, f) {
  if (process.env.NODE_ENV !== 'production') {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }
  }

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error(
        'Minified exception occurred; use the non-minified dev environment ' +
        'for the full error message and additional helpful warnings.'
      );
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(
        format.replace(/%s/g, function() { return args[argIndex++]; })
      );
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
};

module.exports = invariant;

}).call(this,require('_process'))

},{"_process":1}],26:[function(require,module,exports){
'use strict';
var strictUriEncode = require('strict-uri-encode');

exports.extract = function (str) {
	return str.split('?')[1] || '';
};

exports.parse = function (str) {
	if (typeof str !== 'string') {
		return {};
	}

	str = str.trim().replace(/^(\?|#|&)/, '');

	if (!str) {
		return {};
	}

	return str.split('&').reduce(function (ret, param) {
		var parts = param.replace(/\+/g, ' ').split('=');
		// Firefox (pre 40) decodes `%3D` to `=`
		// https://github.com/sindresorhus/query-string/pull/37
		var key = parts.shift();
		var val = parts.length > 0 ? parts.join('=') : undefined;

		key = decodeURIComponent(key);

		// missing `=` should be `null`:
		// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
		val = val === undefined ? null : decodeURIComponent(val);

		if (!ret.hasOwnProperty(key)) {
			ret[key] = val;
		} else if (Array.isArray(ret[key])) {
			ret[key].push(val);
		} else {
			ret[key] = [ret[key], val];
		}

		return ret;
	}, {});
};

exports.stringify = function (obj) {
	return obj ? Object.keys(obj).sort().map(function (key) {
		var val = obj[key];

		if (val === undefined) {
			return '';
		}

		if (val === null) {
			return key;
		}

		if (Array.isArray(val)) {
			return val.slice().sort().map(function (val2) {
				return strictUriEncode(key) + '=' + strictUriEncode(val2);
			}).join('&');
		}

		return strictUriEncode(key) + '=' + strictUriEncode(val);
	}).filter(function (x) {
		return x.length > 0;
	}).join('&') : '';
};

},{"strict-uri-encode":27}],27:[function(require,module,exports){
'use strict';
module.exports = function (str) {
	return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {
		return '%' + c.charCodeAt(0).toString(16).toUpperCase();
	});
};

},{}],28:[function(require,module,exports){
(function (process){
/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */

'use strict';

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var warning = function() {};

if (process.env.NODE_ENV !== 'production') {
  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
        '`warning(condition, format, ...args)` requires a warning ' +
        'message argument'
      );
    }

    if (format.length < 10 || (/^[s\W]*$/).test(format)) {
      throw new Error(
        'The warning format should be able to uniquely identify this ' +
        'warning. Please, use a more descriptive format than: ' + format
      );
    }

    if (!condition) {
      var argIndex = 0;
      var message = 'Warning: ' +
        format.replace(/%s/g, function() {
          return args[argIndex++];
        });
      if (typeof console !== 'undefined') {
        console.error(message);
      }
      try {
        // This error was thrown as a convenience so that you can use this stack
        // to find the callsite that caused this warning to fire.
        throw new Error(message);
      } catch(x) {}
    }
  };
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":1}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), { username: this.props.signedIn.username }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), { username: this.props.user.username }, true);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.signedIn || this.props.signedOut) {
        return "auth-message show";
      } else {
        return "auth-message";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getMessage()
          ),
          _react2.default.createElement(
            "p",
            null,
            _react2.default.createElement(
              "button",
              { type: "button", className: "btn btn-default",
                onClick: this.refresh },
              gettext("Reload page")
            ),
            " ",
            _react2.default.createElement(
              "span",
              { className: "hidden-xs hidden-sm text-muted" },
              gettext("or press F5 key.")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement('img', {
    className: props.className || 'user-avatar',
    src: getSrc(props),
    title: gettext("User avatar")
  });
};

exports.getSrc = getSrc;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BASE_URL = $('base').attr('href') + 'user-avatar/'; /* jshint ignore:start */
function getSrc(props) {
  var size = props.size || 100; // jshint ignore:line
  var url = BASE_URL;

  if (props.user && props.user.id) {
    // just avatar hash, size and user id
    url += props.user.avatar_hash + '/' + size + '/' + props.user.id + '.png';
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    url += size + '.png';
  }

  return url;
}

},{"react":"react"}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getReasonMessage',
    value: function getReasonMessage() {
      /* jshint ignore:start */
      if (this.props.message.html) {
        return _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
            __html: this.props.message.html
          } });
      } else {
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.props.message.plain
        );
      }
      /* jshint ignore:end */
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.props.expires.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.props.expires.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-error page-error-banned' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'highlight_off'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              this.getReasonMessage(),
              _react2.default.createElement(
                'p',
                { className: 'message-footnote' },
                this.getExpirationMessage()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"moment":"moment","react":"react"}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Button = function (_React$Component) {
  _inherits(Button, _React$Component);

  function Button() {
    _classCallCheck(this, Button);

    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));
  }

  _createClass(Button, [{
    key: 'render',
    value: function render() {
      var className = 'btn ' + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += ' btn-loading';
        disabled = true;
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: this.props.onClick ? 'button' : 'submit',
          className: className,
          disabled: disabled,
          onClick: this.props.onClick },
        this.props.children,
        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return Button;
}(_react2.default.Component);

exports.default = Button;


Button.defaultProps = {
  className: "btn-default",

  type: "submit",

  loading: false,
  disabled: false,

  onClick: null
};

},{"./loader":56,"react":"react"}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'list-group-item category-subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'list-group-item category-subcategory';
      }
    }
  }, {
    key: 'getDescription',
    value: function getDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'subcategory-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_subcategorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'title-row' },
          _react2.default.createElement(
            'h4',
            null,
            _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
            _react2.default.createElement(
              'a',
              { href: this.props.category.absolute_url, className: 'item-title' },
              this.props.category.name
            )
          ),
          _react2.default.createElement(_stats2.default, { category: this.props.category })
        ),
        _react2.default.createElement(_lastActivity2.default, { category: this.props.category }),
        this.getDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-group category-subcategories' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./last-activity":35,"./read-icon":36,"./stats":38,"./subcategory-subcategories":39,"react":"react"}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySubcategories = require('./category-subcategories');

var _categorySubcategories2 = _interopRequireDefault(_categorySubcategories);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'panel panel-default panel-category panel-category-' + this.props.category.css_class;
      } else {
        return 'panel panel-default panel-category';
      }
    }
  }, {
    key: 'getHeadingClassName',
    value: function getHeadingClassName() {
      if (this.props.category.subcategories.length) {
        return 'panel-heading';
      } else {
        return 'panel-heading heading-alone';
      }
    }
  }, {
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'panel-body category-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_categorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { id: 'panel-category-' + this.props.category.id,
          className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: this.getHeadingClassName() },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading-inblock' },
            _react2.default.createElement(
              'div',
              { className: 'panel-heading-top-row' },
              _react2.default.createElement(
                'h3',
                { className: 'panel-title' },
                _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
                _react2.default.createElement(
                  'a',
                  { href: this.props.category.absolute_url, className: 'item-title' },
                  this.props.category.name
                )
              ),
              _react2.default.createElement(_stats2.default, { category: this.props.category })
            ),
            _react2.default.createElement(_lastActivity2.default, { category: this.props.category })
          )
        ),
        this.getCategoryDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-subcategories":33,"./last-activity":35,"./read-icon":36,"./stats":38,"react":"react"}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProtectedMessage = exports.PrivateMessage = exports.EmptyMessage = exports.LastPostMessage = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var THREAD_URL = '<a href="%(url)s" class="item-title thread-title">%(thread)s</a>';
var LAST_POST_URL = '<a href="%(url)s" class="last-title" title="%(absolute)s">%(relative)s</a>';

var LastPostMessage = exports.LastPostMessage = function (_React$Component) {
  _inherits(LastPostMessage, _React$Component);

  function LastPostMessage() {
    _classCallCheck(this, LastPostMessage);

    return _possibleConstructorReturn(this, (LastPostMessage.__proto__ || Object.getPrototypeOf(LastPostMessage)).apply(this, arguments));
  }

  _createClass(LastPostMessage, [{
    key: 'getLastPoster',
    value: function getLastPoster() {
      if (this.props.category.last_poster_url) {
        return interpolate(LAST_POSTER_URL, {
          url: (0, _escapeHtml2.default)(this.props.category.last_poster_url),
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      } else {
        return interpolate(LAST_POSTER_SPAN, {
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      }
    }
  }, {
    key: 'getLastThread',
    value: function getLastThread() {
      return interpolate(THREAD_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_thread_url),
        thread: (0, _escapeHtml2.default)(this.props.category.last_thread_title)
      }, true);
    }
  }, {
    key: 'getLastReplyDate',
    value: function getLastReplyDate() {
      return interpolate(LAST_POST_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_post_url),
        absolute: (0, _escapeHtml2.default)(this.props.category.last_post_on.format('LLL')),
        relative: (0, _escapeHtml2.default)(this.props.category.last_post_on.fromNow())
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('p', { className: 'category-last-post',
        dangerouslySetInnerHTML: { __html: interpolate((0, _escapeHtml2.default)(gettext("Last post in %(thread)s by %(user)s %(date)s")), {
            thread: this.getLastThread(),
            date: this.getLastReplyDate(),
            user: this.getLastPoster()
          }, true) } });
      /* jshint ignore:end */
    }
  }]);

  return LastPostMessage;
}(_react2.default.Component);

var EmptyMessage = exports.EmptyMessage = function (_React$Component2) {
  _inherits(EmptyMessage, _React$Component2);

  function EmptyMessage() {
    _classCallCheck(this, EmptyMessage);

    return _possibleConstructorReturn(this, (EmptyMessage.__proto__ || Object.getPrototypeOf(EmptyMessage)).apply(this, arguments));
  }

  _createClass(EmptyMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        gettext("This category is empty.")
      );
      /* jshint ignore:end */
    }
  }]);

  return EmptyMessage;
}(_react2.default.Component);

var PrivateMessage = exports.PrivateMessage = function (_React$Component3) {
  _inherits(PrivateMessage, _React$Component3);

  function PrivateMessage() {
    _classCallCheck(this, PrivateMessage);

    return _possibleConstructorReturn(this, (PrivateMessage.__proto__ || Object.getPrototypeOf(PrivateMessage)).apply(this, arguments));
  }

  _createClass(PrivateMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        ),
        gettext("This category is private. You can see only your own threads within it.")
      );
      /* jshint ignore:end */
    }
  }]);

  return PrivateMessage;
}(_react2.default.Component);

var ProtectedMessage = exports.ProtectedMessage = function (_React$Component4) {
  _inherits(ProtectedMessage, _React$Component4);

  function ProtectedMessage() {
    _classCallCheck(this, ProtectedMessage);

    return _possibleConstructorReturn(this, (ProtectedMessage.__proto__ || Object.getPrototypeOf(ProtectedMessage)).apply(this, arguments));
  }

  _createClass(ProtectedMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'highlight_off'
        ),
        gettext("This category is protected. You can't browse it's contents.")
      );
      /* jshint ignore:end */
    }
  }]);

  return ProtectedMessage;
}(_react2.default.Component);

var _class = function (_React$Component5) {
  _inherits(_class, _React$Component5);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.category.acl.can_browse) {
        if (!this.props.category.acl.can_see_all_threads) {
          /* jshint ignore:start */
          return _react2.default.createElement(PrivateMessage, null);
          /* jshint ignore:end */
        } else if (this.props.category.last_thread_title) {
          /* jshint ignore:start */
          return _react2.default.createElement(LastPostMessage, { category: this.props.category });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(EmptyMessage, null);
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(ProtectedMessage, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/escape-html":270,"react":"react"}],36:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.is_read) {
        return 'read-status item-read';
      } else {
        return 'read-status item-new';
      }
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts. (closed)");
        } else {
          return gettext("This category has new posts. (closed)");
        }
      } else {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts.");
        } else {
          return gettext("This category has new posts.");
        }
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return 'lock_outline';
        } else {
          return 'lock';
        }
      } else {
        if (this.props.category.is_read) {
          return 'chat_bubble_outline';
        } else {
          return 'chat_bubble';
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), title: this.getTitle() },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment2.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    };

    _this.state = {
      categories: _index2.default.get('CATEGORIES').map(hydrate)
    };

    _this.startPolling(_index2.default.get('CATEGORIES_API'));
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'categories',
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'categories-list' },
        this.state.categories.map(function (category) {
          return _react2.default.createElement(_category2.default, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick
  };
}

},{"../../index":202,"../../services/polls":261,"./category":34,"moment":"moment","react":"react"}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getThreadsCount",
    value: function getThreadsCount() {
      var string = ngettext("%(threads)s thread", "%(threads)s threads", this.props.category.threads);

      return interpolate(string, {
        'threads': this.props.category.threads
      }, true);
    }
  }, {
    key: "getPostsCount",
    value: function getPostsCount() {
      var string = ngettext("%(posts)s post", "%(posts)s posts", this.props.category.posts);

      return interpolate(string, {
        'posts': this.props.category.posts
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "ul",
        { className: "list-inline category-stats" },
        _react2.default.createElement(
          "li",
          { className: "category-threads" },
          this.getThreadsCount()
        ),
        _react2.default.createElement(
          "li",
          { className: "category-posts" },
          this.getPostsCount()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'subcategory';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'a',
          { href: this.props.category.absolute_url,
            className: this.getClassName() },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-inline subcategories-list' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./subcategory-subcategories":39,"react":"react"}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'select',
    {
      className: props.className || 'form-control',
      disabled: props.disabled || false,
      id: props.id || null,
      onChange: props.onChange,
      value: props.value
    },
    props.choices.map(function (item) {
      return _react2.default.createElement(
        'option',
        {
          disabled: item.disabled || false,
          key: item.value,
          value: item.value
        },
        '- - '.repeat(item.level) + item.label
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var BASE_URL = $('base').attr('href') + 'user-avatar';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.cropAvatar = function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        'isLoading': true
      });

      var avatarType = _this.props.upload ? 'crop_tmp' : 'crop_org';
      var cropit = $('.crop-form');

      _ajax2.default.post(_this.props.user.api_url.avatar, {
        'avatar': avatarType,
        'crop': {
          'offset': cropit.cropit('offset'),
          'zoom': cropit.cropit('zoom')
        }
      }).then(function (data) {
        _this.props.onComplete(data.avatar_hash, data.options);
        _snackbar2.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            'isLoading': false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getAvatarSize',
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_org.size;
      }
    }
  }, {
    key: 'getAvatarSecret',
    value: function getAvatarSecret() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.secret;
      } else {
        return this.props.options.crop_org.secret;
      }
    }
  }, {
    key: 'getAvatarHash',
    value: function getAvatarHash() {
      return this.props.upload || this.props.user.avatar_hash;
    }
  }, {
    key: 'getImagePath',
    value: function getImagePath() {
      return [BASE_URL, this.getAvatarSecret() + ':' + this.getAvatarHash(), this.props.user.id + '.png'].join('/');
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $('.crop-form');
      cropit.width(this.getAvatarSize());

      cropit.cropit({
        'width': this.getAvatarSize(),
        'height': this.getAvatarSize(),
        'imageState': {
          'src': this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit('zoom');
            var imageSize = cropit.cropit('imageSize');

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                'x': offsetX,
                'y': 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                'x': 0,
                'y': offsetY
              });
            } else {
              cropit.cropit('offset', {
                'x': 0,
                'y': 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_org.crop;
            if (crop) {
              cropit.cropit('zoom', crop.zoom);
              cropit.cropit('offset', {
                'x': crop.x,
                'y': crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      $('.crop-form').cropit('disable');
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-crop' },
          _react2.default.createElement(
            'div',
            { className: 'crop-form' },
            _react2.default.createElement('div', { className: 'cropit-preview' }),
            _react2.default.createElement('input', { type: 'range', className: 'cropit-image-zoom-input' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              { onClick: this.cropAvatar,
                loading: this.state.isLoading,
                className: 'btn-primary btn-block' },
              this.props.upload ? gettext("Set avatar") : gettext("Crop image")
            ),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.props.showIndex,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block' },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":253,"../../services/snackbar":263,"../avatar":30,"../button":32,"react":"react"}],42:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Gallery = exports.GalleryItem = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var GalleryItem = exports.GalleryItem = function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  function GalleryItem() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GalleryItem.__proto__ || Object.getPrototypeOf(GalleryItem)).call.apply(_ref, [this].concat(args))), _this), _this.select = function () {
      _this.props.select(_this.props.image);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(GalleryItem, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (this.props.selection === this.props.image) {
        if (this.props.disabled) {
          return 'btn btn-avatar btn-disabled avatar-selected';
        } else {
          return 'btn btn-avatar avatar-selected';
        }
      } else if (this.props.disabled) {
        return 'btn btn-avatar btn-disabled';
      } else {
        return 'btn btn-avatar';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button',
          className: this.getClassName(),
          disabled: this.props.disabled,
          onClick: this.select },
        _react2.default.createElement('img', { src: _index2.default.get('MEDIA_URL') + this.props.image })
      );
      /* jshint ignore:end */
    }
  }]);

  return GalleryItem;
}(_react2.default.Component);

var Gallery = exports.Gallery = function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).apply(this, arguments));
  }

  _createClass(Gallery, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'avatars-gallery' },
        _react2.default.createElement(
          'h3',
          null,
          this.props.name
        ),
        _react2.default.createElement(
          'div',
          { className: 'avatars-gallery-images' },
          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {
            return _react2.default.createElement(
              'div',
              { className: 'row', key: i },
              row.map(function (item, i) {
                return _react2.default.createElement(
                  'div',
                  { className: 'col-xs-3', key: i },
                  item ? _react2.default.createElement(GalleryItem, { image: item,
                    disabled: _this3.props.disabled,
                    select: _this3.props.select,
                    selection: _this3.props.selection }) : _react2.default.createElement('div', { className: 'blank-avatar' })
                );
              })
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Gallery;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.select = function (image) {
      _this4.setState({
        selection: image
      });
    };

    _this4.save = function () {
      if (_this4.state.isLoading) {
        return false;
      }

      _this4.setState({
        'isLoading': true
      });

      _ajax2.default.post(_this4.props.user.api_url.avatar, {
        avatar: 'galleries',
        image: _this4.state.selection
      }).then(function (response) {
        _this4.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this4.props.onComplete(response.avatar_hash, response.options);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this4.setState({
            'isLoading': false
          });
        } else {
          _this4.props.showError(rejection);
        }
      });
    };

    _this4.state = {
      'selection': null,
      'isLoading': false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      var _this5 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-gallery' },
          this.props.options.galleries.map(function (item, i) {
            return _react2.default.createElement(Gallery, { name: item.name,
              images: item.images,
              selection: _this5.state.selection,
              disabled: _this5.state.isLoading,
              select: _this5.select,
              key: i });
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-6 col-md-offset-3' },
              _react2.default.createElement(
                _button2.default,
                { onClick: this.save,
                  loading: this.state.isLoading,
                  disabled: !this.state.selection,
                  className: 'btn-primary btn-block' },
                this.state.selection ? gettext("Save choice") : gettext("Select avatar")
              ),
              _react2.default.createElement(
                _button2.default,
                { onClick: this.props.showIndex,
                  disabled: this.state.isLoading,
                  className: 'btn-default btn-block' },
                gettext("Cancel")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":202,"../../services/ajax":253,"../../services/snackbar":263,"../../utils/batch":267,"../button":32,"react":"react"}],43:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _loader = require('../loader');

var _loader2 = _interopRequireDefault(_loader);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setGravatar = function () {
      _this.callApi('gravatar');
    };

    _this.setGenerated = function () {
      _this.callApi('generated');
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'callApi',
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        'isLoading': true
      });

      _ajax2.default.post(this.props.user.api_url.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this2.props.onComplete(response.avatar_hash, response.options);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this2.setState({
            'isLoading': false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getGravatarButton',

    /* jshint ignore:end */

    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.setGravatar,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gravatar' },
          gettext("Download my Gravatar")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCropButton',
    value: function getCropButton() {
      if (this.props.options.crop_org) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showCrop,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-crop' },
          gettext("Re-crop uploaded image")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      if (this.props.options.upload) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showUpload,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-upload' },
          gettext("Upload new image")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getGalleryButton',
    value: function getGalleryButton() {
      if (this.props.options.galleries) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showGallery,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gallery' },
          gettext("Pick avatar from gallery")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getAvatarPreview',
    value: function getAvatarPreview() {
      /* jshint ignore:start */
      var userPeview = {
        id: this.props.user.id,
        avatar_hash: this.props.options.avatar_hash
      };
      /* jshint ignore:end */

      if (this.state.isLoading) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview preview-loading' },
          _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' }),
          _react2.default.createElement(_loader2.default, null)
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview' },
          _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-index' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-5' },
            this.getAvatarPreview()
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-md-7' },
            this.getGravatarButton(),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.setGenerated,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block btn-avatar-generate' },
              gettext("Generate my individual avatar")
            ),
            this.getCropButton(),
            this.getUploadButton(),
            this.getGalleryButton()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":253,"../../services/snackbar":263,"../avatar":30,"../button":32,"../loader":56,"react":"react"}],44:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChangeAvatarError = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('./index');

var _index2 = _interopRequireDefault(_index);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _gallery = require('./gallery');

var _gallery2 = _interopRequireDefault(_gallery);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _possibleConstructorReturn(this, (ChangeAvatarError.__proto__ || Object.getPrototypeOf(ChangeAvatarError)).apply(this, arguments));
  }

  _createClass(ChangeAvatarError, [{
    key: 'getErrorReason',
    value: function getErrorReason() {
      if (this.props.reason) {
        /* jshint ignore:start */
        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getErrorReason()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ChangeAvatarError;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this2, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this2), _this2.showError = function (error) {
      _this2.setState({
        error: error
      });
    }, _this2.showIndex = function () {
      _this2.setState({
        'component': _index2.default
      });
    }, _this2.showUpload = function () {
      _this2.setState({
        'component': _upload2.default
      });
    }, _this2.showCrop = function () {
      _this2.setState({
        'component': _crop2.default
      });
    }, _this2.showGallery = function () {
      _this2.setState({
        'component': _gallery2.default
      });
    }, _this2.completeFlow = function (avatarHash, options) {
      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, avatarHash));

      _this2.setState({
        'component': _index2.default,
        options: options
      });
    }, _temp), _possibleConstructorReturn(_this2, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      _ajax2.default.get(this.props.user.api_url.avatar).then(function (options) {
        _this3.setState({
          'component': _index2.default,
          'options': options,
          'error': null
        });
      }, function (rejection) {
        _this3.showError(rejection);
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getBody',

    /* jshint ignore:end */

    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          /* jshint ignore:start */
          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,
            reason: this.state.error.reason });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(this.state.component, { options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change your avatar")
            )
          ),
          this.getBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    'user': state.auth.user
  };
}

},{"../../reducers/users":252,"../../services/ajax":253,"../../services/store":264,"../modal-loader":58,"./crop":41,"./gallery":42,"./index":43,"./upload":45,"react":"react"}],45:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _fileSize = require('../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.pickFile = function () {
      document.getElementById('avatar-hidden-upload').click();
    };

    _this.uploadFile = function () {
      var image = document.getElementById('avatar-hidden-upload').files[0];

      var validationError = _this.validateFile(image);
      if (validationError) {
        _snackbar2.default.error(validationError);
        return;
      }

      _this.setState({
        image: image,
        'preview': URL.createObjectURL(image),
        'progress': 0
      });

      var data = new FormData();
      data.append('avatar', 'upload');
      data.append('image', image);

      _ajax2.default.upload(_this.props.user.api_url.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          'options': data.options,
          'uploaded': data.detail
        });
        _snackbar2.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            'isLoading': false,
            'image': null,
            'progress': 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      'image': null,
      'preview': null,
      'progress': 0,
      'uploaded': null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'validateFile',
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          'filesize': (0, _fileSize2.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }

    /* jshint ignore:start */

  }, {
    key: 'getUploadRequirements',

    /* jshint ignore:end */

    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });

      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        'files': extensions.join(', '),
        'limit': (0, _fileSize2.default)(options.limit)
      }, true);
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          _button2.default,
          { className: 'btn-pick-file',
            onClick: this.pickFile },
          _react2.default.createElement(
            'div',
            { className: 'material-icon' },
            'input'
          ),
          gettext("Select file")
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-muted' },
          this.getUploadRequirements(this.props.options.upload)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUploadProgressLabel',
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        'progress': this.state.progress
      }, true);
    }
  }, {
    key: 'getUploadProgress',
    value: function getUploadProgress() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          'div',
          { className: 'upload-progress' },
          _react2.default.createElement('img', { src: this.state.preview }),
          _react2.default.createElement(
            'div',
            { className: 'progress' },
            _react2.default.createElement(
              'div',
              { className: 'progress-bar', role: 'progressbar',
                'aria-valuenow': '{this.state.progress}',
                'aria-valuemin': '0', 'aria-valuemax': '100',
                style: { width: this.state.progress + '%' } },
              _react2.default.createElement(
                'span',
                { className: 'sr-only' },
                this.getUploadProgressLabel()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderUpload',
    value: function renderUpload() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement('input', { type: 'file',
          id: 'avatar-hidden-upload',
          className: 'hidden-file-upload',
          onChange: this.uploadFile }),
        this.state.image ? this.getUploadProgress() : this.getUploadButton(),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              { onClick: this.props.showIndex,
                disabled: !!this.state.image,
                className: 'btn-default btn-block' },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCrop',
    value: function renderCrop() {
      /* jshint ignore:start */
      return _react2.default.createElement(_crop2.default, { options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return this.state.uploaded ? this.renderCrop() : this.renderUpload();
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":253,"../../services/snackbar":263,"../../utils/file-size":271,"../button":32,"./crop":41,"react":"react"}],46:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { className: this.getClassName(),
          type: "button",
          onClick: this.props.toggleNav,
          "aria-haspopup": "true",
          "aria-expanded": this.props.dropdown ? 'true' : 'false' },
        _react2.default.createElement(
          "i",
          { className: "material-icon" },
          "menu"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],47:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!_2.default.get('user').acl.max_attachment_size) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachments' },
    _react2.default.createElement(_list2.default, props),
    _react2.default.createElement(_uploader2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _uploader = require('./uploader');

var _uploader2 = _interopRequireDefault(_uploader);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

; // jshint ignore:start

},{"../../..":202,"./list":48,"./uploader":50,"react":"react"}],48:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AttachmentError = exports.Attachment = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled editor-attachments-list' },
    props.attachments.map(function (item) {
      if (item.id) {
        return _react2.default.createElement(Attachment, _extends({ item: item, key: item.id }, props));
      } else if (item.error) {
        return _react2.default.createElement(AttachmentError, _extends({ item: item, key: item.key }, props));
      } else {
        return _react2.default.createElement(AttachmentUpload, _extends({ item: item, key: item.key }, props));
      }
    })
  );
};

exports.AttachmentUpload = AttachmentUpload;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STRONG = '<strong>%(name)s</strong>';

;

var Attachment = exports.Attachment = function (_React$Component) {
  _inherits(Attachment, _React$Component);

  function Attachment() {
    _classCallCheck(this, Attachment);

    return _possibleConstructorReturn(this, (Attachment.__proto__ || Object.getPrototypeOf(Attachment)).apply(this, arguments));
  }

  _createClass(Attachment, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-ready' },
        _react2.default.createElement(
          'a',
          {
            href: this.props.item.url.index,
            target: '_blank'
          },
          this.props.item.filename
        )
      );
    }
  }]);

  return Attachment;
}(_react2.default.Component);

;

var AttachmentError = exports.AttachmentError = function (_React$Component2) {
  _inherits(AttachmentError, _React$Component2);

  function AttachmentError() {
    var _ref;

    var _temp, _this2, _ret;

    _classCallCheck(this, AttachmentError);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = AttachmentError.__proto__ || Object.getPrototypeOf(AttachmentError)).call.apply(_ref, [this].concat(args))), _this2), _this2.onClick = function () {
      var filteredAttachments = _this2.props.attachments.filter(function (item) {
        return item.key !== _this2.props.item.key;
      });
      _this2.props.onAttachmentsChange(filteredAttachments);
    }, _temp), _possibleConstructorReturn(_this2, _ret);
  }

  _createClass(AttachmentError, [{
    key: 'render',
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml2.default)(this.props.item.filename)
      }, true);

      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + '%'
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-error' },
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-message' },
          _react2.default.createElement('h4', { dangerouslySetInnerHTML: { __html: title + ':' } }),
          _react2.default.createElement(
            'p',
            null,
            this.props.item.error
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm',
              onClick: this.onClick,
              type: 'button'
            },
            gettext("Dismiss")
          )
        )
      );
    }
  }]);

  return AttachmentError;
}(_react2.default.Component);

;

function AttachmentUpload(props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml2.default)(props.item.filename)
  }, true);

  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + '%'
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'editor-attachment-upload' },
    _react2.default.createElement(
      'div',
      { className: 'editor-attachment-progress-bar' },
      _react2.default.createElement('div', {
        className: 'editor-attachment-progress',
        style: { width: props.item.progress + '%' }
      })
    ),
    _react2.default.createElement('p', {
      className: 'editor-attachment-upload-message',
      dangerouslySetInnerHTML: { __html: message }
    })
  );
};

},{"../../..":202,"../../../utils/escape-html":270,"react":"react"}],49:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      document.getElementById('editor-upload-field').click();
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!_2.default.get('user').acl.max_attachment_size) {
        return null;
      }

      return _react2.default.createElement(
        'button',
        {
          className: 'btn ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: gettext('Upload file'),
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'file_upload'
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../..":202,"react":"react"}],50:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getRandomKey = getRandomKey;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (event) {
      var file = event.target.files[0];
      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append('upload', file);

      _ajax2.default.upload(_2.default.get('ATTACHMENTS_API'), data, function (progress) {
        upload.progress = progress;
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        Object.assign(upload, data);
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400) {
          upload.error = rejection.detail;
          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement('input', {
        id: 'editor-upload-field',
        onChange: this.onChange,
        type: 'file'
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function getRandomKey() {
  return 'upld-' + Math.round(new Date().getTime());
}

},{"../../..":202,"../../../services/ajax":253,"../../../services/snackbar":263,"react":"react"}],51:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Protect = Protect;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _uploadButton = require('./attachments/upload-button/');

var _uploadButton2 = _interopRequireDefault(_uploadButton);

var _markupPreview = require('./markup-preview');

var _markupPreview2 = _interopRequireDefault(_markupPreview);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onPreviewClick = function () {
      if (_this.state.isPreviewLoading) {
        return;
      }

      _this.setState({
        isPreviewLoading: true
      });

      _ajax2.default.post(_2.default.get('PARSE_MARKUP_API'), { post: _this.props.value }).then(function (data) {
        _modal2.default.show(_react2.default.createElement(_markupPreview2.default, { markup: data.parsed }));

        _this.setState({
          isPreviewLoading: false
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _this.setState({
          isPreviewLoading: false
        });
      });
    };

    _this.state = {
      isPreviewLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'editor-border' },
        _react2.default.createElement('textarea', {
          className: 'form-control',
          disabled: this.props.loading,
          onChange: this.props.onChange,
          rows: '7',
          value: this.props.value
        }),
        _react2.default.createElement(_attachments2.default, {
          attachments: this.props.attachments,
          onAttachmentsChange: this.props.onAttachmentsChange,
          placeholder: this.props.placeholder
        }),
        _react2.default.createElement(
          'div',
          { className: 'editor-footer' },
          _react2.default.createElement(_uploadButton2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading
          }),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              onClick: this.onPreviewClick,
              type: 'button'
            },
            gettext("Preview")
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-primary btn-sm pull-right',
              loading: this.props.loading
            },
            this.props.submitLabel || gettext("Post")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm pull-right',
              disabled: this.props.loading,
              onClick: this.props.onCancel,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(Protect, {
            canProtect: this.props.canProtect,
            disabled: this.props.loading,
            onProtect: this.props.onProtect,
            onUnprotect: this.props.onUnprotect,
            protect: this.props.protect
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Protect(props) {
  if (props.canProtect) {
    return _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm pull-right',
        disabled: props.disabled,
        onClick: props.protect ? props.onUnprotect : props.onProtect,
        title: props.protect ? gettext('Protected') : gettext('Protect'),
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        props.protect ? 'lock' : 'lock_outline'
      )
    );
  } else {
    return null;
  }
}

},{"../..":202,"../../services/ajax":253,"../../services/modal":259,"../../services/snackbar":263,"../button":32,"./attachments":47,"./attachments/upload-button/":49,"./markup-preview":52,"react":"react"}],52:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Preview message")
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'modal-body markup-preview' },
        _react2.default.createElement(_misagoMarkup2.default, { markup: props.markup })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../misago-markup":57,"react":"react"}],53:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isValidated',
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'form-group';
      if (this.isValidated()) {
        className += ' has-feedback';
        if (this.props.validation === null) {
          className += ' has-success';
        } else {
          className += ' has-error';
        }
      }
      return className;
    }
  }, {
    key: 'getFeedback',
    value: function getFeedback() {
      var _this2 = this;

      if (this.props.validation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'help-block errors' },
          this.props.validation.map(function (error, i) {
            return _react2.default.createElement(
              'p',
              { key: _this2.props.for + 'FeedbackItem' + i },
              error
            );
          })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFeedbackIcon',
    value: function getFeedbackIcon() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'material-icon form-control-feedback',
            'aria-hidden': 'true', key: this.props.for + 'FeedbackIcon' },
          this.props.validation ? 'clear' : 'check'
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFeedbackDescription',
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { id: this.props.for + '_status', className: 'sr-only' },
          this.props.validation ? gettext('(error)') : gettext('(success)')
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'label',
          { className: 'control-label ' + (this.props.labelClass || ''),
            htmlFor: this.props.for || '' },
          this.props.label + ':'
        ),
        _react2.default.createElement(
          'div',
          { className: this.props.controlClass || '' },
          this.props.children,
          this.getFeedbackIcon(),
          this.getFeedbackDescription(),
          this.getFeedback(),
          this.getHelpText(),
          this.props.extra || null
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],54:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _validators = require('../utils/validators');

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var validateRequired = (0, _validators.required)();

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.bindInput = function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    }, _this.changeValue = function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    }, _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();
      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({ isLoading: true });
        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({ isLoading: false });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({ isLoading: false });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({ isLoading: false });
        }
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'validate',
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };

      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: 'isValid',
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: 'validateField',
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };

      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',
    value: function clean() {
      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return null;
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: 'handleError',

    /* jshint ignore:end */
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/snackbar":263,"../utils/validators":279,"react":"react"}],55:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isActive',
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || '') + ' ' + (this.props.activeClassName || 'active');
      } else {
        return this.props.className || '';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        this.props.children
      );
      // jshint ignore:end
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],56:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.props.className || "loader" },
        _react2.default.createElement("div", { className: "loader-spinning-wheel" })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],57:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement("article", { className: "misago-markup", dangerouslySetInnerHTML: { __html: props.markup } });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],58:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-loader' },
        _react2.default.createElement(_loader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":56,"react":"react"}],59:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('./panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_PanelMessage) {
  _inherits(_class, _PanelMessage);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_panelMessage2.default);

exports.default = _class;

},{"./panel-message":72,"react":"react"}],60:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelLoader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-loader":71,"react":"react"}],61:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('../../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), { 'next_change': this.props.options.next_on.fromNow() }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelMessage2.default, { message: gettext("You can't change your username at the moment."),
          helpText: this.getHelpText() })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-message":72,"react":"react"}],62:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      username: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength({
          username_length_min: props.options.length_min
        }), validators.usernameMaxLength({
          username_length_max: props.options.length_max
        })]
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);

        phrases.push(interpolate(message, {
          'changes_left': this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes redeem after %(name_changes_expire)s day.", "Used changes redeem after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          'name_changes_expire': this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(' ') : null;
    }
  }, {
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      if (errors.username) {
        _snackbar2.default.error(errors.username[0]);
        return false;
      }if (this.state.username.trim() === this.props.user.username) {
        _snackbar2.default.info(gettext("Your new username is same as current one."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.username, {
        'username': this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.setState({
        'username': ''
      });

      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change username")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New username"), 'for': 'id_username',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                helpText: this.getHelpText() },
              _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('username'),
                value: this.state.username })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change username")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":253,"../../../services/snackbar":263,"../../../utils/validators":279,"../../button":32,"../../form":54,"../../form-group":53,"react":"react"}],63:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formLoading = require('./form-loading');

var _formLoading2 = _interopRequireDefault(_formLoading);

var _formLocked = require('./form-locked');

var _formLocked2 = _interopRequireDefault(_formLocked);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _root = require('../../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onComplete = function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)({ username: username, slug: slug }, _this.props.user, _this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar2.default.success(gettext("Your username has been changed successfully."));
    };

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle2.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax2.default.get(this.props.user.api_url.username), _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), { user: this.props.user.id })]).then(function (data) {
        _store2.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment2.default)(data[0].next_on) : null
          }
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getChangeForm',

    /* jshint ignore:end */

    value: function getChangeForm() {
      if (this.state.isLoaded) {
        if (this.state.options.changes_left > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_form2.default, { user: this.props.user,
            options: this.state.options,
            complete: this.onComplete });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_formLocked2.default, { options: this.state.options });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_formLoading2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        this.getChangeForm(),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          changes: this.props['username-history'] })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":202,"../../../reducers/username-history":251,"../../../reducers/users":252,"../../../services/ajax":253,"../../../services/page-title":260,"../../../services/snackbar":263,"../../../services/store":264,"../../username-history/root":184,"./form":62,"./form-loading":60,"./form-locked":61,"moment":"moment","react":"react"}],64:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _yesNoSwitch = require('../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _auth = require('../../reducers/auth');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,

      'is_hiding_presence': props.user.is_hiding_presence,
      'limits_private_thread_invites_to': props.user.limits_private_thread_invites_to,
      'subscribe_to_started_threads': props.user.subscribe_to_started_threads,
      'subscribe_to_replied_threads': props.user.subscribe_to_replied_threads,

      'errors': {}
    };

    _this.privateThreadInvitesChoices = [{
      'value': 0,
      'icon': 'help_outline',
      'label': gettext("Everybody")
    }, {
      'value': 1,
      'icon': 'done_all',
      'label': gettext("Users I follow")
    }, {
      'value': 2,
      'icon': 'highlight_off',
      'label': gettext("Nobody")
    }];

    _this.subscribeToChoices = [{
      'value': 0,
      'icon': 'star_border',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'star_half',
      'label': gettext("Notify")
    }, {
      'value': 2,
      'icon': 'star',
      'label': gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _store2.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));
      _snackbar2.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change forum options")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Privacy settings")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Hide my presence"),
                  helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
                  'for': 'id_is_hiding_presence',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_hiding_presence',
                  disabled: this.state.isLoading,
                  iconOn: 'visibility_off',
                  iconOff: 'visibility',
                  labelOn: gettext("Hide my presence from other users"),
                  labelOff: gettext("Show my presence to other users"),
                  onChange: this.bindInput('is_hiding_presence'),
                  value: this.state.is_hiding_presence })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Private thread invitations"),
                  'for': 'id_limits_private_thread_invites_to',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_limits_private_thread_invites_to',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('limits_private_thread_invites_to'),
                  value: this.state.limits_private_thread_invites_to,
                  choices: this.privateThreadInvitesChoices })
              )
            ),
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Automatic subscriptions")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Threads I start"),
                  'for': 'id_subscribe_to_started_threads',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_subscribe_to_started_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_started_threads'),
                  value: this.state.subscribe_to_started_threads,
                  choices: this.subscribeToChoices })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Threads I reply to"),
                  'for': 'id_subscribe_to_replied_threads',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_subscribe_to_replied_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_replied_threads'),
                  value: this.state.subscribe_to_replied_threads,
                  choices: this.subscribeToChoices })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Save changes")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../reducers/auth":242,"../../services/ajax":253,"../../services/page-title":260,"../../services/snackbar":263,"../../services/store":264,"../button":32,"../form":54,"../form-group":53,"../select":120,"../yes-no-switch":201,"react":"react"}],65:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.options.map(function (option) {
          return _react2.default.createElement(
            _reactRouter.Link,
            { to: _this2.props.baseUrl + option.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: option.component },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              option.icon
            ),
            option.name
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      var _this4 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        this.props.options.map(function (option) {
          return _react2.default.createElement(
            _li2.default,
            { path: _this4.props.baseUrl + option.component + '/',
              key: option.component },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _this4.props.baseUrl + option.component + '/',
                onClick: _this4.props.hideNav },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                option.icon
              ),
              option.name
            )
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../../index":202,"../li":55,"react":"react","react-router":"react-router"}],66:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _forumOptions = require('./forum-options');

var _forumOptions2 = _interopRequireDefault(_forumOptions);

var _root = require('./change-username/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./sign-in-credentials/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-options' },
        _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'h1',
              { className: 'pull-left' },
              gettext("Change your options")
            ),
            _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.toggleNav,
              dropdown: this.state.dropdown })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { options: _index2.default.get('USER_OPTIONS'),
            baseUrl: _index2.default.get('USERCP_URL'),
            hideNav: this.hideNav })
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(_navs.SideNav, { options: _index2.default.get('USER_OPTIONS'),
                baseUrl: _index2.default.get('USERCP_URL') })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'username-history': store['username-history']
  };
}

function paths() {
  return [{
    path: _index2.default.get('USERCP_URL') + 'forum-options/',
    component: (0, _reactRedux.connect)(select)(_forumOptions2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'change-username/',
    component: (0, _reactRedux.connect)(select)(_root2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'sign-in-credentials/',
    component: (0, _reactRedux.connect)(select)(_root4.default)
  }];
}

},{"../../index":202,"../dropdown-toggle":46,"../with-dropdown":200,"./change-username/root":63,"./forum-options":64,"./navs":65,"./sign-in-credentials/root":69,"react":"react","react-redux":"react-redux"}],67:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_email: '',
      password: '',

      validators: {
        new_email: [validators.email()],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_email) {
        _snackbar2.default.error(errors.new_email[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_email: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar2.default.error(rejection.new_email);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change e-mail address")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New e-mail"), 'for': 'id_new_email',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'text', id: 'id_new_email', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_email'),
                value: this.state.new_email })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change e-mail")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":253,"../../../services/snackbar":263,"../../../utils/validators":279,"../../button":32,"../../form":54,"../../form-group":53,"react":"react"}],68:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_password: '',
      repeat_password: '',
      password: '',

      validators: {
        new_password: [validators.passwordMinLength(_index2.default.get('SETTINGS'))],
        repeat_password: [],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_password) {
        _snackbar2.default.error(errors.new_password[0]);
        return false;
      }

      if (this.state.new_password.trim() !== this.state.repeat_password.trim()) {
        _snackbar2.default.error(gettext("New passwords are different."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_password: '',
        repeat_password: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar2.default.error(rejection.new_password);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change password")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New password"), 'for': 'id_new_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_new_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_password'),
                value: this.state.new_password })
            ),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Repeat password"), 'for': 'id_repeat_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_repeat_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('repeat_password'),
                value: this.state.repeat_password })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change password")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":202,"../../../services/ajax":253,"../../../services/snackbar":263,"../../../utils/validators":279,"../../button":32,"../../form":54,"../../form-group":53,"react":"react"}],69:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changeEmail = require('./change-email');

var _changeEmail2 = _interopRequireDefault(_changeEmail);

var _changePassword = require('./change-password');

var _changePassword2 = _interopRequireDefault(_changePassword);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_changeEmail2.default, { user: this.props.user }),
        _react2.default.createElement(_changePassword2.default, { user: this.props.user }),
        _react2.default.createElement(
          'p',
          { className: 'message-line' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          ),
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },
            gettext("Change forgotten password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":202,"../../../services/page-title":260,"./change-email":67,"./change-password":68,"react":"react"}],70:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _stringCount = require('../utils/string-count');

var _stringCount2 = _interopRequireDefault(_stringCount);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount2.default)(this.props.copy, '<p') === 1 && this.props.copy.indexOf('<br') === -1) {
          return 'page-lead lead';
        }
      }

      return 'page-lead';
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: this.getClassName(), dangerouslySetInnerHTML: {
            __html: this.props.copy
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../utils/string-count":278,"react":"react"}],71:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel-body panel-body-loading' },
        _react2.default.createElement(_loader2.default, { className: 'loader loader-spaced' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":56,"react":"react"}],72:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "panel-body panel-message-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],73:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LABELS = exports.STYLES = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];

var LABELS = exports.LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this._score = 0;
    _this._password = null;
    _this._inputs = [];
    return _this;
  }

  _createClass(_class, [{
    key: 'getScore',
    value: function getScore(password, inputs) {
      var _this2 = this;

      var cacheStale = false;

      if (password.trim() !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this2._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn2.default.scorePassword(password, inputs);
        this._password = password.trim();
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var score = this.getScore(this.props.password, this.props.inputs);

      return _react2.default.createElement(
        'div',
        { className: 'help-block password-strength' },
        _react2.default.createElement(
          'div',
          { className: 'progress' },
          _react2.default.createElement(
            'div',
            { className: "progress-bar " + STYLES[score],
              style: { width: 20 + 20 * score + '%' },
              role: 'progress-bar',
              'aria-valuenow': score,
              'aria-valuemin': '0',
              'aria-valuemax': '4' },
            _react2.default.createElement(
              'span',
              { className: 'sr-only' },
              LABELS[score]
            )
          )
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-small' },
          LABELS[score]
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/zxcvbn":265,"react":"react"}],74:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post,
        protect: data.is_protected,

        canProtect: data.can_protect
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onProtect = function () {
      _this.setState({
        protect: true
      });
    };

    _this.onUnprotect = function () {
      _this.setState({
        protect: false
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],
      protect: false,

      canProtect: false,

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.put(this.props.submit, {
        post: this.state.post,
        protect: this.state.protect
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Reply has been edited."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  canProtect: this.state.canProtect,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  onProtect: this.onProtect,
                  onUnprotect: this.onUnprotect,
                  protect: this.state.protect,
                  submitLabel: gettext("Edit reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":253,"../../services/posting":262,"../../services/snackbar":263,"../editor":51,"../form":54,"./utils/container":78,"./utils/loader":79,"./utils/message":80,"./utils/validators":82,"react":"react"}],75:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.mode === 'START') {
    return _react2.default.createElement(_start2.default, props);
  } else if (props.mode === 'REPLY') {
    return _react2.default.createElement(_reply2.default, props);
  } else if (props.mode === 'EDIT') {
    return _react2.default.createElement(_edit2.default, props);
  } else {
    return null;
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _start = require('./start');

var _start2 = _interopRequireDefault(_start);

var _reply = require('./reply');

var _reply2 = _interopRequireDefault(_reply);

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./edit":74,"./reply":76,"./start":77,"react":"react"}],76:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post ? '[quote]\n' + data.post + '\n[/quote]' : ''
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        post: this.state.post
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your reply has been posted."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":253,"../../services/posting":262,"../../services/snackbar":263,"../editor":51,"../form":54,"./utils/container":78,"./utils/loader":79,"./utils/message":80,"./utils/validators":82,"react":"react"}],77:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySelect = require('../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _options = require('./utils/options');

var _options2 = _interopRequireDefault(_options);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null;

      // hydrate categories, extract posting options
      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,

        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard thread?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onTitleChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onCategoryChange = function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      });

      // if selected pin is greater than allowed, reduce it
      var pin = _this.state.pin;
      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,

        pin: pin
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.onClose = function () {
      _this.changeValue('close', true);
    };

    _this.onOpen = function () {
      _this.changeValue('close', false);
    };

    _this.onPinGlobally = function () {
      _this.changeValue('pin', 2);
    };

    _this.onPinLocally = function () {
      _this.changeValue('pin', 1);
    };

    _this.onUnpin = function () {
      _this.changeValue('pin', 0);
    };

    _this.onHide = function () {
      _this.changeValue('hide', 1);
    };

    _this.onUnhide = function () {
      _this.changeValue('hide', 0);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      showOptions: false,
      categoryOptions: null,

      title: '',
      category: props.category || null,
      categories: [],
      post: '',
      attachments: [],
      close: false,
      hide: false,
      pin: 0,

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form', withFirstRow: true },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'row first-row' },
              _react2.default.createElement(
                'div',
                { className: this.state.showOptions ? 'col-md-6' : 'col-md-8' },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  onChange: this.onTitleChange,
                  placeholder: gettext("Thread title"),
                  type: 'text',
                  value: this.state.title
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-md-4' },
                _react2.default.createElement(_categorySelect2.default, {
                  choices: this.state.categories,
                  disabled: this.state.isLoading,
                  onChange: this.onCategoryChange,
                  value: this.state.category
                })
              ),
              _react2.default.createElement(_options2.default, {
                close: this.state.close,
                disabled: this.state.isLoading,
                hide: this.state.hide,
                onClose: this.onClose,
                onHide: this.onHide,
                onOpen: this.onOpen,
                onPinGlobally: this.onPinGlobally,
                onPinLocally: this.onPinLocally,
                onUnhide: this.onUnhide,
                onUnpin: this.onUnpin,
                options: this.state.categoryOptions,
                pin: this.state.pin,
                showOptions: this.state.showOptions
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post thread"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":253,"../../services/posting":262,"../../services/snackbar":263,"../category-select":40,"../editor":51,"../form":54,"./utils/container":78,"./utils/loader":79,"./utils/message":80,"./utils/options":81,"./utils/validators":82,"react":"react"}],78:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "div",
      { className: "container" },
      props.children
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],79:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-loader' },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":56,"./container":78,"react":"react"}],80:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        null,
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        props.message
      ),
      _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-default', onClick: _posting2.default.close },
        gettext("Dismiss")
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../services/posting":262,"./container":78,"react":"react"}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.showOptions) {
    return _react2.default.createElement(
      "div",
      { className: "col-md-2 posting-options" },
      _react2.default.createElement(PinOptions, {
        disabled: props.disabled,
        onPinGlobally: props.onPinGlobally,
        onPinLocally: props.onPinLocally,
        onUnpin: props.onUnpin,
        pin: props.pin,
        show: props.options.pin
      }),
      _react2.default.createElement(HideOptions, {
        disabled: props.disabled,
        hide: props.hide,
        onHide: props.onHide,
        onUnhide: props.onUnhide,
        show: props.options.hide
      }),
      _react2.default.createElement(CloseOptions, {
        close: props.close,
        disabled: props.disabled,
        onClose: props.onClose,
        onOpen: props.onOpen,
        show: props.options.close
      })
    );
  } else {
    return null;
  }
};

exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function CloseOptions(props) {
  if (props.show) {
    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: props.close ? props.onOpen : props.onClose,
        title: props.close ? gettext('Closed') : gettext('Open'),
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.close ? 'lock' : 'lock_outline'
      )
    );
  } else {
    return null;
  }
}

function HideOptions(props) {
  if (props.show) {
    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: props.hide ? props.onUnhide : props.onHide,
        title: props.hide ? gettext('Hidden') : gettext('Not hidden'),
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.hide ? 'visibility_off' : 'visibility'
      )
    );
  } else {
    return null;
  }
}

function PinOptions(props) {
  if (props.show) {
    var icon = null;
    var onClick = null;
    var tooltip = null;

    switch (props.pin) {
      case 0:
        icon = 'radio_button_unchecked';
        onClick = props.onPinLocally;
        tooltip = gettext("Unpinned");
        break;

      case 1:
        icon = 'info_outline';
        onClick = props.onPinGlobally;
        tooltip = gettext("Pinned locally");

        if (props.show == 2) {
          onClick = props.onPinGlobally;
        } else {
          onClick = props.onUnpin;
        }

        break;

      case 2:
        icon = 'info';
        onClick = props.onUnpin;
        tooltip = gettext("Pinned globally");
        break;
    }

    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: onClick,
        title: tooltip,
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        icon
      )
    );
  } else {
    return null;
  }
}

},{"react":"react"}],82:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require('../../../utils/validators');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_2.default.get('SETTINGS').post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":202,"../../../utils/validators":279}],83:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'li',
      { className: 'event-controls' },
      _react2.default.createElement(Hide, props),
      _react2.default.createElement(Unhide, props),
      _react2.default.createElement(Delete, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function isVisible(acl) {
  return acl.can_hide;
}

var Hide = exports.Hide = function (_React$Component) {
  _inherits(Hide, _React$Component);

  function Hide() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment2.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.absolute_url
        })
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': true };

      _ajax2.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  function Unhide() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _store2.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': false };

      _ajax2.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));
      if (decision) {
        _this3.delete();
      }
    }, _this3.delete = function () {
      _store2.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax2.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar2.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-link', onClick: this.onClick },
        gettext("Delete")
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/post":243,"../../../services/ajax":253,"../../../services/snackbar":263,"../../../services/store":264,"moment":"moment","react":"react"}],84:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-avatar' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      ICON[props.post.event_type]
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: 'edit',

  pinned_globally: 'bookmark',
  pinned_locally: 'bookmark_border',
  unpoinned: 'panorama_fish_eye',

  moved: 'arrow_forward',
  merged: 'call_merge',

  approved: 'done',

  opened: 'lock_open',
  closed: 'lock_outline',

  unhid: 'visibility',
  hid: 'visibility_off'
}; /* jshint ignore:start */

},{"react":"react"}],85:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'event';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'event post-hidden';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(_icon2.default, props),
      _react2.default.createElement(
        _waypoint2.default,
        { className: 'post-body', post: props.post },
        _react2.default.createElement(_message2.default, props),
        _react2.default.createElement(_info2.default, props)
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _info = require('./info');

var _info2 = _interopRequireDefault(_info);

var _message = require('./message');

var _message2 = _interopRequireDefault(_message);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../waypoint":101,"./icon":84,"./info":86,"./message":87,"react":"react"}],86:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-inline event-info' },
    _react2.default.createElement(Hidden, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(Ip, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.Hidden = Hidden;
exports.Poster = Poster;
exports.Ip = Ip;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>'; /* jshint ignore:start */

var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
      relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
    }, true);

    var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);

    return _react2.default.createElement('li', { className: 'event-hidden-message', dangerouslySetInnerHTML: { __html: message } });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.post.poster.absolute_url),
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml2.default)(props.post.url.index),
    absolute: (0, _escapeHtml2.default)(props.post.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.posted_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);

  return _react2.default.createElement('li', { className: 'event-posters', dangerouslySetInnerHTML: { __html: message } });
}

function Ip(props) {
  if (props.user.acl.can_see_users_ips) {
    return _react2.default.createElement(
      'li',
      { className: 'event-ip' },
      _react2.default.createElement(
        'abbr',
        { title: props.post.poster_ip },
        gettext("IP recorded")
      )
    );
  } else {
    return null;
  }
}

},{"../../../utils/escape-html":270,"./controls":83,"react":"react"}],87:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (MESSAGE[props.post.event_type]) {
    return _react2.default.createElement(
      'p',
      { className: 'event-message' },
      MESSAGE[props.post.event_type]
    );
  } else if (props.post.event_type === 'changed_title') {
    return _react2.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === 'moved') {
    return _react2.default.createElement(Moved, props);
  } else if (props.post.event_type === 'merged') {
    return _react2.default.createElement(Merged, props);
  } else {
    return null;
  }
};

exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),

  approved: gettext("Thread has been approved."),

  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),

  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden.")
};

var FROM_CATEGORY = '<a href="%(url)s" class="item-title">%(name)s</a>';
var OLD_TITLE = '<span class="item-title">%(old_title)s</span>';
var MERGED_THREAD = '<span class="item-title">%(merged_thread)s</span>';

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(OLD_TITLE, {
    old_title: (0, _escapeHtml2.default)(props.post.event_context.old_title)
  }, true);

  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(FROM_CATEGORY, {
    url: (0, _escapeHtml2.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.from_category.name)
  }, true);

  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(MERGED_THREAD, {
    merged_thread: (0, _escapeHtml2.default)(props.post.event_context.merged_thread)
  }, true);

  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":270,"react":"react"}],88:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (props.posts.isLoaded) {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-ready' },
      props.posts.results.map(function (post) {
        return _react2.default.createElement(ListItem, _extends({ key: post.id, post: post }, props));
      })
    );
  } else {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-preview' },
      _react2.default.createElement(_preview2.default, null)
    );
  }
};

exports.ListItem = ListItem;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _event = require('./event');

var _event2 = _interopRequireDefault(_event);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _preview = require('./post/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ListItem(props) {
  if (props.post.is_event) {
    return _react2.default.createElement(_event2.default, props);
  } else {
    return _react2.default.createElement(_post2.default, props);
  }
}

},{"./event":85,"./post":98,"./post/preview":99,"react":"react"}],89:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return _react2.default.createElement(Hidden, props);
  } else if (props.post.parsed) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Default(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body', post: props.post },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.parsed })
  );
}

function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);

  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body panel-body-hidden', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post is hidden. You cannot not see its contents.")
    ),
    _react2.default.createElement('p', { className: 'text-muted', dangerouslySetInnerHTML: { __html: message } })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body panel-body-invalid', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../utils/escape-html":270,"../../misago-markup":57,"../waypoint":101,"react":"react"}],90:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

  var previousState = {
    is_unapproved: props.post.is_unapproved
  };

  patch(props, ops, previousState);
}

function protect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function unprotect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function hide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment2.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.absolute_url
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };

  patch(props, ops, previousState);
}

function unhide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

  var previousState = {
    is_hidden: props.post.is_hidden
  };

  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax2.default.patch(props.post.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  _store2.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax2.default.delete(props.post.api.index).then(function () {
    _snackbar2.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

},{"../../../../reducers/post":243,"../../../../services/ajax":253,"../../../../services/snackbar":263,"../../../../services/store":264,"moment":"moment"}],91:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_approve && this.props.post.is_unapproved) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Approve")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component2) {
  _inherits(Move, _React$Component2);

  function Move() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Move);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this2.props));
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Move")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component3) {
  _inherits(Split, _React$Component3);

  function Split() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Split);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Split")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component4) {
  _inherits(Protect, _React$Component4);

  function Protect() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Protect);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      moderation.protect(_this4.props);
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_protect && !this.props.post.is_protected) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Protect")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component5) {
  _inherits(Unprotect, _React$Component5);

  function Unprotect() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Unprotect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.unprotect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_protect && this.props.post.is_protected) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Remove protection")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component6) {
  _inherits(Hide, _React$Component6);

  function Hide() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Hide);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.hide(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_hide && !this.props.post.is_hidden) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Hide")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component7) {
  _inherits(Unhide, _React$Component7);

  function Unhide() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Unhide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.unhide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_unhide && this.props.post.is_hidden) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Unhide")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component8) {
  _inherits(Delete, _React$Component8);

  function Delete() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Delete);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.remove(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_delete) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Delete")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":259,"./actions":90,"./move":93,"./split":94,"react":"react"}],92:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'div',
      { className: 'pull-right dropdown' },
      _react2.default.createElement(
        'button',
        {
          'aria-expanded': 'true',
          'aria-haspopup': 'true',
          className: 'btn btn-default btn-icon dropdown-toggle',
          'data-toggle': 'dropdown',
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'expand_more'
        )
      ),
      _react2.default.createElement(_dropdown2.default, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
} /* jshint ignore:start */

},{"./dropdown":91,"react":"react"}],93:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move post to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move post")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move post")
    )
  );
}

},{"../../../../reducers/post":243,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"../../../button":32,"../../../form":54,"../../../form-group":53,"react":"react"}],94:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_URL')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split post")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move this post at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split post into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":243,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"../../../../utils/validators":279,"../../../button":32,"../../../category-select":40,"../../../form":54,"../../../form-group":53,"../../../modal-loader":58,"../../../select":120,"react":"react"}],95:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagHidden(props) {
  if (isVisible(props.post) && props.post.is_hidden) {
    return _react2.default.createElement(
      "div",
      { className: "post-status-message post-status-hidden" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "visibility_off"
      ),
      _react2.default.createElement(
        "p",
        null,
        gettext("This post is hidden. Only users with permission may see its contents.")
      )
    );
  } else {
    return null;
  }
} /* jshint ignore:start */
function FlagUnapproved(props) {
  if (isVisible(props.post) && props.post.is_unapproved) {
    return _react2.default.createElement(
      "div",
      { className: "post-status-message post-status-unapproved" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "remove_circle_outline"
      ),
      _react2.default.createElement(
        "p",
        null,
        gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")
      )
    );
  } else {
    return null;
  }
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],96:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Edit = exports.Reply = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post)) {
    return _react2.default.createElement(
      'div',
      { className: 'panel-footer post-footer' },
      _react2.default.createElement(Likes, props),
      _react2.default.createElement(Like, props),
      _react2.default.createElement(Reply, props),
      _react2.default.createElement(Edit, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;
exports.Likes = Likes;
exports.Like = Like;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes || post.acl.can_like);
}

function Likes(props) {
  if (props.post.acl.can_see_likes) {
    return _react2.default.createElement(
      'button',
      { type: 'button', className: 'btn btn-likes pull-left', disabled: 'disabled' },
      'Likes'
    );
  } else {
    return null;
  }
}

function Like(props) {
  if (props.post.acl.can_like) {
    return _react2.default.createElement(
      'button',
      { type: 'button', className: 'btn btn-like pull-left', disabled: 'disabled' },
      gettext("Like")
    );
  } else {
    return null;
  }
}

var Reply = exports.Reply = function (_React$Component) {
  _inherits(Reply, _React$Component);

  function Reply() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Reply);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Reply.__proto__ || Object.getPrototypeOf(Reply)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index,

        context: {
          reply: _this.props.post.id
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Reply, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-primary pull-right', onClick: this.onClick },
          gettext("Reply")
        );
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        mode: 'EDIT',

        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-default pull-right', onClick: this.onClick },
          gettext("Edit")
        );
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react2.default.Component);

},{"../../../services/posting":262,"react":"react"}],97:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'panel-heading post-heading' },
    _react2.default.createElement(PosterStatus, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(PosterRank, props),
    _react2.default.createElement(PostedOn, props),
    _react2.default.createElement(_select2.default, props),
    _react2.default.createElement(_controls2.default, props),
    _react2.default.createElement(ProtectedLabel, props),
    _react2.default.createElement(UnreadLabel, props)
  );
};

exports.PosterStatus = PosterStatus;
exports.Poster = Poster;
exports.PosterRank = PosterRank;
exports.PostedOn = PostedOn;
exports.UnreadLabel = UnreadLabel;
exports.ProtectedLabel = ProtectedLabel;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../user-status');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function PosterStatus(props) {
  if (!props.post.poster) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    {
      className: (0, _userStatus.getStatusClassName)(props.post.poster.status),
      title: (0, _userStatus.getStatusDescription)(props.post.poster, props.post.poster.status)
    },
    _react2.default.createElement(_userStatus.StatusIcon, {
      status: props.post.poster.status,
      user: props.post.poster
    })
  );
} /* jshint ignore:start */
function Poster(props) {
  if (props.post.poster) {
    return _react2.default.createElement(
      'a',
      { className: 'item-title', href: props.post.poster.absolute_url },
      props.post.poster.username
    );
  } else {
    return _react2.default.createElement(
      'strong',
      { className: 'item-title' },
      props.post.poster_name
    );
  }
}

function PosterRank(props) {
  if (props.post.poster) {
    if (!props.post.poster.rank.is_default) {
      var rankClass = 'label-' + (props.post.poster.rank.css_class || 'default');

      if (props.post.poster.rank.is_tab) {
        return _react2.default.createElement(
          'a',
          { href: props.post.poster.rank.absolute_url, className: 'label ' + rankClass },
          props.post.poster.short_title
        );
      } else {
        return _react2.default.createElement(
          'span',
          { className: 'label ' + rankClass },
          props.post.poster.short_title
        );
      }
    } else {
      return null; // we don't display default ranks
    }
  } else {
    return _react2.default.createElement(
      'span',
      { className: 'rank-name item-title' },
      gettext("Unregistered")
    );
  }
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.format('LL, LT')
  }, true);

  var message = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.fromNow()
  }, true);

  return _react2.default.createElement(
    'a',
    { href: props.post.url.index, className: 'posted-on', title: tooltip },
    message
  );
}

function UnreadLabel(props) {
  if (!props.post.is_read) {
    return _react2.default.createElement(
      'span',
      { className: 'label label-warning pull-right' },
      gettext("New")
    );
  } else {
    return null;
  }
}

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return _react2.default.createElement(
    'span',
    {
      className: 'label label-default pull-right',
      title: gettext("This post is protected and may not be edited.")
    },
    gettext("Protected")
  );
}

},{"../../user-status":178,"./controls":92,"./select":100,"react":"react"}],98:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'post';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'post post-hidden';
  }

  if (!props.post.is_read) {
    className += ' post-new';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(PosterAvatar, { post: props.post })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(_header2.default, props),
          _react2.default.createElement(_flags.FlagHidden, props),
          _react2.default.createElement(_flags.FlagUnapproved, props),
          _react2.default.createElement(_body2.default, props),
          _react2.default.createElement(_footer2.default, props)
        )
      )
    )
  );
};

exports.PosterAvatar = PosterAvatar;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _body = require('./body');

var _body2 = _interopRequireDefault(_body);

var _flags = require('./flags');

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function PosterAvatar(props) {
  if (props.post.poster) {
    return _react2.default.createElement(
      'a',
      { href: props.post.poster.absolute_url },
      _react2.default.createElement(_avatar2.default, { size: 100, user: props.post.poster })
    );
  } else {
    return _react2.default.createElement(_avatar2.default, { size: 100 });
  }
} /* jshint ignore:start */

},{"../../avatar":30,"./body":89,"./flags":95,"./footer":96,"./header":97,"react":"react"}],99:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'li',
    { 'class': 'post' },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(_avatar2.default, { size: '100' })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading post-heading' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/random":274,"../../avatar":30,"react":"react"}],100:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.isSelected) {
        _store2.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store2.default.dispatch(posts.select(_this.props.post));
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || (0, _controls.isVisible)(this.props.post.acl))) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { className: 'pull-right' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-icon',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.post.isSelected ? 'check_box' : 'check_box_outline_blank'
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/posts":244,"../../../services/store":264,"./controls":92,"react":"react"}],101:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.post.is_read) {
        return; // don't register read tracker
      }

      $('#post-' + this.props.post.id).waypoint({
        handler: function handler(direction) {
          if (direction !== 'down' || _this2.props.post.is_read) {
            return;
          }

          // after 1500ms flag post as read
          window.setTimeout(function () {
            _store2.default.dispatch(post.patch(_this2.props.post, {
              is_read: true
            }));

            _ajax2.default.post(_this2.props.post.api.read);
          }, 1000);
        },
        offset: 'bottom-in-view'
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: this.props.className },
        _react2.default.createElement(
          'div',
          { style: { borderColor: '#f00' } },
          this.props.children
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/post":243,"../../services/ajax":253,"../../services/store":264,"react":"react"}],102:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

var _panelMessage = require('../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,

        ban: ban
      });
    };

    _this.error = function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    };

    if (_index2.default.has('PROFILE_BAN')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_BAN'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api_url.ban);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'ban-details',
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('ban-details');
    }
  }, {
    key: 'getUserMessage',
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-user-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("User-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.user_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getStaffMessage',
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-staff-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("Team-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.staff_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: _title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getPanelBody',
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            this.getUserMessage(),
            this.getStaffMessage(),
            _react2.default.createElement(
              'div',
              { className: 'panel-body ban-expires' },
              _react2.default.createElement(
                'h4',
                null,
                gettext("Ban expiration")
              ),
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getExpirationMessage()
              )
            )
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_panelMessage2.default, { message: gettext("No ban is active at the moment.") })
          );
          /* jshint ignore:end */
        }
      } else if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelMessage2.default, { icon: 'error_outline',
            message: this.state.error })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelLoader2.default, null)
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-ban-details' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Ban details")
            )
          ),
          this.getPanelBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":202,"../../services/page-title":260,"../../services/polls":261,"../panel-loader":71,"../panel-message":72,"moment":"moment","react":"react"}],103:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _profile = require('../../reducers/profile');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.action = function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax2.default.post(_this.props.profile.api_url.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store2.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + ' btn-default btn-following';
      } else {
        return this.props.className + ' btn-default btn-follow';
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return 'favorite';
      } else {
        return 'favorite_border';
      }
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        { className: this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.action },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/profile":245,"../../services/ajax":253,"../../services/snackbar":263,"../../services/store":264,"../button":32,"react":"react"}],104:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _search = require('../search');

var _search2 = _interopRequireDefault(_search);

var _root = require('../users-list/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    };

    _this.setSpecialProps();

    if (_index2.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_index2.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWERS';
      this.TITLE = gettext('Followers');
      this.API_FILTER = 'followers';
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadUsers();
    }
  }, {
    key: 'loadUsers',
    value: function loadUsers() {
      var _ajax$get,
          _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax2.default.get(_index2.default.get('USERS_API'), (_ajax$get = {}, _defineProperty(_ajax$get, this.API_FILTER, this.props.profile.id), _defineProperty(_ajax$get, 'name', search), _defineProperty(_ajax$get, 'page', page || 1), _ajax$get), 'user-' + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy,
              onClick: this.loadMore },
            interpolate(gettext("Show more (%(more)s)"), {
              'more': this.state.more
            }, true)
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getListBody',
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.getEmptyMessage()
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
            users: this.props.users,
            showRank: true,
            cols: 2 }),
          this.getMoreButton()
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      return 'profile-' + this.API_FILTER;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_search2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        this.getListBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":202,"../../reducers/users":252,"../../services/ajax":253,"../../services/page-title":260,"../../services/snackbar":263,"../../services/store":264,"../button":32,"../search":119,"../users-list/root":185,"react":"react"}],105:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_Followers) {
  _inherits(_class, _Followers);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWS';
      this.TITLE = gettext('Follows');
      this.API_FILTER = 'follows';
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }]);

  return _class;
}(_followers2.default);

exports.default = _class;

},{"./followers":104,"react":"react"}],106:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'user-status-display' },
        _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.profile, status: this.props.profile.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.profile,
            status: this.props.profile.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.profile,
            status: this.props.profile.status,
            className: 'status-label' })
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUserRank',
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'a',
            { href: this.props.profile.rank.absolute_url, className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'span',
            { className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.profile.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.title
        );
        /* jshint ignore:end */
      } else if (this.props.profile.rank.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.rank.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getJoinedOn',
    value: function getJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'user-joined-on' },
        _react2.default.createElement(
          'abbr',
          { title: title },
          age
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getEmail',
    value: function getEmail() {
      if (this.props.profile.email) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-email' },
          _react2.default.createElement(
            'a',
            { href: 'mailto:' + this.props.profile.email, className: 'item-title' },
            this.props.profile.email
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, { className: 'btn btn-aligned hidden-xs hidden-sm',
          profile: this.props.profile });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'btn-group btn-aligned hidden-xs hidden-sm' },
          _react2.default.createElement(
            'button',
            { className: 'btn btn-default btn-moderate dropdown-toggle',
              type: 'button',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'tonality'
            ),
            gettext("Moderation")
          ),
          _react2.default.createElement(_nav2.default, { profile: this.props.profile })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page-header' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-9 col-md-offset-3' },
              _react2.default.createElement(
                'h1',
                { className: 'pull-left' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '100' }),
                _react2.default.createElement(
                  'span',
                  { className: 'user-name' },
                  this.props.profile.username
                )
              ),
              this.getFollowButton(),
              this.getModerationButton(),
              _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.props.toggleNav,
                dropdown: this.props.dropdown })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'header-stats' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-9 col-md-offset-3' },
                _react2.default.createElement(
                  'ul',
                  { className: 'list-inline' },
                  this.getUserStatus(),
                  this.getUserRank(),
                  this.getUserTitle(),
                  this.getJoinedOn(),
                  this.getEmail()
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":30,"../dropdown-toggle":46,"../user-status":178,"./follow-button":103,"./moderation/nav":110,"react":"react"}],107:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      is_avatar_locked: '',
      avatar_lock_user_message: '',
      avatar_lock_staff_message: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,

          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || '',
          avatar_lock_staff_message: options.avatar_lock_staff_message || ''
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      _snackbar2.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Lock avatar"),
              helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
              'for': 'id_is_avatar_locked' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_avatar_locked',
              disabled: this.state.isLoading,
              iconOn: 'lock_outline',
              iconOff: 'lock_open',
              labelOn: gettext("Disallow user from changing avatar"),
              labelOff: gettext("Allow user to change avatar"),
              onChange: this.bindInput('is_avatar_locked'),
              value: this.state.is_avatar_locked })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User message"),
              helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
              'for': 'id_avatar_lock_user_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_user_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_user_message'),
              value: this.state.avatar_lock_user_message })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Staff message"),
              helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
              'for': 'id_avatar_lock_staff_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_staff_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_staff_message'),
              value: this.state.avatar_lock_staff_message })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Save changes")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Avatar controls")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/users":252,"../../../services/ajax":253,"../../../services/snackbar":263,"../../../services/store":264,"../../button":32,"../../form":54,"../../form-group":53,"../../modal-loader":58,"../../modal-message":59,"../../yes-no-switch":201,"react":"react"}],108:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      username: '',
      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(_index2.default.get('SETTINGS')), validators.usernameMaxLength(_index2.default.get('SETTINGS'))]
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ''
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar2.default.success(gettext("Username has been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New username"), 'for': 'id_username' },
            _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
              disabled: this.state.isLoading,
              onChange: this.bindInput('username'),
              value: this.state.username })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Change username")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change username")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":202,"../../../reducers/username-history":251,"../../../reducers/users":252,"../../../services/ajax":253,"../../../services/snackbar":263,"../../../services/store":264,"../../../utils/validators":279,"../../button":32,"../../form":54,"../../form-group":53,"../../modal-loader":58,"../../modal-message":59,"react":"react"}],109:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.countdown = function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    };

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,

      countdown: 5,
      confirm: false,

      with_content: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'send',

    /* jshint ignore:end */

    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _polls2.default.stop('user-profile');

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            'username': this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            'username': this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: 'getButtonLabel',
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          'username': this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          'countdown': this.state.countdown
        }, true);
      }
    }
  }, {
    key: 'getForm',
    value: function getForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User content"),
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              'for': 'id_with_content' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_with_content',
              disabled: this.state.isLoading,
              labelOn: gettext("Delete together with user's account"),
              labelOff: gettext("Hide after deleting user's account"),
              onChange: this.bindInput('with_content'),
              value: this.state.with_content })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default',
              'data-dismiss': 'modal' },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-danger',
              loading: this.state.isLoading,
              disabled: !this.state.confirm },
            this.getButtonLabel()
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getDeletedBody',
    value: function getDeletedBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.state.isDeleted
          ),
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(
              'a',
              { href: _index2.default.get('USERS_LIST_URL') },
              gettext("Return to users list")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Delete user account")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":202,"../../../services/ajax":253,"../../../services/polls":261,"../../button":32,"../../form":54,"../../form-group":53,"../../modal-loader":58,"../../modal-message":59,"../../yes-no-switch":201,"react":"react"}],110:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatarControls = require('./avatar-controls');

var _avatarControls2 = _interopRequireDefault(_avatarControls);

var _changeUsername = require('./change-username');

var _changeUsername2 = _interopRequireDefault(_changeUsername);

var _deleteAccount = require('./delete-account');

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showAvatarDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_avatarControls2.default));
    }, _this.showRenameDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_changeUsername2.default));
    }, _this.showDeleteDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_deleteAccount2.default));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getAvatarButton',

    /* jshint ignore:end */

    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showAvatarDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Avatar controls")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getRenameButton',

    /* jshint ignore:end */

    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showRenameDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'credit_card'
            ),
            gettext("Change username")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getDeleteButton',

    /* jshint ignore:end */

    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showDeleteDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'clear'
            ),
            gettext("Delete account")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu dropdown-menu-right', role: 'menu' },
        this.getAvatarButton(),
        this.getRenameButton(),
        this.getDeleteButton(),
        _react2.default.createElement('li', { className: 'divider hidden-md hidden-lg' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons hidden-md hidden-lg' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default btn-block',
              onClick: this.props.toggleNav },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'menu'
            ),
            gettext("Menu")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../services/modal":259,"./avatar-controls":107,"./change-username":108,"./delete-account":109,"react":"react","react-redux":"react-redux"}],111:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line
// jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'getMeta',
    value: function getMeta(meta) {
      if (meta) {
        // jshint ignore:start
        return _react2.default.createElement(
          'span',
          { className: 'badge' },
          this.props.profile[meta.attr]
        );
        // jshint ignore:end
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _reactRouter.Link,
            { to: _this2.props.baseUrl + page.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: page.component },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              page.icon
            ),
            page.name,
            _this2.getMeta(page.meta)
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_SideNav) {
  _inherits(CompactNav, _SideNav);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'showSpecialOptions',
    value: function showSpecialOptions() {
      return this.props.profile.acl.can_follow || this.props.profile.acl.can_moderate;
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, { className: 'btn btn-block',
          profile: this.props.profile });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-default btn-block',
            onClick: this.props.toggleModeration },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'tonality'
          ),
          gettext("Moderation")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSpecialOptions',
    value: function getSpecialOptions() {
      if (this.showSpecialOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          this.getFollowButton(),
          this.getModerationButton()
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        this.getSpecialOptions(),
        this.showSpecialOptions() ? _react2.default.createElement('li', { className: 'divider' }) : null,
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _li2.default,
            { path: _this4.props.baseUrl + page.component + '/',
              key: page.component },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _this4.props.baseUrl + page.component + '/',
                onClick: _this4.props.hideNav },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                page.icon
              ),
              page.name,
              _this4.getMeta(page.meta)
            )
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(SideNav);

},{"../../index":202,"../li":55,"./follow-button":103,"react":"react","react-router":"react-router"}],112:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _banDetails = require('./ban-details');

var _banDetails2 = _interopRequireDefault(_banDetails);

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

var _follows = require('./follows');

var _follows2 = _interopRequireDefault(_follows);

var _usernameHistory = require('./username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _navs = require('./navs');

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _profile.hydrate)(data));
    };

    _this.toggleNav = function () {
      if (_this.state.dropdown === 'pages') {
        _this.setState({
          dropdown: false
        });
      } else {
        _this.setState({
          dropdown: 'pages'
        });
      }
    };

    _this.toggleModeration = function () {
      if (_this.state.dropdown === 'moderation') {
        _this.setState({
          dropdown: false
        });
      } else {
        _this.setState({
          dropdown: 'moderation'
        });
      }
    };

    _this.startPolling(props.profile.api_url.root);
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'user-profile',
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getNavDropdown',

    /* jshint ignore:end */

    value: function getNavDropdown() {
      if (this.state.dropdown === 'pages') {
        /* jshint ignore:start */
        return _react2.default.createElement(_navs.CompactNav, { pages: _index2.default.get('PROFILE_PAGES'),
          baseUrl: _index2.default.get('PROFILE').absolute_url,
          profile: this.props.profile,
          toggleModeration: this.toggleModeration,
          hideNav: this.hideNav });
        /* jshint ignore:end */
      } else if (this.state.dropdown === 'moderation') {
        /* jshint ignore:start */
        return _react2.default.createElement(_nav2.default, { profile: this.props.profile,
          toggleNav: this.toggleNav,
          hideNav: this.hideNav });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var baseClass = 'page page-user-profile';
      if (false && this.props.profile.rank.css_class) {
        return baseClass + ' page-user-profile-' + this.props.profile.rank.css_class;
      } else {
        return baseClass;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, { user: this.props.user,
          profile: this.props.profile,
          toggleNav: this.toggleNav,
          toggleModeration: this.toggleModeration }),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          this.getNavDropdown()
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(
                'div',
                { className: 'profile-side-avatar' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '400' })
              ),
              _react2.default.createElement(_navs.SideNav, { pages: _index2.default.get('PROFILE_PAGES'),
                baseUrl: _index2.default.get('PROFILE').absolute_url,
                profile: this.props.profile })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users,
    'profile': store.profile,
    'username-history': store['username-history']
  };
}

var Placeholder = function (_React$Component) {
  _inherits(Placeholder, _React$Component);

  function Placeholder() {
    _classCallCheck(this, Placeholder);

    return _possibleConstructorReturn(this, (Placeholder.__proto__ || Object.getPrototypeOf(Placeholder)).apply(this, arguments));
  }

  _createClass(Placeholder, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'container' },
        _react2.default.createElement(
          'p',
          null,
          "Hello, I'm placeholder for " + this.props.route.name
        )
      );
      // jshint ignore:end
    }
  }]);

  return Placeholder;
}(_react2.default.Component);

var COMPONENTS = {
  'posts': Placeholder,
  'threads': Placeholder,
  'followers': _followers2.default,
  'follows': _follows2.default,
  'username-history': _usernameHistory2.default,
  'ban-details': _banDetails2.default
};

function paths() {
  var paths = [];

  _index2.default.get('PROFILE_PAGES').forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _index2.default.get('PROFILE').absolute_url + item.component + '/',
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../../index":202,"../../reducers/profile":245,"../../services/polls":261,"../../services/store":264,"../avatar":30,"../with-dropdown":200,"./ban-details":102,"./followers":104,"./follows":105,"./header":106,"./moderation/nav":110,"./navs":111,"./username-history":113,"react":"react","react-redux":"react-redux"}],113:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _search = require('../search');

var _search2 = _interopRequireDefault(_search);

var _root = require('../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    };

    if (_index2.default.has('PROFILE_NAME_HISTORY')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_NAME_HISTORY'));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadChanges();
    }
  }, {
    key: 'loadChanges',
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, 'search-username-history').then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);

        return interpolate(message, {
          'changes': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          'changes': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'changes': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy,
              onClick: this.loadMore },
            interpolate(gettext("Show older (%(more)s)"), {
              'more': this.state.more
            }, true)
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-username-history' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_search2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          emptyMessage: this.getEmptyMessage(),
          changes: this.props['username-history'] }),
        this.getMoreButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":202,"../../reducers/username-history":251,"../../services/ajax":253,"../../services/page-title":260,"../../services/snackbar":263,"../../services/store":264,"../button":32,"../search":119,"../username-history/root":184,"react":"react"}],114:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

var _register = require('./register.js');

var _register2 = _interopRequireDefault(_register);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showRegisterModal = function () {
      if (misago.get('SETTINGS').account_activation === 'closed') {
        _snackbar2.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal2.default.show(_register2.default);
      } else {
        _this.setState({
          'isLoading': true
        });

        Promise.all([_captcha2.default.load(), _zxcvbn2.default.load()]).then(function () {
          if (!_this.state.isLoaded) {
            _this.setState({
              'isLoading': false,
              'isLoaded': false
            });
          }

          _modal2.default.show(_register2.default);
        });
      }
    };

    _this.state = {
      'isLoading': false,
      'isLoaded': false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showRegisterModal,
          className: 'btn ' + this.getClassName(),
          disabled: this.state.isLoaded },
        gettext("Register"),
        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/captcha":255,"../services/modal":259,"../services/snackbar":263,"../services/zxcvbn":265,"./loader":56,"./register.js":115,"react":"react"}],115:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RegisterComplete = exports.RegisterForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _passwordStrength = require('./password-strength');

var _passwordStrength2 = _interopRequireDefault(_passwordStrength);

var _ = require('..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RegisterForm = exports.RegisterForm = function (_Form) {
  _inherits(RegisterForm, _Form);

  function RegisterForm(props) {
    _classCallCheck(this, RegisterForm);

    var _this = _possibleConstructorReturn(this, (RegisterForm.__proto__ || Object.getPrototypeOf(RegisterForm)).call(this, props));

    _this.state = {
      isLoading: false,

      username: '',
      email: '',
      password: '',
      captcha: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(_2.default.get('SETTINGS')), validators.usernameMaxLength(_2.default.get('SETTINGS'))],
        email: [validators.email()],
        password: [validators.passwordMinLength(_2.default.get('SETTINGS'))],
        captcha: _captcha2.default.validator()
      },

      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_2.default.get('USERS_API'), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getLegalFootNote',
    value: function getLegalFootNote() {
      if (_2.default.get('TERMS_OF_SERVICE_URL')) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: _2.default.get('TERMS_OF_SERVICE_URL'),
            target: '_blank' },
          gettext("By registering you agree to site's terms and conditions.")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-register', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Register")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, className: 'form-horizontal' },
            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Username"), 'for': 'id_username',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.username },
                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                  'aria-describedby': 'id_username_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('username'),
                  value: this.state.username })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("E-mail"), 'for': 'id_email',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.email },
                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',
                  'aria-describedby': 'id_email_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('email'),
                  value: this.state.email })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Password"), 'for': 'id_password',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.password,
                  extra: _react2.default.createElement(_passwordStrength2.default, { password: this.state.password,
                    inputs: [this.state.username, this.state.email] }) },
                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                  'aria-describedby': 'id_password_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('password'),
                  value: this.state.password })
              ),
              _captcha2.default.component({
                form: this,
                labelClass: "col-sm-4",
                controlClass: "col-sm-8"
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getLegalFootNote(),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Register account")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterForm;
}(_form2.default);

var RegisterComplete = exports.RegisterComplete = function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _possibleConstructorReturn(this, (RegisterComplete.__proto__ || Object.getPrototypeOf(RegisterComplete)).apply(this, arguments));
  }

  _createClass(RegisterComplete, [{
    key: 'getLead',
    value: function getLead() {
      if (this.props.activation === 'user') {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === 'admin') {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: 'getSubscript',
    value: function getSubscript() {
      if (this.props.activation === 'user') {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === 'admin') {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-message modal-register',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Registration complete")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                interpolate(this.getLead(), { 'username': this.props.username }, true)
              ),
              _react2.default.createElement(
                'p',
                null,
                interpolate(this.getSubscript(), { 'email': this.props.email }, true)
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterComplete;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.completeRegistration = function (apiResponse) {
      if (apiResponse.activation === 'active') {
        _modal2.default.hide();
        _auth2.default.signIn(apiResponse);
      } else {
        _this3.setState({
          complete: apiResponse
        });
      }
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(RegisterComplete, { activation: this.state.complete.activation,
          username: this.state.complete.username,
          email: this.state.complete.email });
      } else {
        return _react2.default.createElement(RegisterForm, { callback: this.completeRegistration });
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"..":202,"../services/ajax":253,"../services/auth":254,"../services/captcha":255,"../services/modal":259,"../services/snackbar":263,"../utils/banned-page":266,"../utils/validators":279,"./button":32,"./form":54,"./form-group":53,"./password-strength":73,"react":"react"}],116:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LinkSent = exports.RequestLinkForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var RequestLinkForm = exports.RequestLinkForm = function (_Form) {
  _inherits(RequestLinkForm, _Form);

  function RequestLinkForm(props) {
    _classCallCheck(this, RequestLinkForm);

    var _this = _possibleConstructorReturn(this, (RequestLinkForm.__proto__ || Object.getPrototypeOf(RequestLinkForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {
        _snackbar2.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestLinkForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.complete = function (apiResponse) {
      _this3.setState({
        complete: apiResponse
      });
    };

    _this3.reset = function () {
      _this3.setState({
        complete: false
      });
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":202,"../services/ajax":253,"../services/snackbar":263,"../utils/banned-page":266,"../utils/validators":279,"./button":32,"./form":54,"react":"react"}],117:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RequestResetForm = exports.RequestResetForm = function (_Form) {
  _inherits(RequestResetForm, _Form);

  function RequestResetForm(props) {
    _classCallCheck(this, RequestResetForm);

    var _this = _possibleConstructorReturn(this, (RequestResetForm.__proto__ || Object.getPrototypeOf(RequestResetForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestResetForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _possibleConstructorReturn(this, (AccountInactivePage.__proto__ || Object.getPrototypeOf(AccountInactivePage)).apply(this, arguments));
  }

  _createClass(AccountInactivePage, [{
    key: 'getActivateButton',
    value: function getActivateButton() {
      if (this.props.activation === 'inactive_user') {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },
            gettext("Activate your account.")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-info page-forgotten-password-inactive' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                gettext("Your account is inactive.")
              ),
              _react2.default.createElement(
                'p',
                null,
                this.props.message
              ),
              this.getActivateButton()
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return AccountInactivePage;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.complete = function (apiResponse) {
      _this4.setState({
        complete: apiResponse
      });
    };

    _this4.reset = function () {
      _this4.setState({
        complete: false
      });
    };

    _this4.state = {
      complete: false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'showInactivePage',
    value: function showInactivePage(apiResponse) {
      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, { activation: apiResponse.code,
        message: apiResponse.detail }), document.getElementById('page-mount'));
    }
    /* jshint ignore:end */

  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestResetForm, { callback: this.complete,
          showInactivePage: this.showInactivePage });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":202,"../services/ajax":253,"../services/snackbar":263,"../utils/banned-page":266,"../utils/validators":279,"./button":32,"./form":54,"react":"react","react-dom":"react-dom"}],118:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PasswordChangedPage = exports.ResetPasswordForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _signIn = require('./sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  function ResetPasswordForm(props) {
    _classCallCheck(this, ResetPasswordForm);

    var _this = _possibleConstructorReturn(this, (ResetPasswordForm.__proto__ || Object.getPrototypeOf(ResetPasswordForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'password': '',

      'validators': {
        'password': [validators.passwordMinLength(_index2.default.get('SETTINGS'))]
      }
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        if (this.state.password.trim().length) {
          _snackbar2.default.error(this.state.errors.password[0]);
        } else {
          _snackbar2.default.error(gettext("Enter new password."));
        }
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-reset-password' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'password', className: 'form-control',
                placeholder: gettext("Enter new password"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Change password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ResetPasswordForm;
}(_form2.default);

var PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _possibleConstructorReturn(this, (PasswordChangedPage.__proto__ || Object.getPrototypeOf(PasswordChangedPage)).apply(this, arguments));
  }

  _createClass(PasswordChangedPage, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: 'showSignIn',
    value: function showSignIn() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-success page-forgotten-password-changed' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'check'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getMessage()
              ),
              _react2.default.createElement(
                'p',
                null,
                gettext("You will have to sign in using new password before continuing.")
              ),
              _react2.default.createElement(
                'p',
                null,
                _react2.default.createElement(
                  'button',
                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },
                  gettext("Sign in")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return PasswordChangedPage;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this3, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {
      _auth2.default.softSignOut();

      // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));
    }, _temp), _possibleConstructorReturn(_this3, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":202,"../services/ajax":253,"../services/auth":254,"../services/modal":259,"../services/snackbar":263,"../utils/banned-page":266,"../utils/validators":279,"./button":32,"./form":54,"./sign-in.js":121,"react":"react","react-dom":"react-dom"}],119:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement("input", { type: "text",
          className: "form-control",
          value: this.props.value,
          onChange: this.props.onChange,
          placeholder: this.props.placeholder || gettext("Search...") }),
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "search"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],120:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.change = function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "btn-group btn-select-group" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-select dropdown-toggle",
            id: this.props.id || null,
            "data-toggle": "dropdown",
            "aria-haspopup": "true",
            "aria-expanded": "false",
            "aria-describedby": this.props['aria-describedby'] || null,
            disabled: this.props.disabled || false },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.getIcon()
          ),
          this.getLabel()
        ),
        _react2.default.createElement(
          "ul",
          { className: "dropdown-menu" },
          this.props.choices.map(function (item, i) {
            return _react2.default.createElement(
              "li",
              { key: i },
              _react2.default.createElement(
                "button",
                { type: "button", className: "btn-link",
                  onClick: _this3.change(item.value) },
                _react2.default.createElement(
                  "span",
                  { className: "material-icon" },
                  item.icon
                ),
                item.label
              )
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],121:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,
      'showActivation': false,

      'username': '',
      'password': '',

      'validators': {
        'username': [],
        'password': []
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.isValid()) {
        _snackbar2.default.error(gettext("Fill out both fields."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('AUTH_API'), {
        'username': this.state.username,
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      var form = $('#hidden-login-form');

      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(_ajax2.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === 'inactive_admin') {
          _snackbar2.default.info(rejection.detail);
        } else if (rejection.code === 'inactive_user') {
          _snackbar2.default.info(rejection.detail);
          this.setState({
            'showActivation': true
          });
        } else if (rejection.code === 'banned') {
          (0, _bannedPage2.default)(rejection.detail);
          _modal2.default.hide();
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getActivationButton',
    value: function getActivationButton() {
      if (this.state.showActivation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: _index2.default.get('REQUEST_ACTIVATION_URL'),
            className: 'btn btn-success btn-block' },
          gettext("Activate account")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm modal-sign-in',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Sign in")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', { id: 'id_username', className: 'form-control', type: 'text',
                    disabled: this.state.isLoading,
                    placeholder: gettext("Username or e-mail"),
                    onChange: this.bindInput('username'),
                    value: this.state.username })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', { id: 'id_password', className: 'form-control', type: 'password',
                    disabled: this.state.isLoading,
                    placeholder: gettext("Password"),
                    onChange: this.bindInput('password'),
                    value: this.state.password })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getActivationButton(),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary btn-block',
                  loading: this.state.isLoading },
                gettext("Sign in")
              ),
              _react2.default.createElement(
                'a',
                { href: _index2.default.get('FORGOTTEN_PASSWORD_URL'),
                  className: 'btn btn-default btn-block' },
                gettext("Forgot password?")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../index":202,"../services/ajax":253,"../services/modal":259,"../services/snackbar":263,"../utils/banned-page":266,"./button":32,"./form":54,"react":"react"}],122:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
var TYPES_CLASSES = {
  'info': 'alert-info',
  'success': 'alert-success',
  'warning': 'alert-warning',
  'error': 'alert-danger'
};
/* jshint ignore:end */

var Snackbar = exports.Snackbar = function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _possibleConstructorReturn(this, (Snackbar.__proto__ || Object.getPrototypeOf(Snackbar)).apply(this, arguments));
  }

  _createClass(Snackbar, [{
    key: 'getSnackbarClass',
    value: function getSnackbarClass() {
      var snackbarClass = 'alerts-snackbar';
      if (this.props.isVisible) {
        snackbarClass += ' in';
      } else {
        snackbarClass += ' out';
      }
      return snackbarClass;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getSnackbarClass() },
        _react2.default.createElement(
          'p',
          { className: 'alert ' + TYPES_CLASSES[this.props.type] },
          this.props.message
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Snackbar;
}(_react2.default.Component);

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Breadcrumb = Breadcrumb;

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "page-breadcrumbs" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ol",
        { className: "breadcrumb" },
        props.path.map(function (item) {
          return _react2.default.createElement(Breadcrumb, { key: item.id, node: item });
        })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:end */
function Breadcrumb(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.node.absolute_url },
      props.node.name
    )
  );
} /* jshint ignore:start */

},{"react":"react"}],124:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'page-header with-stats with-breadcrumbs' },
    _react2.default.createElement(_breadcrumbs2.default, { path: props.thread.path }),
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(_title2.default, { thread: props.thread, user: props.user }),
      _react2.default.createElement(Moderation, {
        posts: props.posts,
        thread: props.thread,
        user: props.user
      })
    ),
    _react2.default.createElement(_stats2.default, { thread: props.thread })
  );
};

exports.Moderation = Moderation;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _breadcrumbs = require('./breadcrumbs');

var _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);

var _thread = require('../moderation/thread');

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _title = require('./title');

var _title2 = _interopRequireDefault(_title);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Moderation(props) {
  if (props.user.id && (0, _thread.isModerationVisible)(props.thread)) {
    return _react2.default.createElement(
      'div',
      { className: 'btn-group pull-right' },
      _react2.default.createElement(
        'button',
        {
          'aria-expanded': 'false',
          'aria-haspopup': 'true',
          className: 'btn btn-default dropdown-toggle',
          'data-toggle': 'dropdown',
          disable: props.thread.isBusy,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'settings'
        ),
        gettext("Moderation")
      ),
      _react2.default.createElement(_thread.ModerationControls, {
        posts: props.posts,
        thread: props.thread,
        user: props.user
      })
    );
  } else {
    return null;
  }
}

},{"../moderation/thread":133,"./breadcrumbs":123,"./stats":125,"./title":126,"react":"react"}],125:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'header-stats' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'list-inline' },
        _react2.default.createElement(Weight, { thread: props.thread }),
        _react2.default.createElement(Unapproved, { thread: props.thread }),
        _react2.default.createElement(IsHidden, { thread: props.thread }),
        _react2.default.createElement(IsClosed, { thread: props.thread }),
        _react2.default.createElement(Replies, { thread: props.thread }),
        _react2.default.createElement(LastReply, { thread: props.thread })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-globally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned globally")
      )
    );
  } else if (props.thread.weight == 1) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-locally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark_border'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned locally")
      )
    );
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved")
      )
    );
  } else if (props.thread.has_unapproved_posts) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved-posts' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved posts")
      )
    );
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-hidden' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'visibility_off'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Hidden")
      )
    );
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-closed' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'lock_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Closed")
      )
    );
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, { 'replies': props.thread.replies }, true);

  return _react2.default.createElement(
    'li',
    { className: 'thread-replies' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'forum'
    ),
    _react2.default.createElement(
      'span',
      { className: 'icon-legend' },
      legend
    )
  );
}

/* jshint ignore:end */
function LastReply(props) {
  var user = null;
  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml2.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  };

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml2.default)(props.thread.last_post_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.thread.last_post_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date, user: user
  }, true);

  return _react2.default.createElement('li', { className: 'thread-last-reply', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":270,"react":"react"}],126:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _validators = require('../../posting/utils/validators');

var _thread = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onEdit = function () {
      _this.setState({
        isEditing: true
      });
    };

    _this.onCancel = function () {
      _this.setState({
        title: _this.props.thread.title,

        isEditing: false
      });
    };

    _this.state = {
      isEditing: false,
      isLoading: false,

      title: props.thread.title,

      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'title', value: this.state.title }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(thread.update(data));

      this.setState({
        'isEditing': false
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        console.log(rejection);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isEditing) {
        return _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit, className: 'pull-left title-edit-form' },
          _react2.default.createElement('input', { className: 'form-control', type: 'text', value: this.state.title, onChange: this.onChange }),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              disabled: this.state.isLoading,
              title: gettext("Change title")
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_circle'
            )
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              disabled: this.state.isLoading,
              onClick: this.onCancel,
              title: gettext("Cancel"),
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'cancel'
            )
          )
        );
      } else if (this.props.user.id && this.props.thread.acl.can_edit) {
        return _react2.default.createElement(
          'div',
          { className: 'pull-left title-editable' },
          _react2.default.createElement(
            'h1',
            null,
            this.props.thread.title
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-link',
              onClick: this.onEdit,
              title: gettext("Edit title"),
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'edit'
            )
          )
        );
      } else {
        return _react2.default.createElement(
          'div',
          { className: 'pull-left' },
          _react2.default.createElement(
            'h1',
            null,
            this.props.thread.title
          )
        );
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/thread":248,"../../../services/ajax":253,"../../../services/snackbar":263,"../../../services/store":264,"../../form":54,"../../posting/utils/validators":82,"react":"react"}],127:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_unapproved: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

    var previousState = {
      is_unapproved: selection.is_unapproved
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function protect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unprotect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function hide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: true,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(selection.url, {
        hidden_by: props.user.absolute_url
      })
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

    var previousState = {
      is_hidden: selection.is_hidden,
      hidden_on: selection.hidden_on,
      hidden_by_name: selection.hidden_by_name,
      url: selection.url
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unhide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

    var previousState = {
      is_hidden: selection.is_hidden
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function patch(selection, ops, previousState) {
  _ajax2.default.patch(selection.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(selection, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(selection, previousState));
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax2.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store2.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));

    _ajax2.default.delete(selection.api.index).then(function () {
      return;
    }, function (rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }

      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":243,"../../../../reducers/posts":244,"../../../../services/ajax":253,"../../../../services/snackbar":263,"../../../../services/store":264,"moment":"moment"}],128:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Merge, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Approve")
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Merge = exports.Merge = function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  function Merge() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Merge.__proto__ || Object.getPrototypeOf(Merge)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      moderation.merge(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Merge, [{
    key: 'render',
    value: function render() {
      if (this.props.selection.length < 2 || !this.props.thread.acl.can_merge_posts) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Merge")
        )
      );
    }
  }]);

  return Merge;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component3) {
  _inherits(Move, _React$Component3);

  function Move() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Move")
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component4) {
  _inherits(Split, _React$Component4);

  function Split() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this4.props));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Split")
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  function Protect() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.protect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Protect")
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  function Unprotect() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.unprotect(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unprotect")
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  function Hide() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.hide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  function Unhide() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.unhide(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  function Delete() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.remove(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":259,"./actions":127,"./move":130,"./split":131,"react":"react"}],129:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });

  return _react2.default.createElement(
    'div',
    { className: 'pull-right dropup' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default btn-icon dropdown-toggle',
        'data-toggle': 'dropdown',
        disabled: !selection.length,
        type: 'button'
      },
      gettext("Posts options")
    ),
    _react2.default.createElement(_dropdown2.default, _extends({ selection: selection }, props))
  );
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  }

  // slow test: show moderation if any of posts has moderation options
  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":128,"react":"react"}],130:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move posts to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move posts")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move posts")
    )
  );
}

},{"../../../../reducers/post":243,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"../../../button":32,"../../../form":54,"../../../form-group":53,"react":"react"}],131:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_URL')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split posts")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move selected posts at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split posts into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":243,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"../../../../utils/validators":279,"../../../button":32,"../../../category-select":40,"../../../form":54,"../../../form-group":53,"../../../modal-loader":58,"../../../select":120,"react":"react"}],132:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      _store2.default.dispatch(thread.busy());

      // by the chance update thread acl too
      ops.push({ op: 'add', path: 'acl', value: true });

      _ajax2.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store2.default.dispatch(thread.update(data));
        _store2.default.dispatch(thread.release());
        _snackbar2.default.success(successMessage);
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Thread has been pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Thread has been pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Thread has been unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Thread has been approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Thread has been opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Thread has been closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Thread has been made visible."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Thread has been made hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    }, _this.merge = function () {
      _modal2.default.show(_react2.default.createElement(_merge2.default, { thread: _this.props.thread }));
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store2.default.dispatch(thread.busy());

      _ajax2.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar2.default.success(gettext("Thread has been deleted."));
        window.location = _this.props.thread.category.absolute_url;
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'getPinGloballyButton',
    value: function getPinGloballyButton() {
      if (this.props.thread.weight < 2 && this.props.thread.acl.can_pin == 2) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinGlobally },
            gettext("Pin globally")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.thread.weight !== 1 && this.props.thread.acl.can_pin > 0) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinLocally },
            gettext("Pin locally")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.thread.weight > 0 && this.props.thread.acl.can_pin > 0) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unpin },
            gettext("Unpin")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (this.props.thread.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.move },
            gettext("Move")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (this.props.thread.acl.can_merge) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.merge },
            gettext("Merge")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (this.props.thread.is_unapproved && this.props.thread.acl.can_approve) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.approve },
            gettext("Approve")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (this.props.thread.is_closed && this.props.thread.acl.can_close) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.open },
            gettext("Open")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (!this.props.thread.is_closed && this.props.thread.acl.can_close) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.close },
            gettext("Close")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (this.props.thread.is_hidden && this.props.thread.acl.can_hide) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unhide },
            gettext("Unhide")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (!this.props.thread.is_hidden && this.props.thread.acl.can_hide) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.hide },
            gettext("Hide")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.thread.acl.can_hide == 2) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.delete },
            gettext("Delete")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu' },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/thread":248,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"./merge":135,"./move":136,"react":"react"}],133:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isModerationVisible = exports.ModerationControls = undefined;

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _isVisible = require('./is-visible');

var _isVisible2 = _interopRequireDefault(_isVisible);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ModerationControls = _controls2.default;
exports.isModerationVisible = _isVisible2.default;

},{"./controls":132,"./is-visible":134}],134:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (thread) {
  return thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_pin;
};

},{}],135:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.post(this.props.thread.api.merge, {
        thread_url: this.state.url
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Thread has been merged with other one."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to merge with"),
                  help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading || this.props.thread.isBusy,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                gettext("Merge thread")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Merge thread")
    )
  );
}
/* jshint ignore:end */

},{"../../../../reducers/thread":248,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"../../../form":54,"../../../form-group":53,"react":"react"}],136:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCategoryChange = function (event) {
      _this.changeValue('category', event.target.value);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,

      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(_2.default.get('THREAD_EDITOR_URL')).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,

          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'category', value: this.state.category }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax2.default.get(this.props.thread.api.posts, { page: this.props.posts.page }).then(function (data) {
        _store2.default.dispatch(thread.replace(data));
        _store2.default.dispatch(posts.load(data.post_set));
        _store2.default.dispatch(thread.release());

        _snackbar2.default.success(gettext("Thread has been moved."));
        _modal2.default.hide();
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          'div',
          { className: 'modal-dialog', role: 'document' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-content' },
              _react2.default.createElement(ModalHeader, null),
              _react2.default.createElement(
                'div',
                { className: 'modal-body' },
                _react2.default.createElement(
                  _formGroup2.default,
                  { 'for': 'id_category', label: gettext("New category") },
                  _react2.default.createElement(_categorySelect2.default, {
                    choices: this.state.categories,
                    disabled: this.state.isLoading || this.props.thread.isBusy,
                    id: 'id_category',
                    onChange: this.onCategoryChange,
                    value: this.state.category
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'modal-footer' },
                _react2.default.createElement(
                  'button',
                  { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                  gettext("Move thread")
                )
              )
            )
          )
        );
      } else if (this.state.isError) {
        return _react2.default.createElement(ModalMessage, { message: this.state.isError });
      } else {
        return _react2.default.createElement(ModalLoading, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move thread")
    )
  );
}

function ModalLoading(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(_modalLoader2.default, null)
    )
  );
}

function ModalMessage(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog modal-message', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(
        'div',
        { className: 'message-icon' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'message-body' },
        _react2.default.createElement(
          'p',
          { className: 'lead' },
          gettext("You can't move this thread at the moment.")
        ),
        _react2.default.createElement(
          'p',
          null,
          props.message
        )
      )
    )
  );
}
/* jshint ignore:end */

},{"../../../..":202,"../../../../reducers/posts":244,"../../../../reducers/thread":248,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"../../../category-select":40,"../../../form":54,"../../../form-group":53,"../../../modal-loader":58,"react":"react"}],137:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'nav',
    { className: 'misago-pagination pull-left' },
    _react2.default.createElement(Pager, props),
    _react2.default.createElement(More, { more: props.posts.more })
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Pager(props) {
  if (props.posts.pages > 1) {
    return _react2.default.createElement(
      'ul',
      { className: 'pagination' },
      _react2.default.createElement(FirstPage, props),
      _react2.default.createElement(PreviousPage, props),
      _react2.default.createElement(NextPage, props),
      _react2.default.createElement(LastPage, props)
    );
  } else {
    return null;
  }
} // jshint ignore:line

/* jshint ignore:start */
function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index, title: gettext("Go to first page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'first_page'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to first page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'first_page'
        )
      )
    );
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = '';
    if (props.posts.previous) {
      previousUrl = props.posts.previous + '/';
    }

    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + previousUrl, title: gettext("Go to previous page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_left'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to previous page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_left'
        )
      )
    );
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = '';
    if (props.posts.next) {
      nextUrl = props.posts.next + '/';
    }

    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + nextUrl, title: gettext("Go to next page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_right'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to next page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_right'
        )
      )
    );
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + props.posts.last + '/', title: gettext("Go to last page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'last_page'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to last page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'last_page'
        )
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, { 'more': props.more }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return _react2.default.createElement(
    'p',
    null,
    message
  );
}

},{"react":"react","react-router":"react-router"}],138:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'button',
    {
      className: props.className || 'btn btn-success',
      onClick: props.onClick,
      type: 'button'
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chat'
    ),
    gettext("Reply")
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],139:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    'posts': store.posts,
    'thread': store.thread,
    'tick': store.tick.tick,
    'user': store.auth.user
  };
}

function paths() {
  var thread = _index2.default.get('THREAD');
  var basePath = thread.url.index.replace(thread.slug + '-' + thread.pk, ':slug');
  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }, {
    path: basePath + ':page/',
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }];
}

},{"../../index":202,"./route":140,"react-redux":"react-redux"}],140:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Reply = Reply;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _postsList = require('../posts-list');

var _postsList2 = _interopRequireDefault(_postsList);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _paginator = require('./paginator');

var _paginator2 = _interopRequireDefault(_paginator);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

var _toolbarTop = require('./toolbar-top');

var _toolbarTop2 = _interopRequireDefault(_toolbarTop);

var _posts = require('./moderation/posts');

var _posts2 = _interopRequireDefault(_posts);

var _posts3 = require('../../reducers/posts');

var posts = _interopRequireWildcard(_posts3);

var _thread = require('../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.update = function (data) {
      _store2.default.dispatch(thread.replace(data));
      _store2.default.dispatch(posts.load(data.post_set));

      _this.setPageTitle();
    }, _this.openReplyForm = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: 'shouldFetchData',
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: 'fetchData',
    value: function fetchData() {
      var _this2 = this;

      _store2.default.dispatch(posts.unload());

      _ajax2.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, 'posts').then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPollingApi',
    value: function startPollingApi() {
      _polls2.default.start({
        poll: 'thread-posts',

        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,

        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: 'stopPollingApi',
    value: function stopPollingApi() {
      _polls2.default.stop('thread-posts');
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      _pageTitle2.default.set({
        title: this.props.thread.title,
        page: (this.props.params.page || 1) * 1
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-thread' },
        _react2.default.createElement(_header2.default, this.props),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(_toolbarTop2.default, _extends({ openReplyForm: this.openReplyForm }, this.props)),
          _react2.default.createElement(_postsList2.default, this.props),
          _react2.default.createElement(
            'div',
            { className: 'toolbar-bottom' },
            _react2.default.createElement(_paginator2.default, this.props),
            _react2.default.createElement(Reply, { onClick: this.openReplyForm, thread: this.props.thread }),
            _react2.default.createElement(_subscription2.default, _extends({ className: 'toolbar-right dropup' }, this.props)),
            _react2.default.createElement(_posts2.default, this.props),
            _react2.default.createElement('div', { className: 'clear-fix' })
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Reply(props) {
  if (props.thread.acl.can_reply) {
    /* jshint ignore:start */
    return _react2.default.createElement(_replyButton2.default, {
      className: 'btn btn-success toolbar-right',
      onClick: props.onClick
    });
    /* jshint ignore:end */
  } else {
    return null;
  }
}

},{"../../reducers/posts":244,"../../reducers/thread":248,"../../services/ajax":253,"../../services/page-title":260,"../../services/polls":261,"../../services/posting":262,"../../services/snackbar":263,"../../services/store":264,"../posts-list":88,"./header":124,"./moderation/posts":129,"./paginator":137,"./reply-button":138,"./subscription":141,"./toolbar-top":142,"react":"react"}],141:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Email = exports.Enable = exports.Disable = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (!props.user.id) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        getIcon(props.thread.subscription)
      ),
      getLabel(props.thread.subscription)
    ),
    _react2.default.createElement(Dropdown, props)
  );
};

exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _thread = require('../../reducers/thread');

var actions = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function getIcon(subscription) {
  if (subscription === true) {
    return 'star';
  } else if (subscription === false) {
    return 'star_half';
  } else {
    return 'star_border';
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Disable, props),
    _react2.default.createElement(Enable, props),
    _react2.default.createElement(Email, props)
  );
}

var Disable = exports.Disable = function (_React$Component) {
  _inherits(Disable, _React$Component);

  function Disable() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Disable.__proto__ || Object.getPrototypeOf(Disable)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, 'unsubscribe');
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Disable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_border'
          ),
          gettext("Unsubscribe")
        )
      );
    }
  }]);

  return Disable;
}(_react2.default.Component);

var Enable = exports.Enable = function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  function Enable() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Enable.__proto__ || Object.getPrototypeOf(Enable)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, 'notify');
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Enable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_half'
          ),
          gettext("Subscribe")
        )
      );
    }
  }]);

  return Enable;
}(_react2.default.Component);

var Email = exports.Email = function (_React$Component3) {
  _inherits(Email, _React$Component3);

  function Email() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Email.__proto__ || Object.getPrototypeOf(Email)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, 'email');
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Email, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star'
          ),
          gettext("Subscribe with e-mail")
        )
      );
    }
  }]);

  return Email;
}(_react2.default.Component);

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store2.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'subscription', value: value }]).then(function (finalState) {
    _store2.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":248,"../../services/ajax":253,"../../services/snackbar":263,"../../services/store":264,"react":"react"}],142:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'toolbar' },
    _react2.default.createElement(
      'ul',
      { className: 'list-inline' },
      _react2.default.createElement(GotoNew, { thread: props.thread }),
      _react2.default.createElement(GotoUnapproved, { thread: props.thread }),
      _react2.default.createElement(GotoLast, { thread: props.thread }),
      _react2.default.createElement(Reply, { openReplyForm: props.openReplyForm, thread: props.thread }),
      _react2.default.createElement(SubscriptionMenu, props)
    )
  );
};

exports.GotoNew = GotoNew;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Reply = Reply;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function GotoNew(props) {
  if (props.thread.is_new) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        { href: props.thread.url.new_post, className: 'btn btn-default', title: gettext('Go to first new post') },
        gettext("New")
      )
    );
  } else {
    return null;
  }
}

function GotoUnapproved(props) {
  if (props.thread.has_unapproved_posts && props.thread.acl.can_approve) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        { href: props.thread.url.unapproved_post, className: 'btn btn-default', title: gettext('Go to first unapproved post') },
        gettext("Unapproved")
      )
    );
  } else {
    return null;
  }
}

function GotoLast(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      { href: props.thread.url.last_post, className: 'btn btn-default', title: gettext('Go to last post') },
      gettext("Last")
    )
  );
}

function SubscriptionMenu(props) {
  if (!props.user.id) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    { className: 'pull-right' },
    _react2.default.createElement(_subscription2.default, _extends({ className: 'dropdown toolbar-right' }, props))
  );
}

function Reply(props) {
  if (props.thread.acl.can_reply) {
    return _react2.default.createElement(
      'li',
      { className: 'pull-right' },
      _react2.default.createElement(_replyButton2.default, { onClick: props.openReplyForm })
    );
  } else {
    return null;
  }
}

},{"./reply-button":138,"./subscription":141,"react":"react"}],143:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getMessage",
    value: function getMessage() {
      var label = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", this.props.diffSize);

      return interpolate(label, {
        threads: this.props.diffSize
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "li",
        { className: "list-group-item threads-diff-message" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-block btn-default",
            onClick: this.props.applyDiff },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "cached"
          ),
          _react2.default.createElement(
            "span",
            { className: "diff-message" },
            this.getMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],144:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(_diffMessage2.default, { diffSize: this.props.diffSize,
          applyDiff: this.props.applyDiff });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.children
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./diff-message":143,"react":"react"}],145:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _preview = require('../thread/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_preview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/preview":154,"react":"react"}],146:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

var _ready = require('../thread/ready');

var _ready2 = _interopRequireDefault(_ready);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(_diffMessage2.default, { diffSize: this.props.diffSize,
          applyDiff: this.props.applyDiff });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.threads.map(function (thread) {
            return _react2.default.createElement(_ready2.default, { categories: _this2.props.categories,
              thread: thread,
              list: _this2.props.list,

              showOptions: _this2.props.showOptions,
              isSelected: _this2.props.selection.indexOf(thread.id) >= 0,

              isBusy: _this2.props.busyThreads.indexOf(thread.id) >= 0,
              key: thread.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/ready":155,"./diff-message":143,"react":"react"}],147:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _empty = require('./list/empty');

var _empty2 = _interopRequireDefault(_empty);

var _ready = require('./list/ready');

var _ready2 = _interopRequireDefault(_ready);

var _preview = require('./list/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isLoaded) {
        if (this.props.threads.length > 0) {
          return _react2.default.createElement(_ready2.default, { threads: this.props.threads,
            categories: this.props.categories,
            list: this.props.list,

            diffSize: this.props.diffSize,
            applyDiff: this.props.applyDiff,

            showOptions: this.props.showOptions,
            selection: this.props.selection,

            busyThreads: this.props.busyThreads });
        } else {
          return _react2.default.createElement(
            _empty2.default,
            { diffSize: this.props.diffSize,
              applyDiff: this.props.applyDiff },
            this.props.children
          );
        }
      } else {
        return _react2.default.createElement(_preview2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list/empty":144,"./list/preview":145,"./list/ready":146,"react":"react"}],148:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUrl',
    value: function getUrl() {
      return this.props.category.absolute_url + this.props.list.path;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'thread-category thread-category-' + this.props.category.css_class;
      } else {
        return 'thread-category';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _reactRouter.Link,
        { to: this.getUrl(), className: this.getClassName() },
        this.props.category.name
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],149:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('../category');

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPath',
    value: function getPath() {
      var top = this.props.categories[this.props.thread.top_category];
      var bottom = this.props.categories[this.props.thread.category];

      if (top && bottom && top.id !== bottom.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: bottom, list: this.props.list })
        );
        /* jshint ignore:end */
      } else if (top) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: top, list: this.props.list })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getRepliesCount',
    value: function getRepliesCount() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'thread-replies-count' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'forum'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          this.props.thread.replies
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getLastReply',
    value: function getLastReply() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'thread-last-reply-clock' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'schedule'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          this.props.thread.last_post_on.fromNow()
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'thread-details-compact list-inline' },
        this.getPath(),
        this.getRepliesCount(),
        this.getLastReply()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../category":148,"react":"react"}],150:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('../category');

var _category2 = _interopRequireDefault(_category);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY_URL = '<a href="%(url)s" class="last-title" title="%(absolute)s">%(relative)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getNewLabel',
    value: function getNewLabel() {
      if (!this.props.thread.is_read) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-new-posts',
            title: gettext("Go to first unread post") },
          _react2.default.createElement(
            'a',
            { href: this.props.thread.url.new_post },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'comment'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              gettext("New posts")
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getPinnedLabel',
    value: function getPinnedLabel() {
      if (this.props.thread.weight === 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-pinned-globally' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Pinned globally")
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.weight === 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-pinned-locally' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark_border'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Pinned locally")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnapprovedLabel',
    value: function getUnapprovedLabel() {
      if (this.props.thread.is_unapproved) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-unapproved' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Unapproved")
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.has_unapproved_posts) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-unapproved-posts' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle_outline'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Unapproved posts")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHiddenLabel',
    value: function getHiddenLabel() {
      if (this.props.thread.is_hidden) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-hidden' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Hidden")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClosedLabel',
    value: function getClosedLabel() {
      if (this.props.thread.is_closed) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-closed' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Closed")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getPath',
    value: function getPath() {
      var top = this.props.categories[this.props.thread.top_category];
      var bottom = this.props.categories[this.props.thread.category];

      if (top && bottom && top.id !== bottom.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: top, list: this.props.list }),
          _react2.default.createElement(
            'span',
            { className: 'path-separator material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(_category2.default, { category: bottom, list: this.props.list })
        );
        /* jshint ignore:end */
      } else if (top) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: top, list: this.props.list })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getRepliesCount',
    value: function getRepliesCount() {
      /* jshint ignore:start */
      var message = ngettext("%(replies)s reply", "%(replies)s replies", this.props.thread.replies);

      return _react2.default.createElement(
        'li',
        { className: 'thread-replies' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'forum'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          interpolate(message, {
            replies: this.props.thread.replies
          }, true)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getLastReplyDate',
    value: function getLastReplyDate() {
      return interpolate(LAST_REPLY_URL, {
        url: (0, _escapeHtml2.default)(this.props.thread.url.last_post),
        absolute: (0, _escapeHtml2.default)(this.props.thread.last_post_on.format('LLL')),
        relative: (0, _escapeHtml2.default)(this.props.thread.last_post_on.fromNow())
      }, true);
    }
  }, {
    key: 'getLastPoster',
    value: function getLastPoster() {
      if (this.props.thread.url.last_poster) {
        return interpolate(LAST_POSTER_URL, {
          url: (0, _escapeHtml2.default)(this.props.thread.url.last_poster),
          user: (0, _escapeHtml2.default)(this.props.thread.last_poster_name)
        }, true);
      } else {
        return interpolate(LAST_POSTER_SPAN, {
          user: (0, _escapeHtml2.default)(this.props.thread.last_poster_name)
        }, true);
      }
    }
  }, {
    key: 'getLastReply',
    value: function getLastReply() {
      /* jshint ignore:start */
      return _react2.default.createElement('li', { className: 'thread-last-reply',
        dangerouslySetInnerHTML: { __html: interpolate((0, _escapeHtml2.default)(gettext("last reply by %(user)s %(date)s")), {
            date: this.getLastReplyDate(),
            user: this.getLastPoster()
          }, true) } });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'thread-details-full list-inline' },
        this.getNewLabel(),
        this.getPinnedLabel(),
        this.getUnapprovedLabel(),
        this.getHiddenLabel(),
        this.getClosedLabel(),
        this.getPath(),
        this.getRepliesCount(),
        this.getLastReply()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../utils/escape-html":270,"../category":148,"react":"react"}],151:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getPinnedIcon",
    value: function getPinnedIcon() {
      if (this.props.thread.weight === 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-pinned-globally" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark"
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.weight === 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-pinned-locally" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark_border"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "getUnapprovedIcon",
    value: function getUnapprovedIcon() {
      if (this.props.thread.is_unapproved) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-unapproved" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "remove_circle"
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.has_unapproved_posts) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-unapproved-posts" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "remove_circle_outline"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "getHiddenIcon",
    value: function getHiddenIcon() {
      if (this.props.thread.is_hidden) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-hidden" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility_off"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "getClosedIcon",
    value: function getClosedIcon() {
      if (this.props.thread.is_closed) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-closed" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_outline"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "thread-flags" },
        this.getPinnedIcon(),
        this.getUnapprovedIcon(),
        this.getHiddenIcon(),
        this.getClosedIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],152:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.is_read) {
        return 'read-status item-read';
      } else {
        return 'read-status item-new';
      }
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.thread.is_read) {
        return gettext("This thread has no new posts.");
      } else {
        return gettext("This thread has new posts.");
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.is_read) {
        return 'chat_bubble_outline';
      } else {
        return 'chat_bubble';
      }
    }
  }, {
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.thread.is_read) {
        return this.props.thread.url.last_post;
      } else {
        return this.props.thread.url.new_post;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'a',
        { className: this.getClassName(), href: this.getUrl(), title: this.getTitle() },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],153:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _compact = require('./subscription/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./subscription/full');

var _full2 = _interopRequireDefault(_full);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggleSelection = function () {
      _store2.default.dispatch(select.item(_this.props.thread.id));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getSelectToggle',

    /* jshint ignore:end */

    value: function getSelectToggle() {
      if (this.props.thread.moderation.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-default btn-checkbox',
              onClick: this.toggleSelection,
              disabled: this.props.disabled },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              this.props.isSelected ? 'check_box' : 'check_box_outline_blank'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              this.props.isSelected ? gettext("Selected") : gettext("Select")
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'thread-options' },
        _react2.default.createElement(
          'ul',
          { className: 'list-inline' },
          this.getSelectToggle(),
          _react2.default.createElement(_full2.default, { thread: this.props.thread,
            disabled: this.props.disabled }),
          _react2.default.createElement(_compact2.default, { thread: this.props.thread,
            disabled: this.props.disabled })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":246,"../../../services/store":264,"./subscription/compact":156,"./subscription/full":157,"react":"react"}],154:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item thread-preview hidden-xs hidden-sm';
      } else {
        return 'list-group-item thread-preview';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'thread-icon' },
          _react2.default.createElement(
            'span',
            { className: 'read-status item-read' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'chat_bubble_outline'
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'thread-main' },
          _react2.default.createElement(
            'span',
            { className: 'item-title thread-title' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(60, 200) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'ul',
            { className: 'thread-details-compact list-inline' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'ul',
            { className: 'thread-details-full list-inline' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(50, 150) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(50, 100) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(100, 250) + "px" } },
                '\xA0'
              )
            )
          )
        ),
        _react2.default.createElement('div', { className: 'clearfix' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":274,"react":"react"}],155:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

var _compact = require('./details/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./details/full');

var _full2 = _interopRequireDefault(_full);

var _flags = require('./flags');

var _flags2 = _interopRequireDefault(_flags);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.isBusy) {
        /* jshint ignore:start */
        return _react2.default.createElement(_loader2.default, null);
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_icon2.default, { thread: this.props.thread });
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getOptions',
    value: function getOptions() {
      if (this.props.showOptions) {
        /* jshint ignore:start */
        return _react2.default.createElement(_options2.default, { thread: this.props.thread,
          disabled: this.props.isBusy,
          isSelected: this.props.isSelected });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var styles = ['list-group-item'];

      if (this.props.thread.is_read) {
        styles.push('thread-read');
      } else {
        styles.push('thread-new');
      }

      if (this.props.isBusy) {
        styles.push('thread-busy');
      } else if (this.props.isSelected) {
        styles.push('thread-selected');
      }

      if (this.props.showOptions) {
        if (this.props.thread.moderation.length) {
          styles.push('thread-ops-two');
        } else {
          styles.push('thread-ops-one');
        }
      }

      return styles.join(' ');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'thread-icon' },
          this.getIcon(),
          _react2.default.createElement(_flags2.default, { thread: this.props.thread })
        ),
        this.getOptions(),
        _react2.default.createElement(
          'div',
          { className: 'thread-main' },
          _react2.default.createElement(
            'a',
            { href: this.props.thread.url.index, className: 'item-title thread-title' },
            this.props.thread.title
          ),
          _react2.default.createElement(_full2.default, { categories: this.props.categories,
            list: this.props.list,
            thread: this.props.thread }),
          _react2.default.createElement(_compact2.default, { categories: this.props.categories,
            list: this.props.list,
            thread: this.props.thread })
        ),
        _react2.default.createElement('div', { className: 'clearfix' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../loader":56,"./details/compact":149,"./details/full":150,"./flags":151,"./icon":152,"./options":153,"react":"react"}],156:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _full = require('./full');

var _full2 = _interopRequireDefault(_full);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _modal3 = require('../../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_SubscriptionFull) {
  _inherits(_class, _SubscriptionFull);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showOptions = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'hidden-md hidden-lg' },
        _react2.default.createElement(
          'button',
          { type: 'button',
            className: this.getClassName(),
            disabled: this.props.disabled,
            onClick: this.showOptions },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.getIcon()
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            this.getLegend()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_full2.default);

exports.default = _class;

},{"../../../../services/modal":259,"./full":157,"./modal":158,"react":"react"}],157:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return 'star';
      } else if (this.props.thread.subscription === false) {
        return 'star_half';
      } else {
        return 'star_border';
      }
    }
  }, {
    key: 'getLegend',
    value: function getLegend() {
      if (this.props.thread.subscription === true) {
        return gettext("E-mail");
      } else if (this.props.thread.subscription === false) {
        return gettext("Enabled");
      } else {
        return gettext("Disabled");
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-subscribe btn-subscribe-half dropdown-toggle";
      } else {
        return "btn btn-default btn-subscribe dropdown-toggle";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'hidden-xs hidden-sm' },
        _react2.default.createElement(
          'div',
          { className: 'btn-group' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: this.getClassName(),
              disabled: this.props.disabled,
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              this.getIcon()
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              this.getLegend()
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'dropdown-menu dropdown-menu-right',
            thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":159,"react":"react"}],158:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change subscription")
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'modal-menu', thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":159,"react":"react"}],159:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _threads = require('../../../../reducers/threads');

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var STATE_UPDATES = {
  'unsubscribe': null,
  'notify': false,
  'email': true
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setSubscription = function (newState) {
      _modal2.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax2.default.patch(_this.props.thread.api.index, [{ op: 'replace', path: 'subscription', value: newState }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.unsubscribe = function () {
      _this.setSubscription('unsubscribe');
    };

    _this.notify = function () {
      _this.setSubscription('notify');
    };

    _this.email = function () {
      _this.setSubscription('email');
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.unsubscribe },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_border'
            ),
            gettext("Unsubscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.notify },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_half'
            ),
            gettext("Subscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.email },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star'
            ),
            gettext("Subscribe with e-mail")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/threads":249,"../../../../services/ajax":253,"../../../../services/modal":259,"../../../../services/snackbar":263,"../../../../services/store":264,"../../../button":32,"react":"react"}],160:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.absolute_url + this.props.listPath;
      } else {
        return this.props.category.absolute_url;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          _reactRouter.Link,
          { to: this.getUrl(), className: 'btn btn-link' },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'btn-group category-picker' },
        _react2.default.createElement(
          'button',
          { type: 'button',
            className: 'btn btn-default dropdown-toggle',
            'data-toggle': 'dropdown',
            'aria-haspopup': 'true',
            'aria-expanded': 'false' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'more_vert'
          ),
          gettext("Go to")
        ),
        _react2.default.createElement(
          'ul',
          { className: 'dropdown-menu categories-menu' },
          this.props.choices.map(function (id) {
            if (_this3.props.categories[id]) {
              return _react2.default.createElement(Subcategory, { category: _this3.props.categories[id],
                listPath: _this3.props.list.path,
                key: id });
            } else {
              return null;
            }
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],161:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;
function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],162:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.route.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.category.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getToolbarLabel',
    value: function getToolbarLabel() {
      if (this.props.isLoaded) {
        var label = null;
        if (this.props.route.list.path) {
          label = ngettext("%(threads)s thread found.", "%(threads)s threads found.", this.props.threadsCount);
        } else if (this.props.route.category.parent) {
          label = ngettext("There is %(threads)s thread in this category.", "There are %(threads)s threads in this category.", this.props.threadsCount);
        } else {
          label = ngettext("There is %(threads)s thread on our forums.", "There are %(threads)s threads on our forums.", this.props.threadsCount);
        }

        return interpolate(label, {
          threads: this.props.threadsCount
        }, true);
      } else {
        return gettext("Loading threads...");
      }
    }
  }, {
    key: 'getDisableToolbar',
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: 'getToolbar',
    value: function getToolbar() {
      if (this.props.subcategories.length || this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _toolbar2.default,
          { subcategories: this.props.subcategories,
            categories: this.props.route.categories,
            categoriesMap: this.props.route.categoriesMap,
            list: this.props.route.list,

            threads: this.props.threads,
            moderation: this.props.moderation,
            selection: this.props.selection,
            selectAllThreads: this.props.selectAllThreads,
            selectNoneThreads: this.props.selectNoneThreads,

            addThreads: this.props.addThreads,
            freezeThread: this.props.freezeThread,
            deleteThread: this.props.deleteThread,
            updateThread: this.props.updateThread,

            route: this.props.route,
            disabled: this.getDisableToolbar(),
            user: this.props.user },
          this.getToolbarLabel()
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'container' },
        this.getCategoryDescription(),
        this.getToolbar(),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../page-lead":70,"./toolbar":173,"react":"react"}],163:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.markAsRead = function () {
      _this.setState({
        isBusy: true
      });

      _ajax2.default.post(_this.props.route.category.api_url.read).then(function () {
        _store2.default.dispatch((0, _threads.read)(_this.props.route.categoriesMap, _this.props.route.category));

        _this.setState({
          isBusy: false
        });

        _snackbar2.default.success(gettext("Threads have been marked as read."));
      }, function (rejection) {
        _this.setState({
          isBusy: false
        });

        _snackbar2.default.apiError(rejection);
      });
    };

    _this.startThread = function () {
      _posting2.default.open({
        mode: 'START',

        config: _2.default.get('THREAD_EDITOR_API'),
        submit: _2.default.get('THREADS_API'),

        category: _this.props.route.category.id
      });
    };

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getGoBackButton',

    /* jshint ignore:end */

    value: function getGoBackButton() {
      if (this.props.route.category.parent) {
        /* jshint ignore:start */
        var parent = this.props.categories[this.props.route.category.parent];

        return _react2.default.createElement(
          _reactRouter.Link,
          { className: 'btn btn-default btn-aligned btn-icon btn-go-back pull-left',
            to: parent.absolute_url + this.props.route.list.path },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'keyboard_arrow_left'
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getStartThreadButton',
    value: function getStartThreadButton() {
      if (this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { className: 'btn btn-success btn-aligned hidden-xs hidden-sm',
            onClick: this.startThread,
            disabled: this.props.disabled },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'chat'
          ),
          gettext("Start thread")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMarkAsReadButton',
    value: function getMarkAsReadButton() {
      if (this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { className: 'btn btn-default btn-aligned hidden-xs hidden-sm',
            onClick: this.markAsRead,
            loading: this.state.isBusy,
            disabled: this.props.disabled },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'playlist_add_check'
          ),
          gettext("Mark as read")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCompactNavToggle',
    value: function getCompactNavToggle() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.props.toggleNav,
          dropdown: this.props.dropdown });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getTabsNav',
    value: function getTabsNav() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_navs.TabsNav, { baseUrl: this.props.route.category.absolute_url,
          list: this.props.route.list,
          lists: this.props.route.lists });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.lists.length > 1) {
        return 'page-header tabbed';
      } else {
        return 'page-header';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getGoBackButton(),
          _react2.default.createElement(
            'h1',
            { className: 'pull-left' },
            this.props.title
          ),
          this.getStartThreadButton(),
          this.getMarkAsReadButton(),
          this.getCompactNavToggle()
        ),
        this.getTabsNav()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":202,"../../reducers/threads":249,"../../services/ajax":253,"../../services/posting":262,"../../services/snackbar":263,"../../services/store":264,"../button":32,"../dropdown-toggle":46,"./navs":170,"react":"react","react-router":"react-router"}],164:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.list.type === 'all') {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'list-group-item empty-message' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("Why not start one yourself?")
          )
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'list-group-item empty-message' },
          gettext("No threads matching specified criteria were found.")
        );
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],165:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _countdown = require('../../../utils/countdown');

var _countdown2 = _interopRequireDefault(_countdown);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      var errors = [];
      var countdown = new _countdown2.default(function () {
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(successMessage);
          if (onSuccess) {
            onSuccess();
          }
        }
      }, _this.props.threads.length);

      // update thread acl together with its state
      ops.push({ op: 'add', path: 'acl', value: true });

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.patch(thread.api.index, ops).then(function (data) {
          _this.props.updateThread(data);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Selected threads were pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Selected threads were pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Selected threads were unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Selected threads were approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Selected threads were opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Selected threads were closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Selected threads were unhidden."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Selected threads were hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, { callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user }));
    }, _this.merge = function () {
      var errors = [];
      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            'id': thread.id,
            'title': thread.title,
            'errors': [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar2.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        return;
      } else {
        _modal2.default.show(_react2.default.createElement(_merge2.default, _this.props));
      }
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      var errors = [];
      var countdown = new _countdown2.default(function () {
        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(gettext("Selected threads were deleted."));
        }

        // unfreeze non-deleted threads
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // reduce selection to non-deleted threads
        _store2.default.dispatch(select.all(_this.props.threads.map(function (item) {
          return item.id;
        })));
      }, _this.props.threads.length);

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.delete(thread.api.index).then(function (data) {
          _this.props.freezeThread(thread.id);
          _this.props.deleteThread(thread);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getPinGloballyButton',

    /* jshint ignore:end */

    value: function getPinGloballyButton() {
      if (this.props.moderation.can_pin == 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinGlobally },
            gettext("Pin threads globally")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.moderation.can_pin > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinLocally },
            gettext("Pin threads locally")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.moderation.can_pin > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unpin },
            gettext("Unpin threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (this.props.moderation.can_move) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.move },
            gettext("Move threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (this.props.moderation.can_merge) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.merge },
            gettext("Merge threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (this.props.moderation.can_approve) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.approve },
            gettext("Approve threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (this.props.moderation.can_close) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.open },
            gettext("Open threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (this.props.moderation.can_close) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.close },
            gettext("Close threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (this.props.moderation.can_hide) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unhide },
            gettext("Unhide threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (this.props.moderation.can_hide) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.hide },
            gettext("Hide threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.moderation.can_hide == 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.delete },
            gettext("Delete threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":246,"../../../services/ajax":253,"../../../services/modal":259,"../../../services/snackbar":263,"../../../services/store":264,"../../../utils/countdown":269,"./errors-list":166,"./merge":167,"./move":168,"react":"react"}],166:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ThreadErrors = ThreadErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
function ThreadErrors(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      props.thread.title
    ),
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled list-item-errors" },
      props.errors.map(function (item, i) {
        return _react2.default.createElement(
          "li",
          { key: i },
          item
        );
      })
    )
  );
}
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog",
          role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              { type: "button", className: "close", "data-dismiss": "modal",
                "aria-label": gettext("Close") },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              gettext("Threads moderation")
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              gettext("Errors were encountered when performing moderation action on one or more threads:")
            ),
            _react2.default.createElement(
              "ul",
              { className: "list-unstyled list-errored-items" },
              this.props.errors.map(function (item) {
                return _react2.default.createElement(ThreadErrors, {
                  errors: item.errors,
                  key: item.thread.id,
                  thread: item.thread
                });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],167:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _select = require('../../select');

var _select2 = _interopRequireDefault(_select);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../../reducers/threads');

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    };

    _this.state = {
      isLoading: false,

      title: '',
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this.acl = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });

    _this.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('MERGE_THREADS_API'), {
        top_category: this.props.route.category.id,
        threads: this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      var _this2 = this;

      // unfreeze and remove merged threads
      this.props.threads.forEach(function (thread) {
        _this2.props.freezeThread(thread.id);
        _this2.props.deleteThread(thread);
      });

      // deselect all threads
      _store2.default.dispatch(select.none());

      // append merged thread, filter threads
      this.props.addThreads([apiResponse]);
      _store2.default.dispatch((0, _threads.filterThreads)(this.props.route.category, this.props.categoriesMap));

      // hide modal
      _modal2.default.hide();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        /* jshint ignore:start */
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
        /* jshint ignore:end */
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getWeightChoices',

    /* jshint ignore:end */

    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Thread title"),
              'for': 'id_title',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              validation: this.state.errors.title },
            _react2.default.createElement('input', { id: 'id_title',
              className: 'form-control',
              type: 'text',
              onChange: this.bindInput('title'),
              value: this.state.title })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Category"),
              'for': 'id_category',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              validation: this.state.errors.category },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
              onChange: this.onCategoryChange,
              value: this.state.category,
              choices: this.categoryChoices })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          this.renderWeightField(),
          this.renderHiddenField(),
          this.renderClosedField()
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Merge threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMergeMessage',
    value: function renderCantMergeMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to merge threads to it.")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMergeMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":202,"../../../reducers/selection":246,"../../../reducers/threads":249,"../../../services/ajax":253,"../../../services/modal":259,"../../../services/snackbar":263,"../../../services/store":264,"../../../utils/validators":279,"../../button":32,"../../category-select":40,"../../form":54,"../../form-group":53,"../../select":120,"./errors-list":166,"react":"react"}],168:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../../reducers/threads');

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal2.default.hide();

      var onSuccess = function onSuccess() {
        _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

        // deselect threads moved outside of visible scope
        var storeState = _store2.default.getState();
        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });
        _store2.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{ op: 'replace', path: 'category', value: _this.state.category }, { op: 'add', path: 'top-category', value: _this.props.route.category.id }, { op: 'replace', path: 'flatten-categories', value: null }, { op: 'add', path: 'acl', value: true }], gettext("Selected threads were moved."), onSuccess);
    };

    _this.state = {
      category: null
    };

    var acls = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New category"),
              'for': 'id_new_category',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_new_category',
              onChange: this.bindInput('category'),
              value: this.state.category,
              choices: this.categoryChoices })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { className: 'btn btn-primary' },
            gettext("Move threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMoveMessage',
    value: function renderCantMoveMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to move threads to it.")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Move threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMoveMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/selection":246,"../../../reducers/threads":249,"../../../services/modal":259,"../../../services/store":264,"../../category-select":40,"../../form":54,"../../form-group":53,"react":"react"}],169:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.selectAll = function () {
      _store2.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    }, _this.selectNone = function () {
      _store2.default.dispatch(select.none());
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-link',
              type: 'button',
              onClick: this.selectAll },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box'
            ),
            gettext("Select all")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-link',
              type: 'button',
              onClick: this.selectNone },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box_outline_blank'
            ),
            gettext("Select none")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":246,"../../../services/store":264,"react":"react"}],170:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.TabsNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


//jshint ignore:line

// jshint ignore:start
var navLinks = function navLinks(baseUrl, active, lists, hideNav) {
  return lists.map(function (list) {
    return _react2.default.createElement(
      _li2.default,
      { isControlled: true,
        isActive: list.path === active.path,
        key: baseUrl + list.path },
      _react2.default.createElement(
        _reactRouter.Link,
        { to: baseUrl + list.path, onClick: hideNav },
        _react2.default.createElement(
          'span',
          { className: 'hidden-xs hidden-sm' },
          list.name
        ),
        _react2.default.createElement(
          'span',
          { className: 'hidden-md hidden-lg' },
          list.longName
        )
      )
    );
  });
};
// jshint ignore:end

var TabsNav = exports.TabsNav = function (_React$Component) {
  _inherits(TabsNav, _React$Component);

  function TabsNav() {
    _classCallCheck(this, TabsNav);

    return _possibleConstructorReturn(this, (TabsNav.__proto__ || Object.getPrototypeOf(TabsNav)).apply(this, arguments));
  }

  _createClass(TabsNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'page-tabs hidden-xs hidden-sm' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'ul',
            { className: 'nav nav-pills' },
            navLinks(this.props.baseUrl, this.props.list, this.props.lists, this.props.hideNav)
          )
        )
      );
      // jshint ignore:end
    }
  }]);

  return TabsNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        navLinks(this.props.baseUrl, this.props.list, this.props.lists, this.props.hideNav)
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../li":55,"react":"react","react-router":"react-router"}],171:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    'selection': store.selection,
    'threads': store.threads,
    'tick': store.tick.tick,
    'user': store.auth.user
  };
}

function getLists(user) {
  var lists = [{
    type: 'all',
    path: '',
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: 'my',
      path: 'my/',
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: 'new',
      path: 'new/',
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: 'unread',
      path: 'unread/',
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: 'subscribed',
      path: 'subscribed/',
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: 'unapproved',
        path: 'unapproved/',
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _index2.default.get('CATEGORIES').forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;
      routes.push({
        path: category.absolute_url + list.path,
        component: (0, _reactRedux.connect)(select)(_route2.default),

        categories: _index2.default.get('CATEGORIES'),
        categoriesMap: categoriesMap,
        category: category,

        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../../index":202,"./route":172,"react-redux":"react-redux"}],172:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _compare = require('./compare');

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _navs = require('./navs');

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _utils = require('./utils');

var _root = require('../threads-list/root');

var _root2 = _interopRequireDefault(_root);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _sets = require('../../utils/sets');

var sets = _interopRequireWildcard(_sets);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.page + 1);
    };

    _this.pollResponse = function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    };

    _this.addThreads = function (threads) {
      _store2.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    };

    _this.applyDiff = function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

        diff: {
          results: []
        }
      }));
    };

    _this.freezeThread = function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    };

    _this.updateThread = function (thread) {
      _store2.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    };

    _this.deleteThread = function (thread) {
      _store2.default.dispatch((0, _threads.deleteThread)(thread));
    };

    _this.state = {
      isMounted: true,

      isLoaded: false,
      isBusy: false,

      diff: {
        results: []
      },

      moderation: [],
      busyThreads: [],

      dropdown: false,
      subcategories: [],

      count: 0,
      more: 0,

      page: 1,
      pages: 1
    };

    var category = _this.getCategory();

    if (_index2.default.has('THREADS')) {
      _this.initWithPreloadedData(category, _index2.default.get('THREADS'));
    } else {
      _this.initWithoutPreloadedData(category);
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'getCategory',
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),

        subcategories: data.subcategories,

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      });

      this.startPolling(category);
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: 'loadThreads',
    value: function loadThreads(category) {
      var _this2 = this;

      var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

      _ajax2.default.get(_index2.default.get('THREADS_API'), {
        category: category,
        list: this.props.route.list.type,
        page: page || 1
      }, 'threads').then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (page === 1) {
          _store2.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

          subcategories: data.subcategories,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPolling',
    value: function startPolling(category) {
      _polls2.default.start({
        poll: 'threads',
        url: _index2.default.get('THREADS_API'),
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setPageTitle();

      if (_index2.default.has('THREADS')) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store2.default.dispatch((0, _threads.hydrate)(_index2.default.pop('THREADS').results));

        this.setState({
          isLoaded: true
        });
      }

      _store2.default.dispatch(select.none());
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.state.isMounted = false;
      _polls2.default.stop('threads');
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      if (this.props.route.category.level || !_index2.default.get('THREADS_ON_INDEX')) {
        _pageTitle2.default.set((0, _utils.getPageTitle)(this.props.route));
      } else {
        if (_index2.default.get('SETTINGS').forum_index_title) {
          document.title = _index2.default.get('SETTINGS').forum_index_title;
        } else {
          document.title = _index2.default.get('SETTINGS').forum_name;
        }
      }
    }
  }, {
    key: 'getSorting',
    value: function getSorting() {
      if (this.props.route.category.special_role) {
        return _compare.compareGlobalWeight;
      } else {
        return _compare.compareWeight;
      }
    }

    /* jshint ignore:start */

    // AJAX

    // Thread state utils

  }, {
    key: 'getCompactNav',

    /* jshint ignore:end */

    value: function getCompactNav() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { baseUrl: this.props.route.category.absolute_url,
            list: this.props.route.list,
            lists: this.props.route.lists,
            hideNav: this.hideNav })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy || this.state.busyThreads.length,
              onClick: this.loadMore },
            gettext("Show more")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'page page-threads';
      className += ' page-threads-' + this.props.route.list;
      if (this.props.route.category.css_class) {
        className += ' page-' + this.props.route.category.css_class;
      }
      return className;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, { categories: this.props.route.categoriesMap,
          disabled: !this.state.isLoaded,
          threads: this.props.threads,
          title: this.getTitle(),
          toggleNav: this.toggleNav,
          route: this.props.route,
          user: this.props.user }),
        this.getCompactNav(),
        _react2.default.createElement(
          _container2.default,
          { route: this.props.route,
            subcategories: this.state.subcategories,
            user: this.props.user,

            threads: this.props.threads,
            threadsCount: this.state.count,

            moderation: this.state.moderation,
            selection: this.props.selection,

            busyThreads: this.state.busyThreads,
            addThreads: this.addThreads,
            freezeThread: this.freezeThread,
            deleteThread: this.deleteThread,
            updateThread: this.updateThread,

            isLoaded: this.state.isLoaded,
            isBusy: this.state.isBusy },
          _react2.default.createElement(
            _root2.default,
            { categories: this.props.route.categoriesMap,
              list: this.props.route.list,
              selection: this.props.selection,
              threads: this.props.threads,

              diffSize: this.state.diff.results.length,
              applyDiff: this.applyDiff,

              showOptions: !!this.props.user.id,

              isLoaded: this.state.isLoaded,
              busyThreads: this.state.busyThreads },
            _react2.default.createElement(_listEmpty2.default, { category: this.props.route.category,
              list: this.props.route.list })
          ),
          this.getMoreButton()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;

},{"../../index":202,"../../reducers/selection":246,"../../reducers/threads":249,"../../services/ajax":253,"../../services/page-title":260,"../../services/polls":261,"../../services/snackbar":263,"../../services/store":264,"../../utils/sets":277,"../button":32,"../threads-list/root":147,"../with-dropdown":200,"./compare":161,"./container":162,"./header":163,"./list-empty":164,"./navs":170,"./utils":174,"react":"react"}],173:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categoryPicker = require('./category-picker');

var _categoryPicker2 = _interopRequireDefault(_categoryPicker);

var _controls = require('./moderation/controls');

var _controls2 = _interopRequireDefault(_controls);

var _selection = require('./moderation/selection');

var _selection2 = _interopRequireDefault(_selection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryPicker',
    value: function getCategoryPicker() {
      if (this.props.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-left' },
          _react2.default.createElement(_categoryPicker2.default, { choices: this.props.subcategories,
            categories: this.props.categoriesMap,
            list: this.props.list })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'showModerationOptions',
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: 'getSelectionButton',
    value: function getSelectionButton() {
      if (this.showModerationOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-right dropdown' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default btn-icon dropdown-toggle',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false',
              disabled: this.props.disabled },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'select_all'
            )
          ),
          _react2.default.createElement(_selection2.default, { className: 'dropdown-menu dropdown-menu-right',
            threads: this.props.threads })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSelectedThreads',
    value: function getSelectedThreads() {
      var _this2 = this;

      return this.props.threads.filter(function (thread) {
        return _this2.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.showModerationOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-right dropdown' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default dropdown-toggle',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false',
              disabled: this.props.disabled || !this.props.selection.length },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'settings'
            ),
            gettext("Moderation")
          ),
          _react2.default.createElement(_controls2.default, {
            addThreads: this.props.addThreads,
            categories: this.props.categories,
            categoriesMap: this.props.categoriesMap,
            className: 'dropdown-menu dropdown-menu-right',
            deleteThread: this.props.deleteThread,
            freezeThread: this.props.freezeThread,
            moderation: this.props.moderation,
            route: this.props.route,
            threads: this.getSelectedThreads(),
            updateThread: this.props.updateThread,
            user: this.props.user
          })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'toolbar with-js' },
        this.getCategoryPicker(),
        _react2.default.createElement(
          'p',
          { className: 'toolbar-left hidden-xs hidden-sm' },
          this.props.children
        ),
        this.getSelectionButton(),
        this.getModerationButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-picker":160,"./moderation/controls":165,"./moderation/selection":169,"react":"react"}],174:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (_index2.default.get('SETTINGS').forum_index_title) {
      return _index2.default.get('SETTINGS').forum_index_title;
    } else {
      return _index2.default.get('SETTINGS').forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.top_category === fromDb.top_category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });

  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,

    can_approve: 0,
    can_close: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0
  };

  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin;
  });

  return moderation;
}

},{"../../index":202}],175:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _registerButton = require('../register-button');

var _registerButton2 = _interopRequireDefault(_registerButton);

var _signIn = require('../sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var GuestMenu = exports.GuestMenu = function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _possibleConstructorReturn(this, (GuestMenu.__proto__ || Object.getPrototypeOf(GuestMenu)).apply(this, arguments));
  }

  _createClass(GuestMenu, [{
    key: 'showSignInModal',
    value: function showSignInModal() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu' },
        _react2.default.createElement(
          'li',
          { className: 'guest-preview' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("You are browsing as guest.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext('Sign in or register to start and participate in discussions.')
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                'button',
                { type: 'button', className: 'btn btn-default btn-block',
                  onClick: this.showSignInModal },
                gettext("Sign in")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                _registerButton2.default,
                { className: 'btn-primary btn-block' },
                gettext("Register")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestMenu;
}(_react2.default.Component);

var GuestNav = exports.GuestNav = function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _possibleConstructorReturn(this, (GuestNav.__proto__ || Object.getPrototypeOf(GuestNav)).apply(this, arguments));
  }

  _createClass(GuestNav, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'nav nav-guest' },
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn navbar-btn btn-default',
            onClick: this.showSignInModal },
          gettext("Sign in")
        ),
        _react2.default.createElement(
          _registerButton2.default,
          { className: 'navbar-btn btn-primary' },
          gettext("Register")
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestNav;
}(GuestMenu);

var CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _possibleConstructorReturn(this, (CompactGuestNav.__proto__ || Object.getPrototypeOf(CompactGuestNav)).apply(this, arguments));
  }

  _createClass(CompactGuestNav, [{
    key: 'showGuestMenu',
    value: function showGuestMenu() {
      _mobileNavbarDropdown2.default.show(GuestMenu);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showGuestMenu },
        _react2.default.createElement(_avatar2.default, { size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactGuestNav;
}(_react2.default.Component);

},{"../../services/mobile-navbar-dropdown":258,"../../services/modal":259,"../avatar":30,"../register-button":114,"../sign-in.js":121,"react":"react"}],176:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserMenu = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _guestNav = require('./guest-nav');

var _userNav = require('./user-nav');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.GuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _possibleConstructorReturn(this, (CompactUserMenu.__proto__ || Object.getPrototypeOf(CompactUserMenu)).apply(this, arguments));
  }

  _createClass(CompactUserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.CompactGuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return CompactUserMenu;
}(_react2.default.Component);

function select(state) {
  return state.auth;
}

},{"./guest-nav":175,"./user-nav":177,"react":"react"}],177:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserNav = exports.UserNav = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.selectUserMenu = selectUserMenu;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _root = require('../change-avatar/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'logout',
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));
      if (decision) {
        $('#hidden-logout-form').submit();
      }
    }
  }, {
    key: 'changeAvatar',
    value: function changeAvatar() {
      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu' },
        _react2.default.createElement(
          'li',
          { className: 'dropdown-header' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.username
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'account_circle'
            ),
            gettext("See your profile")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('USERCP_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'done_all'
            ),
            gettext("Change options")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link', onClick: this.changeAvatar },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Change avatar")
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default btn-block',
              onClick: this.logout },
            gettext("Log out")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var UserNav = exports.UserNav = function (_React$Component2) {
  _inherits(UserNav, _React$Component2);

  function UserNav() {
    _classCallCheck(this, UserNav);

    return _possibleConstructorReturn(this, (UserNav.__proto__ || Object.getPrototypeOf(UserNav)).apply(this, arguments));
  }

  _createClass(UserNav, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'ul nav navbar-nav nav-user' },
        _react2.default.createElement(
          'li',
          { className: 'dropdown' },
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url, className: 'dropdown-toggle',
              'data-toggle': 'dropdown', 'aria-haspopup': 'true', 'aria-expanded': 'false',
              role: 'button' },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })
          ),
          _react2.default.createElement(UserMenu, { user: this.props.user })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return UserNav;
}(_react2.default.Component);

function selectUserMenu(state) {
  return { user: state.auth.user };
}

var CompactUserNav = exports.CompactUserNav = function (_React$Component3) {
  _inherits(CompactUserNav, _React$Component3);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _possibleConstructorReturn(this, (CompactUserNav.__proto__ || Object.getPrototypeOf(CompactUserNav)).apply(this, arguments));
  }

  _createClass(CompactUserNav, [{
    key: 'showUserMenu',
    value: function showUserMenu() {
      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showUserMenu },
        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactUserNav;
}(_react2.default.Component);

},{"../../index":202,"../../services/mobile-navbar-dropdown":258,"../../services/modal":259,"../avatar":30,"../change-avatar/root":44,"react":"react","react-redux":"react-redux"}],178:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StatusLabel = exports.StatusIcon = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClass',
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.getClass() },
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var StatusIcon = exports.StatusIcon = function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _possibleConstructorReturn(this, (StatusIcon.__proto__ || Object.getPrototypeOf(StatusIcon)).apply(this, arguments));
  }

  _createClass(StatusIcon, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return 'remove_circle_outline';
      } else if (this.props.status.is_hidden) {
        return 'help_outline';
      } else if (this.props.status.is_online_hidden) {
        return 'label';
      } else if (this.props.status.is_offline_hidden) {
        return 'label_outline';
      } else if (this.props.status.is_online) {
        return 'lens';
      } else if (this.props.status.is_offline) {
        return 'panorama_fish_eye';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'material-icon status-icon' },
        this.getIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusIcon;
}(_react2.default.Component);

var StatusLabel = exports.StatusLabel = function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _possibleConstructorReturn(this, (StatusLabel.__proto__ || Object.getPrototypeOf(StatusLabel)).apply(this, arguments));
  }

  _createClass(StatusLabel, [{
    key: 'getHelp',
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.props.className || "status-label",
          title: this.getHelp() },
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusLabel;
}(_react2.default.Component);

function getStatusClassName(status) {
  var className = '';
  if (status.is_banned) {
    className = 'banned';
  } else if (status.is_hidden) {
    className = 'offline';
  } else if (status.is_online_hidden) {
    className = 'online';
  } else if (status.is_offline_hidden) {
    className = 'offline';
  } else if (status.is_online) {
    className = 'online';
  } else if (status.is_offline) {
    className = 'offline';
  }

  return 'user-status user-' + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format('LL, LT')
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],179:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          _react2.default.createElement(
            'span',
            { className: 'user-avatar' },
            _react2.default.createElement(_avatar2.default, { size: '100' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(80, 140) + "px" } },
            '\xA0'
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":274,"../avatar":30,"react":"react"}],180:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'renderUserAvatar',
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { user: this.props.change.changed_by, size: '100' })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { size: '100' })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'renderUsername',
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'item-title' },
          this.props.change.changed_by.username
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'item-title' },
          this.props.change.changed_by_username
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item', key: this.props.change.id },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          this.renderUserAvatar()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          this.renderUsername()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'old-username' },
            this.props.change.old_username
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'new-username' },
            this.props.change.new_username
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'abbr',
            { title: this.props.change.changed_on.format('LLL') },
            this.props.change.changed_on.fromNow()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":30,"react":"react"}],181:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],182:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changePreview = require('./change-preview');

var _changePreview2 = _interopRequireDefault(_changePreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_changePreview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change-preview":179,"react":"react"}],183:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _change = require('./change');

var _change2 = _interopRequireDefault(_change);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.changes.map(function (change) {
            return _react2.default.createElement(_change2.default, { change: change, key: change.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change":180,"react":"react"}],184:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { changes: this.props.changes });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { emptyMessage: this.props.emptyMessage });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-empty":181,"./list-preview":182,"./list-ready":183,"react":"react"}],185:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _userCard = require('./user-card');

var _userCard2 = _interopRequireDefault(_userCard);

var _userPreview = require('./user-preview');

var _userPreview2 = _interopRequireDefault(_userPreview);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.isLoaded;
    }
  }, {
    key: 'getPager',
    value: function getPager() {
      if (this.props.pages > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(Pager, this.props);
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.className) {
        return "users-cards-list " + this.props.className + " ui-ready";
      } else {
        return "users-cards-list ui-ready";
      }
    }
  }, {
    key: 'getColClassName',
    value: function getColClassName() {
      return "col-md-" + 12 / this.props.cols;
    }
  }, {
    key: 'getBody',
    value: function getBody() {
      var _this2 = this;

      if (this.props.isLoaded) {
        /* jshint ignore:start */
        return (0, _batch2.default)(this.props.users, this.props.cols).map(function (row, r) {
          return _react2.default.createElement(
            'div',
            { className: 'row', key: r },
            row.map(function (user) {
              return _react2.default.createElement(
                'div',
                { className: _this2.getColClassName(), key: user.id },
                _react2.default.createElement(_userCard2.default, { user: user,
                  showStatus: _this2.props.showStatus,
                  showRank: _this2.props.showRank })
              );
            })
          );
        });
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        var row = [];
        for (var i = 0; i < this.props.cols; i++) {
          if (i === 0) {
            row.push(this.getColClassName());
          } else {
            row.push(this.getColClassName() + ' hidden-xs hidden-sm');
          }
        }

        return _react2.default.createElement(
          'div',
          { className: 'row' },
          row.map(function (className, i) {
            return _react2.default.createElement(
              'div',
              { className: className, key: i },
              _react2.default.createElement(_userPreview2.default, { showStatus: _this2.props.showStatus })
            );
          })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'users-cards-list ui-ready' },
        this.getBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/batch":267,"./user-card":186,"./user-preview":187,"react":"react"}],186:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        if (this.props.user.status) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            _userStatus2.default,
            { user: this.props.user, status: this.props.user.status },
            _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
              status: this.props.user.status }),
            _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
              status: this.props.user.status,
              className: 'status-label' })
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'user-status' },
            _react2.default.createElement(
              'span',
              { className: 'status-icon ui-preview-text' },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'status-label ui-preview-text',
                style: { width: random.int(30, 50) + "px" } },
              '\xA0'
            )
          );
          /* jshint ignore:end */
        }
      } else {
        return null;
      }
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (this.props.showRank) {
        if (this.props.user.rank.is_tab) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'a',
            { href: this.props.user.rank.absolute_url,
              className: 'item-title rank-name' },
            this.props.user.rank.name
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'item-title rank-name' },
            this.props.user.rank.name
          );
          /* jshint ignore:end */
        }
      } else {
        return null;
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.user.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-title' },
          this.props.user.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUserJoinedOn',
    value: function getUserJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'span',
        { className: 'user-joined-on', title: title },
        age
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getPostsCount',
    value: function getPostsCount() {
      var message = ngettext("%(posts)s post", "%(posts)s posts", this.props.user.posts);

      return interpolate(message, {
        'posts': this.props.user.posts
      }, true);
    }
  }, {
    key: 'getThreadsCount',
    value: function getThreadsCount() {
      var message = ngettext("%(threads)s thread", "%(threads)s threads", this.props.user.threads);

      return interpolate(message, {
        'threads': this.props.user.threads
      }, true);
    }
  }, {
    key: 'getFollowersCount',
    value: function getFollowersCount() {
      var message = ngettext("%(followers)s follower", "%(followers)s followers", this.props.user.followers);

      return interpolate(message, {
        'followers': this.props.user.followers
      }, true);
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.user.rank.css_class) {
        return 'user-card user-card-' + this.props.user.rank.css_class + ' ui-ready';
      } else {
        return 'user-card ui-ready';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '400', className: 'bg-image' }),
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url },
                  _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '400' })
                )
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url, className: 'item-title' },
                  this.props.user.username
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                this.getRankName(),
                this.getUserTitle(),
                this.getUserJoinedOn()
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  this.getPostsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  this.getThreadsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  this.getFollowersCount()
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":274,"../avatar":30,"../user-status":178,"react":"react"}],187:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-status' },
          _react2.default.createElement(
            'span',
            { className: 'status-icon ui-preview-text' },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'status-label ui-preview-text',
              style: { width: random.int(30, 50) + "px" } },
            '\xA0'
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'user-card ui-preview' },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(_avatar2.default, { size: '400', className: 'bg-image' }),
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(_avatar2.default, { size: '400' })
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'span',
                  { className: 'item-title' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(60, 150) + "px" } },
                    '\xA0'
                  )
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                _react2.default.createElement(
                  'span',
                  { className: 'user-joined-on' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(30, 50) + "px" } },
                    '\xA0'
                  )
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":274,"../avatar":30,"react":"react"}],188:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), { 'days': this.props.trackedPeriod }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],189:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_avatar2.default, { size: '50' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'span',
              { className: 'item-title' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 80) + "px" } },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            _react2.default.createElement(
              'span',
              { className: 'user-status' },
              _react2.default.createElement(
                'span',
                { className: 'status-icon ui-preview-text' },
                '\xA0'
              ),
              _react2.default.createElement(
                'span',
                { className: 'status-label ui-preview-text hidden-xs hidden-sm',
                  style: { width: random.int(30, 50) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-name' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'user-title hidden-xs hidden-sm' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" } },
                '\xA0'
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":274,"../../avatar":30,"react":"react"}],190:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.user.status) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.user, status: this.props.user.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
            status: this.props.user.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
            status: this.props.user.status,
            className: 'status-label hidden-xs hidden-sm' })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-status' },
          _react2.default.createElement(
            'span',
            { className: 'status-icon ui-preview-text' },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'status-label ui-preview-text hidden-xs hidden-sm',
              style: { width: random.int(30, 50) + "px" } },
            '\xA0'
          )
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (this.props.rank.is_tab) {
        /* jshint ignore:start */
        var rankUrl = _index2.default.get('USERS_LIST_URL') + this.props.rank.slug + '/';
        return _react2.default.createElement(
          _reactRouter.Link,
          { to: rankUrl, className: 'rank-name item-title' },
          this.props.rank.name
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'rank-name item-title' },
          this.props.rank.name
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.user.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-title hidden-xs hidden-sm' },
          this.props.user.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '50' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'a',
              { href: this.props.user.absolute_url, className: 'item-title' },
              this.props.user.username
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            this.getUserStatus(),
            this.getRankName(),
            this.getUserTitle()
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position' },
          _react2.default.createElement(
            'strong',
            null,
            '#',
            this.props.counter
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.meta.score
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.posts
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":202,"../../../utils/random":274,"../../avatar":30,"../../user-status":178,"react":"react","react-router":"react-router"}],191:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItemPreview = require('./list-item-preview');

var _listItemPreview2 = _interopRequireDefault(_listItemPreview);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead ui-preview' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(50, 220) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-preview' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              [0, 1, 2].map(function (i) {
                return _react2.default.createElement(_listItemPreview2.default, { hiddenOnMobile: i > 0, key: i });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":274,"./list-item-preview":189,"react":"react"}],192:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItem = require('./list-item');

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getLeadMessage',
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s most active poster from last %(days)s days.", "%(posters)s most active posters from last %(days)s days.", this.props.count);

      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getLeadMessage()
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-ready' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              this.props.users.map(function (user, i) {
                return _react2.default.createElement(_listItem2.default, { user: user,
                  rank: user.rank,
                  counter: i + 1,
                  key: user.id });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-item":190,"react":"react"}],193:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      });
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling() {
      _polls2.default.start({
        poll: 'active-posters',
        url: _index2.default.get('USERS_API'),
        data: {
          list: 'active'
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('active-posters');
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { trackedPeriod: this.state.trackedPeriod });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":202,"../../../reducers/users":252,"../../../services/page-title":260,"../../../services/polls":261,"../../../services/store":264,"./list-empty":188,"./list-preview":191,"./list-ready":192,"react":"react"}],194:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.TabsNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line


//jshint ignore:line

// jshint ignore:start
var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;
  if (list.component === 'rank') {
    url += list.slug;
  } else {
    url += list.component;
  }
  return url + '/';
};

var navLinks = function navLinks(baseUrl, lists, hideNav) {
  return lists.map(function (list) {
    var url = listUrl(baseUrl, list);
    return _react2.default.createElement(
      _li2.default,
      { path: url,
        key: url },
      _react2.default.createElement(
        _reactRouter.Link,
        { to: url, onClick: hideNav },
        list.name
      )
    );
  });
};
// jshint ignore:end

var TabsNav = exports.TabsNav = function (_React$Component) {
  _inherits(TabsNav, _React$Component);

  function TabsNav() {
    _classCallCheck(this, TabsNav);

    return _possibleConstructorReturn(this, (TabsNav.__proto__ || Object.getPrototypeOf(TabsNav)).apply(this, arguments));
  }

  _createClass(TabsNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'nav nav-pills' },
        navLinks(this.props.baseUrl, this.props.lists)
      );
      // jshint ignore:end
    }
  }]);

  return TabsNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        navLinks(this.props.baseUrl, this.props.lists, this.props.hideNav)
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../../index":202,"../li":55,"react":"react","react-router":"react-router"}],195:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_root2.default, { isLoaded: false, cols: 3, showStatus: true })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list/root":185,"react":"react"}],196:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pager = require('./pager');

var _pager2 = _interopRequireDefault(_pager);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPager',
    value: function getPager() {
      if (this.props.pages > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_pager2.default, this.props);
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_root2.default, { users: this.props.users,
          showStatus: true,
          cols: 3,
          isLoaded: true }),
        this.getPager()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list/root":185,"./pager":197,"react":"react"}],197:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _resetScroll = require('../../../utils/reset-scroll');

var _resetScroll2 = _interopRequireDefault(_resetScroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPreviousPage',
    value: function getPreviousPage() {
      if (this.props.previous || this.props.first) {
        /* jshint ignore:start */
        var url = this.props.baseUrl;
        if (this.props.previous) {
          url += this.props.previous + '/';
        }

        return _react2.default.createElement(
          'li',
          { className: 'previous' },
          _react2.default.createElement(
            _reactRouter.Link,
            { to: url, onClick: _resetScroll2.default },
            _react2.default.createElement(
              'span',
              { 'aria-hidden': 'true', className: 'material-icon' },
              'arrow_back'
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getNextPage',
    value: function getNextPage() {
      if (this.props.next) {
        /* jshint ignore:start */
        var url = this.props.baseUrl + this.props.next + '/';
        return _react2.default.createElement(
          'li',
          { className: 'next' },
          _react2.default.createElement(
            _reactRouter.Link,
            { to: url, onClick: _resetScroll2.default },
            _react2.default.createElement(
              'span',
              { 'aria-hidden': 'true', className: 'material-icon' },
              'arrow_forward'
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getProgessBar',
    value: function getProgessBar() {
      var _this2 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'pager-progress-bar' },
        this.props.page_range.map(function (page) {
          var className = page === _this2.props.page ? 'active' : null;
          var url = _this2.props.baseUrl;

          if (page > 1) {
            url += page + '/';
          }

          return _react2.default.createElement(
            'li',
            { key: page, className: className },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: url, onClick: _resetScroll2.default },
              page
            )
          );
        })
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'pager-undercontent' },
        _react2.default.createElement(
          'nav',
          null,
          _react2.default.createElement(
            'ul',
            { className: 'pager' },
            this.getPreviousPage(),
            this.getNextPage()
          ),
          this.getProgessBar()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/reset-scroll":275,"react":"react","react-router":"react-router"}],198:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _listLoading = require('./list-loading');

var _listLoading2 = _interopRequireDefault(_listLoading);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;
      _this.setState(data);
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(page) {
      _polls2.default.start({
        poll: 'rank-users',
        url: _index2.default.get('USERS_API'),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('rank-users');
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle2.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls2.default.stop('rank-users');
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return 'rank-users-list rank-users-' + this.props.route.rank.css_class;
      } else {
        return 'rank-users-list';
      }
    }
  }, {
    key: 'getRankDescription',
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'rank-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.rank.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getComponent',
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          var baseUrl = _index2.default.get('USERS_LIST_URL') + this.props.route.rank.slug + '/';
          return _react2.default.createElement(_list2.default, _extends({ baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("There are no users with this rank at the moment.")
          );
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listLoading2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getRankDescription(),
          this.getComponent()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":202,"../../../reducers/users":252,"../../../services/page-title":260,"../../../services/polls":261,"../../../services/store":264,"../../page-lead":70,"./list":196,"./list-loading":195,"react":"react"}],199:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _root = require('./active-posters/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./rank/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-users-lists' },
        _react2.default.createElement(
          'div',
          { className: 'page-header tabbed' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'h1',
              { className: 'pull-left' },
              gettext("Users")
            ),
            _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.toggleNav,
              dropdown: this.state.dropdown })
          ),
          _react2.default.createElement(
            'div',
            { className: 'page-tabs hidden-xs hidden-sm' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(_navs.TabsNav, { lists: _index2.default.get('USERS_LISTS'),
                baseUrl: _index2.default.get('USERS_LIST_URL') })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { lists: _index2.default.get('USERS_LISTS'),
            baseUrl: _index2.default.get('USERS_LIST_URL'),
            hideNav: this.hideNav })
        ),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

function paths() {
  var paths = [];

  _index2.default.get('USERS_LISTS').forEach(function (item) {
    if (item.component === 'rank') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/:page/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
    } else if (item.component === 'active-posters') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.component + '/',
        component: (0, _reactRedux.connect)(select)(_root2.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../../index":202,"../dropdown-toggle":46,"../with-dropdown":200,"./active-posters/root":193,"./navs":194,"./rank/root":198,"react":"react","react-redux":"react-redux"}],200:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleNav = function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    };

    _this.hideNav = function () {
      _this.setState({
        dropdown: false
      });
    };

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getCompactNavClassName',

    /* jshint ignore:end */

    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return 'compact-nav open';
      } else {
        return 'compact-nav';
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],201:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggle = function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.value) {
        return this.props.iconOn || 'check_box';
      } else {
        return this.props.iconOff || 'check_box_outline_blank';
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { type: "button",
          onClick: this.toggle,
          className: this.getClassName(),
          id: this.props.id || null,
          "aria-describedby": this.props['aria-describedby'] || null,
          disabled: this.props.disabled || false },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],202:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Misago = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _orderedList = require('./utils/ordered-list');

var _orderedList2 = _interopRequireDefault(_orderedList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Misago = exports.Misago = function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: 'addInitializer',
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,

        item: initializer.initializer,

        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: 'init',
    value: function init(context) {
      var _this = this;

      this._context = context;

      var initOrder = new _orderedList2.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors

  }, {
    key: 'has',
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: 'get',
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: 'pop',
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}();

// create  singleton


var misago = new Misago();

// expose it globally
global.misago = misago;

// and export it for tests and stuff
exports.default = misago;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":273}],203:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));
}

_index2.default.addInitializer({
  name: 'ajax',
  initializer: initializer
});

},{"../index":202,"../services/ajax":253}],204:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);
}

_index2.default.addInitializer({
  name: 'auth',
  initializer: initializer,
  after: 'store'
});

},{"../index":202,"../services/auth":254,"../services/local-storage":257,"../services/modal":259,"../services/store":264}],205:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'captcha',
  initializer: initializer
});

},{"../index":202,"../services/ajax":253,"../services/captcha":255,"../services/include":256,"../services/snackbar":263}],206:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _authMessage = require('../../components/auth-message');

var _authMessage2 = _interopRequireDefault(_authMessage);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');
}

_index2.default.addInitializer({
  name: 'component:auth-message',
  initializer: initializer,
  after: 'store'
});

},{"../../components/auth-message":29,"../../index":202,"../../utils/mount-component":272,"react-redux":"react-redux"}],207:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _bannedPage = require('../../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('BAN_MESSAGE')) {
    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);
  }
}

_index2.default.addInitializer({
  name: 'component:baned-page',
  initializer: initializer,
  after: 'store'
});

},{"../../index":202,"../../utils/banned-page":266}],208:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/categories/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('categories-mount')) {
    (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root2.default), 'categories-mount');
  }
}

},{"../../components/categories/root":37,"../../index":202,"../../utils/mount-component":272,"react-redux":"react-redux"}],209:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/options/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USER_OPTIONS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERCP_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:options',
  initializer: initializer,
  after: 'store'
});

},{"../../components/options/root":66,"../../index":202,"../../utils/routed-component":276}],210:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/profile/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('PROFILE') && context.has('PROFILE_PAGES')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('PROFILE').absolute_url,
      component: (0, _reactRedux.connect)(_root.select)(_root2.default),
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:profile',
  initializer: initializer,
  after: 'reducer:profile-hydrate'
});

},{"../../components/profile/root":112,"../../index":202,"../../utils/routed-component":276,"react-redux":"react-redux"}],211:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestActivationLink = require('../../components/request-activation-link');

var _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-activation-link-mount')) {
    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-activation-link',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-activation-link":116,"../../index":202,"../../utils/mount-component":272}],212:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestPasswordReset = require('../../components/request-password-reset');

var _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-password-reset-mount')) {
    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-password-reset',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-password-reset":117,"../../index":202,"../../utils/mount-component":272}],213:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _resetPasswordForm = require('../../components/reset-password-form');

var _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('reset-password-form-mount')) {
    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:reset-password-form',
  initializer: initializer,
  after: 'store'
});

},{"../../components/reset-password-form":118,"../../index":202,"../../utils/mount-component":272}],214:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../components/snackbar');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');
}

_index2.default.addInitializer({
  name: 'component:snackbar',
  initializer: initializer,
  after: 'snackbar'
});

},{"../../components/snackbar":122,"../../index":202,"../../utils/mount-component":272,"react-redux":"react-redux"}],215:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/thread/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('THREAD') && context.has('POSTS')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:thread',
  initializer: initializer,
  after: 'store'
});

},{"../../components/thread/root":139,"../../index":202,"../../utils/routed-component":276}],216:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/threads/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('THREADS') && context.has('CATEGORIES')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)(context.get('user'))
    });
  }
}

_index2.default.addInitializer({
  name: 'component:threads',
  initializer: initializer,
  after: 'store'
});

},{"../../components/threads/root":171,"../../index":202,"../../utils/routed-component":276}],217:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _root = require('../../components/user-menu/root');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');
}

_index2.default.addInitializer({
  name: 'component:user-menu',
  initializer: initializer,
  after: 'store'
});

},{"../../components/user-menu/root":176,"../../index":202,"../../utils/mount-component":272,"react-redux":"react-redux"}],218:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/users/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USERS_LISTS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERS_LIST_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:users',
  initializer: initializer,
  after: 'store'
});

},{"../../components/users/root":199,"../../index":202,"../../utils/routed-component":276}],219:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include2.default.init(context.get('STATIC_URL'));
}

_index2.default.addInitializer({
  name: 'include',
  initializer: initializer
});

},{"../index":202,"../services/include":256}],220:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage2.default.init('misago_');
}

_index2.default.addInitializer({
  name: 'local-storage',
  initializer: initializer
});

},{"../index":202,"../services/local-storage":257}],221:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('mobile-navbar-dropdown-mount');
  if (element) {
    _mobileNavbarDropdown2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'dropdown',
  initializer: initializer,
  before: 'store'
});

},{"../index":202,"../services/mobile-navbar-dropdown":258}],222:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('modal-mount');
  if (element) {
    _modal2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'modal',
  initializer: initializer,
  before: 'store'
});

},{"../index":202,"../services/modal":259}],223:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment2.default.locale($('html').attr('lang'));
}

_index2.default.addInitializer({
  name: 'moment',
  initializer: initializer
});

},{"../index":202,"moment":"moment"}],224:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle2.default.init(context.get('SETTINGS').forum_index_title, context.get('SETTINGS').forum_name);
}

_index2.default.addInitializer({
  name: 'page-title',
  initializer: initializer
});

},{"../index":202,"../services/page-title":260}],225:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _polls = require('../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls2.default.init(_ajax2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'polls',
  initializer: initializer
});

},{"../index":202,"../services/ajax":253,"../services/polls":261,"../services/snackbar":263}],226:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting2.default.init(_ajax2.default, _snackbar2.default, document.getElementById('posting-placeholder'));
}

_index2.default.addInitializer({
  name: 'posting',
  initializer: initializer
});

},{"../index":202,"../services/ajax":253,"../services/posting":262,"../services/snackbar":263}],227:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../../reducers/auth');

var _auth2 = _interopRequireDefault(_auth);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store2.default.addReducer('auth', _auth2.default, Object.assign({
    isAuthenticated: context.get('isAuthenticated'),
    isAnonymous: !context.get('isAuthenticated'),

    user: context.get('user')
  }, _auth.initialState));
}

_index2.default.addInitializer({
  name: 'reducer:auth',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/auth":242,"../../services/store":264}],228:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _posts = require('../../reducers/posts');

var _posts2 = _interopRequireDefault(_posts);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('POSTS')) {
    initialState = (0, _posts.hydrate)(_index2.default.get('POSTS'));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store2.default.addReducer('posts', _posts2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:posts',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/posts":244,"../../services/store":264}],229:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_index2.default.has('PROFILE')) {
    _store2.default.dispatch((0, _profile.hydrate)(_index2.default.get('PROFILE')));
  }
}

_index2.default.addInitializer({
  name: 'reducer:profile-hydrate',
  initializer: initializer,
  after: 'store'
});

},{"../../index":202,"../../reducers/profile":245,"../../services/store":264}],230:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _profile2 = _interopRequireDefault(_profile);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('profile', _profile2.default, {});
}

_index2.default.addInitializer({
  name: 'reducer:profile',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/profile":245,"../../services/store":264}],231:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var _selection2 = _interopRequireDefault(_selection);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('selection', _selection2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:selection',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/selection":246,"../../services/store":264}],232:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../reducers/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:snackbar',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/snackbar":247,"../../services/store":264}],233:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _thread = require('../../reducers/thread');

var _thread2 = _interopRequireDefault(_thread);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = (0, _thread.hydrate)(_index2.default.get('THREAD'));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('thread', _thread2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:thread',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/thread":248,"../../services/store":264}],234:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../reducers/threads');

var _threads2 = _interopRequireDefault(_threads);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('threads', _threads2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:threads',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/threads":249,"../../services/store":264}],235:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../../reducers/tick');

var _tick2 = _interopRequireDefault(_tick);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:tick',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/tick":250,"../../services/store":264}],236:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('username-history', _usernameHistory2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:username-history',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/username-history":251,"../../services/store":264}],237:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _users2 = _interopRequireDefault(_users);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('users', _users2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:users',
  initializer: initializer,
  before: 'store'
});

},{"../../index":202,"../../reducers/users":252,"../../services/store":264}],238:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar2.default.init(_store2.default);
}

_index2.default.addInitializer({
  name: 'snackbar',
  initializer: initializer,
  after: 'store'
});

},{"../index":202,"../services/snackbar":263,"../services/store":264}],239:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.init();
}

_index2.default.addInitializer({
  name: 'store',
  initializer: initializer,
  before: '_end'
});

},{"../index":202,"../services/store":264}],240:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../reducers/tick');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store2.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_index2.default.addInitializer({
  name: 'tick-start',
  initializer: initializer,
  after: 'store'
});

},{"../index":202,"../reducers/tick":250,"../services/store":264}],241:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn2.default.init(_include2.default);
}

_index2.default.addInitializer({
  name: 'zxcvbn',
  initializer: initializer
});

},{"../index":202,"../services/include":256,"../services/zxcvbn":265}],242:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = undefined;
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;

var _users = require('./users');

var initialState = exports.initialState = {
  signedIn: false,
  signedOut: false
};

var PATCH_USER = exports.PATCH_USER = 'PATCH_USER';
var SIGN_IN = exports.SIGN_IN = 'SIGN_IN';
var SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          'avatar_hash': action.avatarHash
        });
        return _newState;
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;

    default:
      return state;
  }
}

},{"./users":252}],243:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_POST = undefined;
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = post;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = exports.PATCH_POST = 'PATCH_POST';

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),
    updated_on: (0, _moment2.default)(json.updated_on),
    hidden_on: (0, _moment2.default)(json.hidden_on),

    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,

    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;

    default:
      return state;
  }
}

},{"./users":252,"moment":"moment"}],244:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = undefined;
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.unload = unload;
exports.default = posts;

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SELECT_POST = exports.SELECT_POST = 'SELECT_POST';
var DESELECT_POST = exports.DESELECT_POST = 'DESELECT_POST';
var DESELECT_POSTS = exports.DESELECT_POSTS = 'DESELECT_POSTS';
var LOAD_POSTS = exports.LOAD_POSTS = 'LOAD_POSTS';
var UNLOAD_POSTS = exports.UNLOAD_POSTS = 'UNLOAD_POSTS';

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });

      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post2.default)(post, action);
      });

      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":243}],245:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = undefined;
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = exports.HYDRATE_PROFILE = 'HYDRATE_PROFILE';
var PATCH_PROFILE = exports.PATCH_PROFILE = 'PATCH_PROFILE';

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment2.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatar_hash: action.avatarHash
        });
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;

    default:
      return state;
  }
}

},{"./users":252,"moment":"moment"}],246:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = undefined;
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;

var _sets = require('../utils/sets');

var SELECT_ALL = exports.SELECT_ALL = 'SELECT_ALL';
var SELECT_NONE = exports.SELECT_NONE = 'SELECT_NONE';
var SELECT_ITEM = exports.SELECT_ITEM = 'SELECT_ITEM';

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":277}],247:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
var initialState = exports.initialState = {
  type: 'info',
  message: '',
  isVisible: false
};

var SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';
var HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],248:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = exports.BUSY_THREAD = 'BUSY_THREAD';
var RELEASE_THREAD = exports.RELEASE_THREAD = 'RELEASE_THREAD';
var REPLACE_THREAD = exports.REPLACE_THREAD = 'REPLACE_THREAD';
var UPDATE_THREAD = exports.UPDATE_THREAD = 'UPDATE_THREAD';

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment2.default)(json.started_on),
    last_post_on: (0, _moment2.default)(json.last_post_on),

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_THREAD:
      return Object.assign({}, state, { isBusy: false });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],249:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.READ_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = undefined;
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.read = read;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = exports.APPEND_THREADS = 'APPEND_THREADS';
var DELETE_THREAD = exports.DELETE_THREAD = 'DELETE_THREAD';
var FILTER_THREADS = exports.FILTER_THREADS = 'FILTER_THREADS';
var HYDRATE_THREADS = exports.HYDRATE_THREADS = 'HYDRATE_THREADS';
var PATCH_THREAD = exports.PATCH_THREAD = 'PATCH_THREAD';
var READ_THREADS = exports.READ_THREADS = 'READ_THREADS';
var SORT_THREADS = exports.SORT_THREADS = 'SORT_THREADS';

var MODERATION_PERMISSIONS = exports.MODERATION_PERMISSIONS = ['can_announce', 'can_approve', 'can_close', 'can_hide', 'can_move', 'can_merge', 'can_pin', 'can_review'];

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function read(categoriesMap, category) {
  return {
    type: READ_THREADS,
    categoriesMap: categoriesMap,
    category: category
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment2.default)(thread.started_on),
    last_post_on: (0, _moment2.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique2.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;

    case READ_THREADS:
      return state.map(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          return Object.assign({}, item, {
            is_read: true
          });
        } else {
          return item;
        }
      });

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":268,"moment":"moment"}],250:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
var initialState = exports.initialState = {
  tick: 0
};

var TICK = exports.TICK = 'TICK';

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],251:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = undefined;
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = exports.ADD_NAME_CHANGE = 'ADD_NAME_CHANGE';
var APPEND_HISTORY = exports.APPEND_HISTORY = 'APPEND_HISTORY';
var HYDRATE_HISTORY = exports.HYDRATE_HISTORY = 'HYDRATE_HISTORY';

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment2.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000), // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment2.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            'avatar_hash': action.avatarHash
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            'username': action.username,
            'slug': action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":268,"./users":252,"moment":"moment"}],252:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = undefined;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = exports.APPEND_USERS = 'APPEND_USERS';
var HYDRATE_USERS = exports.HYDRATE_USERS = 'HYDRATE_USERS';
var UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';
var UPDATE_USERNAME = exports.UPDATE_USERNAME = 'UPDATE_USERNAME';

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment2.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment2.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment2.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatarHash) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatarHash: avatarHash
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      var mergedState = (0, _concatUnique2.default)(state, action.items.map(hydrateUser));

      return mergedState.sort(function (a, b) {
        if (a.username < b.username) {
          return -1;
        } else if (a.username > b.username) {
          return 1;
        } else {
          return 0;
        }
      });

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatar_hash = action.avatarHash;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":268,"moment":"moment"}],253:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ajax = exports.Ajax = function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: 'init',
    value: function init(cookieName) {
      this._cookieName = cookieName;
      this._csrfToken = this.getCsrfToken();
    }
  }, {
    key: 'getCsrfToken',
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + '\=([^;]*)');
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split('=')[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: 'request',
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            'X-CSRFToken': self._csrfToken
          },

          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: 'json',

          success: function success(data) {
            resolve(data);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }, {
    key: 'get',
    value: function get(url, params, lock) {
      var _this = this;

      if (params) {
        url += '?' + $.param(params);
      }

      if (lock) {
        var _ret = function () {
          var self = _this;

          // update url in existing lock?
          if (_this._locks[lock]) {
            _this._locks[lock].url = url;
          }

          // immediately dereference promise handlers without doing anything
          // we are already waiting for existing response to resolve
          if (_this._locks[lock] && _this._locks[lock].waiter) {
            return {
              v: {
                then: function then() {
                  return;
                }
              }
            };

            // return promise that will begin when original one resolves
          } else if (_this._locks[lock] && _this._locks[lock].wait) {
            _this._locks[lock].waiter = true;

            return {
              v: new Promise(function (resolve, reject) {
                var wait = function wait(url) {
                  // keep waiting on promise
                  if (self._locks[lock].wait) {
                    window.setTimeout(function () {
                      wait(url);
                    }, 300);

                    // poll for new url
                  } else if (self._locks[lock].url !== url) {
                    wait(self._locks[lock].url);

                    // ajax backend for response
                  } else {
                    self._locks[lock].waiter = false;
                    self.request('GET', self._locks[lock].url).then(function (data) {
                      if (self._locks[lock].url === url) {
                        resolve(data);
                      } else {
                        self._locks[lock].waiter = true;
                        wait(self._locks[lock].url);
                      }
                    }, function (rejection) {
                      if (self._locks[lock].url === url) {
                        reject(rejection);
                      } else {
                        self._locks[lock].waiter = true;
                        wait(self._locks[lock].url);
                      }
                    });
                  }
                };

                window.setTimeout(function () {
                  wait(url);
                }, 300);
              })
            };

            // setup new lock without waiter
          } else {
            _this._locks[lock] = {
              url: url,
              wait: true,
              waiter: false
            };

            return {
              v: new Promise(function (resolve, reject) {
                self.request('GET', url).then(function (data) {
                  self._locks[lock].wait = false;
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  }
                }, function (rejection) {
                  self._locks[lock].wait = false;
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  }
                });
              })
            };
          }
        }();

        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
      } else {
        return this.request('GET', url);
      }
    }
  }, {
    key: 'post',
    value: function post(url, data) {
      return this.request('POST', url, data);
    }
  }, {
    key: 'patch',
    value: function patch(url, data) {
      return this.request('PATCH', url, data);
    }
  }, {
    key: 'put',
    value: function put(url, data) {
      return this.request('PUT', url, data);
    }
  }, {
    key: 'delete',
    value: function _delete(url) {
      return this.request('DELETE', url);
    }
  }, {
    key: 'upload',
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: 'POST',
          headers: {
            'X-CSRFToken': self._csrfToken
          },

          data: data,
          contentType: false,
          processData: false,

          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },

          success: function success(response) {
            resolve(response);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.default = new Ajax();

},{}],254:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Auth = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _auth = require('../reducers/auth');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Auth = exports.Auth = function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: 'init',
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: 'syncSession',
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set('auth', {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set('auth', {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: 'watchState',
    value: function watchState() {
      var _this = this;

      this._local.watch('auth', function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else {
          _this._store.dispatch((0, _auth.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: 'signIn',
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));
      this._local.set('auth', {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: 'signOut',
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: 'softSignOut',
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.default = new Auth();

},{"../reducers/auth":242}],255:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formGroup = require('../components/form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var BaseCaptcha = exports.BaseCaptcha = function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

var NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _possibleConstructorReturn(this, (NoCaptcha.__proto__ || Object.getPrototypeOf(NoCaptcha)).apply(this, arguments));
  }

  _createClass(NoCaptcha, [{
    key: 'load',
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return null;
    }
  }, {
    key: 'component',
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

var QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _possibleConstructorReturn(this, (QACaptcha.__proto__ || Object.getPrototypeOf(QACaptcha)).apply(this, arguments));
  }

  _createClass(QACaptcha, [{
    key: 'load',
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get('CAPTCHA_API')).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));
          reject();
        });
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        { label: this.question, 'for': 'id_captcha',
          labelClass: kwargs.labelClass || "col-sm-4",
          controlClass: kwargs.controlClass || "col-sm-8",
          validation: kwargs.form.state.errors.captcha,
          helpText: this.helpText || null },
        _react2.default.createElement('input', { type: 'text', id: 'id_captcha', className: 'form-control',
          'aria-describedby': 'id_captcha_status',
          disabled: kwargs.form.state.isLoading,
          onChange: kwargs.form.bindInput('captcha'),
          value: kwargs.form.state.captcha })
      );
    }
    /* jshint ignore:end */

  }]);

  return QACaptcha;
}(BaseCaptcha);

var ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _possibleConstructorReturn(this, (ReCaptchaComponent.__proto__ || Object.getPrototypeOf(ReCaptchaComponent)).apply(this, arguments));
  }

  _createClass(ReCaptchaComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this4 = this;

      grecaptcha.render('recaptcha', {
        'sitekey': this.props.siteKey,
        'callback': function callback(response) {
          // fire fakey event to binding
          _this4.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('div', { id: 'recaptcha' });
      /* jshint ignore:end */
    }
  }]);

  return ReCaptchaComponent;
}(_react2.default.Component);

var ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _possibleConstructorReturn(this, (ReCaptcha.__proto__ || Object.getPrototypeOf(ReCaptcha)).apply(this, arguments));
  }

  _createClass(ReCaptcha, [{
    key: 'load',
    value: function load() {
      this._include.include('https://www.google.com/recaptcha/api.js', true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        { label: gettext("Captcha"), 'for': 'id_captcha',
          labelClass: kwargs.labelClass || "col-sm-4",
          controlClass: kwargs.controlClass || "col-sm-8",
          validation: kwargs.form.state.errors.captcha,
          helpText: gettext("Please solve the quick test.") },
        _react2.default.createElement(ReCaptchaComponent, { siteKey: this._context.get('SETTINGS').recaptcha_site_key,
          binding: kwargs.form.bindInput('captcha') })
      );
    }
    /* jshint ignore:end */

  }]);

  return ReCaptcha;
}(BaseCaptcha);

var Captcha = exports.Captcha = function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      switch (context.get('SETTINGS').captcha_type) {
        case 'no':
          this._captcha = new NoCaptcha();
          break;

        case 'qa':
          this._captcha = new QACaptcha();
          break;

        case 're':
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy

  }, {
    key: 'load',
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: 'validator',
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: 'component',
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.default = new Captcha();

},{"../components/form-group":53,"react":"react"}],256:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Include = exports.Include = function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: 'init',
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: 'include',
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: '_include',
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : '') + script,
        cache: true,
        dataType: 'script'
      });
    }
  }]);

  return Include;
}();

exports.default = new Include();

},{}],257:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var storage = window.localStorage;

var LocalStorage = exports.LocalStorage = function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: 'init',
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];

      window.addEventListener('storage', function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: 'set',
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: 'get',
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: 'watch',
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.default = new LocalStorage();

},{}],258:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MobileNavbarDropdown = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: 'init',
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: 'show',
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent2.default)(component, this._element.id);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'showConnected',
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent2.default)(component, this._element.id, true);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'hide',
    value: function hide() {
      $(this._element).removeClass('open');
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.default = new MobileNavbarDropdown();

},{"../utils/mount-component":272}],259:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Modal = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modal = exports.Modal = function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: 'init',
    value: function init(element) {
      var _this = this;

      this._element = element;

      this._modal = $(element).modal({ show: false });

      this._modal.on('hidden.bs.modal', function () {
        _reactDom2.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: 'show',
    value: function show(component) {
      (0, _mountComponent2.default)(component, this._element.id);
      this._modal.modal('show');
    }
  }, {
    key: 'hide',
    value: function hide() {
      this._modal.modal('hide');
    }
  }]);

  return Modal;
}();

exports.default = new Modal();

},{"../utils/mount-component":272,"react-dom":"react-dom"}],260:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PageTitle = exports.PageTitle = function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: 'init',
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: 'set',
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === 'string') {
        title = { title: title };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext('page: %(page)s'), {
          page: title.page
        }, true);

        finalTitle += ' (' + pageLabel + ')';
      }

      if (title.parent) {
        finalTitle += ' | ' + title.parent;
      }

      document.title = finalTitle + ' | ' + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.default = new PageTitle();

},{}],261:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Polls = exports.Polls = function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;

      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);

            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.default = new Polls();

},{}],262:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Posting = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _posting = require('../components/posting');

var _posting2 = _interopRequireDefault(_posting);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Posting = exports.Posting = function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    this.close = function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._placeholder.removeClass('slide-in');

        window.setTimeout(function () {
          _reactDom2.default.unmountComponentAtNode(document.getElementById('posting-mount'));
          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    };
  }

  _createClass(Posting, [{
    key: 'init',
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);

      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: 'open',
    value: function open(props) {
      if (this._isOpen === false) {
        this._isOpen = props.config;
        this._realOpen(props);
      } else if (this._isOpen !== props.config) {
        var changeForm = confirm(gettext("You are already working on other message. Do you want to discard it?"));
        if (changeForm) {
          this._isOpen = props.config;
          this._realOpen(props);
        }
      }
    }

    // jshint ignore:start

  }, {
    key: '_realOpen',

    // jshint ignore:end
    value: function _realOpen(props) {
      (0, _mountComponent2.default)(_react2.default.createElement(_posting2.default, props), 'posting-mount');

      this._placeholder.addClass('slide-in');
    }
  }]);

  return Posting;
}();

exports.default = new Posting();

},{"../components/posting":75,"../utils/mount-component":272,"react":"react","react-dom":"react-dom"}],263:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _snackbar = require('../reducers/snackbar');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = exports.Snackbar = function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: 'init',
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: 'alert',
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));
        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    }

    // shorthands for message types

  }, {
    key: 'info',
    value: function info(message) {
      this.alert(message, 'info');
    }
  }, {
    key: 'success',
    value: function success(message) {
      this.alert(message, 'success');
    }
  }, {
    key: 'warning',
    value: function warning(message) {
      this.alert(message, 'warning');
    }
  }, {
    key: 'error',
    value: function error(message) {
      this.alert(message, 'error');
    }

    // shorthand for api errors

  }, {
    key: 'apiError',
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.default = new Snackbar();

},{"../reducers/snackbar":247}],264:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StoreWrapper = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _redux = require('redux');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StoreWrapper = exports.StoreWrapper = function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: 'addReducer',
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: 'init',
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: 'getStore',
    value: function getStore() {
      return this._store;
    }

    // Store API

  }, {
    key: 'getState',
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: 'dispatch',
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.default = new StoreWrapper();

},{"redux":"redux"}],265:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global zxcvbn */
var Zxcvbn = exports.Zxcvbn = function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      return zxcvbn(password, inputs).score;
    }
  }, {
    key: "load",
    value: function load() {
      if (typeof zxcvbn === "undefined") {
        this._include.include('misago/js/zxcvbn.js');
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.default = new Zxcvbn();

},{}],266:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (ban, changeState) {
  _reactDom2.default.render(
  /* jshint ignore:start */
  _react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,
      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })
  ),
  /* jshint ignore:end */
  document.getElementById('page-mount'));

  if (typeof changeState === 'undefined' || changeState) {
    var forumName = _index2.default.get('SETTINGS').forum_name;
    document.title = gettext("You are banned") + ' | ' + forumName;
    window.history.pushState({}, "", _index2.default.get('BANNED_URL'));
  }
};

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _bannedPage = require('../components/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:line

/* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
var select = function select(state) {
  return state.tick;
}; // jshint ignore:line
// jshint ignore:line


var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);
/* jshint ignore:end */

},{"../components/banned-page":31,"../index":202,"../services/store":264,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],267:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var rows = [];
  var row = [];

  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
};

},{}],268:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
};

},{}],269:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _class = function () {
  function _class(callback, count) {
    _classCallCheck(this, _class);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_class, [{
    key: "count",
    value: function count() {
      this._count -= 1;
      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _class;
}();

exports.default = _class;

},{}],270:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
};

var map = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#039;'
};

},{}],271:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (bytes) {
  if (bytes > 1000 * 1000 * 1000) {
    return Math.round(bytes * 100 / (1000 * 1000 * 1000)) / 100 + ' GB';
  } else if (bytes > 1000 * 1000) {
    return Math.round(bytes * 100 / (1000 * 1000)) / 100 + ' MB';
  } else if (bytes > 1000) {
    return Math.round(bytes * 100 / 1000) / 100 + ' KB';
  } else {
    return Math.round(bytes * 100) / 100 + ' B';
  }
};

},{}],272:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

  var rootElement = document.getElementById(rootElementId);

  /* jshint ignore:start */
  var finalComponent = Component.props ? Component : _react2.default.createElement(Component, null);
  /* jshint ignore:end */

  if (rootElement) {
    if (connected) {
      _reactDom2.default.render(
      /* jshint ignore:start */
      _react2.default.createElement(
        _reactRedux.Provider,
        { store: _store2.default.getStore() },
        finalComponent
      ),
      /* jshint ignore:end */
      rootElement);
    } else {
      /* jshint ignore:start */
      _reactDom2.default.render(finalComponent, rootElement);
      /* jshint ignore:end */
    }
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../services/store":264,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],273:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var OrderedList = function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,

        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === 'undefined') {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

exports.default = OrderedList;

},{}],274:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;
function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],275:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  window.scrollTo(0, 0);
};

},{}],276:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (options) {
  var routes = {
    path: 'forum/',
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(_reactRouter.Router, { routes: routes, history: browserHistory })
  ), rootElement);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _reactRouter = require('react-router');

var _history = require('history');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var rootElement = document.getElementById('page-mount');

var browserHistory = (0, _reactRouter.useRouterHistory)(_history.createHistory)({
  basename: '/'
});

},{"../services/store":264,"history":17,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],277:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],278:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();

  if (subString.length <= 0) return 0;

  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
};

},{}],279:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp('^[0-9a-z]+$', 'i');

function required() {
  return function (value) {
    if ($.trim(value).length === 0) {
      return gettext("This field is required.");
    }
  };
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(settings) {
  var message = function message(limitValue) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", limitValue);
  };
  return this.minLength(settings.username_length_min, message);
}

function usernameMaxLength(settings) {
  var message = function message(limitValue) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", limitValue);
  };
  return this.maxLength(settings.username_length_max, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(settings) {
  var message = function message(limitValue) {
    return ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);
  };
  return this.minLength(settings.password_length_min, message);
}

},{}]},{},[202,203,204,205,219,220,221,222,223,224,225,226,238,239,240,241,206,207,208,209,210,211,212,213,214,215,216,217,218,227,228,229,230,231,232,233,234,235,236,237])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL0FjdGlvbnMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvQXN5bmNVdGlscy5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9ET01TdGF0ZVN0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRE9NVXRpbHMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvUGF0aFV0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2NyZWF0ZUJyb3dzZXJIaXN0b3J5LmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2NyZWF0ZURPTUhpc3RvcnkuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlSGFzaEhpc3RvcnkuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlSGlzdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9jcmVhdGVMb2NhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9jcmVhdGVNZW1vcnlIaXN0b3J5LmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2RlcHJlY2F0ZS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9lbmFibGVCZWZvcmVVbmxvYWQuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvZW5hYmxlUXVlcmllcy5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9ydW5UcmFuc2l0aW9uSG9vay5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi91c2VCYXNlbmFtZS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi91c2VCZWZvcmVVbmxvYWQuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvdXNlUXVlcmllcy5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L25vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2hpc3Rvcnkvbm9kZV9tb2R1bGVzL2RlZXAtZXF1YWwvbGliL2lzX2FyZ3VtZW50cy5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L25vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2xpYi9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2hpc3Rvcnkvbm9kZV9tb2R1bGVzL2ludmFyaWFudC9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2hpc3Rvcnkvbm9kZV9tb2R1bGVzL3F1ZXJ5LXN0cmluZy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L25vZGVfbW9kdWxlcy9xdWVyeS1zdHJpbmcvbm9kZV9tb2R1bGVzL3N0cmljdC11cmktZW5jb2RlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2hpc3Rvcnkvbm9kZV9tb2R1bGVzL3dhcm5pbmcvYnJvd3Nlci5qcyIsInNyYy9jb21wb25lbnRzL2F1dGgtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL2F2YXRhci5qcyIsInNyYy9jb21wb25lbnRzL2Jhbm5lZC1wYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS1zdWJjYXRlZ29yaWVzLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvbGFzdC1hY3Rpdml0eS5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvcmVhZC1pY29uLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9zdGF0cy5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3ViY2F0ZWdvcnktc3ViY2F0ZWdvcmllcy5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvY3JvcC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvZ2FsbGVyeS5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3VwbG9hZC5qcyIsInNyYy9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL3VwbG9hZC1idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvdXBsb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvbWFya3VwLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy9mb3JtLWdyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2xpLmpzIiwic3JjL2NvbXBvbmVudHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cC5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvYWRpbmcuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvY2tlZC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9mb3J1bS1vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1lbWFpbC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtcGFzc3dvcmQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3BhZ2UtbGVhZC5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvZWRpdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3JlcGx5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9zdGFydC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvY29udGFpbmVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL21lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3ZhbGlkYXRvcnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pY29uLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaW5mby5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYm9keS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2Ryb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvc3BsaXQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvZmxhZ3MuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvZm9vdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3Qvd2F5cG9pbnQuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2Jhbi1kZXRhaWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3ctYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd3MuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2RlbGV0ZS1hY2NvdW50LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL25hdi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbmF2cy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsuanMiLCJzcmMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC5qcyIsInNyYy9jb21wb25lbnRzL3NlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL3NpZ24taW4uanMiLCJzcmMvY29tcG9uZW50cy9zbmFja2Jhci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvYnJlYWRjcnVtYnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9zdGF0cy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9zcGxpdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pcy12aXNpYmxlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcGFnaW5hdG9yLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JlcGx5LWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3N1YnNjcmlwdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC90b29sYmFyLXRvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2NhdGVnb3J5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NvbXBhY3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvZnVsbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZmxhZ3MuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2ljb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NhdGVnb3J5LXBpY2tlci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvY29tcGFyZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvY29udGFpbmVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2xpc3QtZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbWVyZ2UuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9zZWxlY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS9ndWVzdC1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS91c2VyLW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3VzZXItY2FyZC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzLWxpc3QvdXNlci1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbS1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LWxvYWRpbmcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL3BhZ2VyLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoLmpzIiwic3JjL2luZGV4LmpzIiwic3JjL2luaXRpYWxpemVycy9hamF4LmpzIiwic3JjL2luaXRpYWxpemVycy9hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9jYXB0Y2hhLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2F1dGgtbWVzc2FnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9jYXRlZ29yaWVzLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL29wdGlvbnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcHJvZmlsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluay5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm0uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdGhyZWFkLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3RocmVhZHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdXNlci1tZW51LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3VzZXJzLmpzIiwic3JjL2luaXRpYWxpemVycy9pbmNsdWRlLmpzIiwic3JjL2luaXRpYWxpemVycy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2RhbC5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9tZW50LWxvY2FsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcGFnZS10aXRsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcG9sbHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3Bvc3RpbmcuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Bvc3RzLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLWh5ZHJhdGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Byb2ZpbGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9zdG9yZS5qcyIsInNyYy9pbml0aWFsaXplcnMvdGljay1zdGFydC5qcyIsInNyYy9pbml0aWFsaXplcnMvenhjdmJuLmpzIiwic3JjL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvcmVkdWNlcnMvcG9zdC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9yZWR1Y2Vycy9zbmFja2Jhci5qcyIsInNyYy9yZWR1Y2Vycy90aHJlYWQuanMiLCJzcmMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9yZWR1Y2Vycy90aWNrLmpzIiwic3JjL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvc2VydmljZXMvYWpheC5qcyIsInNyYy9zZXJ2aWNlcy9hdXRoLmpzIiwic3JjL3NlcnZpY2VzL2NhcHRjaGEuanMiLCJzcmMvc2VydmljZXMvaW5jbHVkZS5qcyIsInNyYy9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24uanMiLCJzcmMvc2VydmljZXMvbW9kYWwuanMiLCJzcmMvc2VydmljZXMvcGFnZS10aXRsZS5qcyIsInNyYy9zZXJ2aWNlcy9wb2xscy5qcyIsInNyYy9zZXJ2aWNlcy9wb3N0aW5nLmpzIiwic3JjL3NlcnZpY2VzL3NuYWNrYmFyLmpzIiwic3JjL3NlcnZpY2VzL3N0b3JlLmpzIiwic3JjL3NlcnZpY2VzL3p4Y3Zibi5qcyIsInNyYy91dGlscy9iYW5uZWQtcGFnZS5qcyIsInNyYy91dGlscy9iYXRjaC5qcyIsInNyYy91dGlscy9jb25jYXQtdW5pcXVlLmpzIiwic3JjL3V0aWxzL2NvdW50ZG93bi5qcyIsInNyYy91dGlscy9lc2NhcGUtaHRtbC5qcyIsInNyYy91dGlscy9maWxlLXNpemUuanMiLCJzcmMvdXRpbHMvbW91bnQtY29tcG9uZW50LmpzIiwic3JjL3V0aWxzL29yZGVyZWQtbGlzdC5qcyIsInNyYy91dGlscy9yYW5kb20uanMiLCJzcmMvdXRpbHMvcmVzZXQtc2Nyb2xsLmpzIiwic3JjL3V0aWxzL3JvdXRlZC1jb21wb25lbnQuanMiLCJzcmMvdXRpbHMvc2V0cy5qcyIsInNyYy91dGlscy9zdHJpbmctY291bnQuanMiLCJzcmMvdXRpbHMvdmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNyUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQy9SQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDbERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3pKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzdKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDOUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMvS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBhIGNhbGwgdG8gaGlzdG9yeS5wdXNoLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgUFVTSCA9ICdQVVNIJztcblxuZXhwb3J0cy5QVVNIID0gUFVTSDtcbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IGEgY2FsbCB0byBoaXN0b3J5LnJlcGxhY2UuXG4gKi9cbnZhciBSRVBMQUNFID0gJ1JFUExBQ0UnO1xuXG5leHBvcnRzLlJFUExBQ0UgPSBSRVBMQUNFO1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgc29tZSBvdGhlciBhY3Rpb24gc3VjaFxuICogYXMgdXNpbmcgYSBicm93c2VyJ3MgYmFjay9mb3J3YXJkIGJ1dHRvbnMgYW5kL29yIG1hbnVhbGx5IG1hbmlwdWxhdGluZ1xuICogdGhlIFVSTCBpbiBhIGJyb3dzZXIncyBsb2NhdGlvbiBiYXIuIFRoaXMgaXMgdGhlIGRlZmF1bHQuXG4gKlxuICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dFdmVudEhhbmRsZXJzL29ucG9wc3RhdGVcbiAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG52YXIgUE9QID0gJ1BPUCc7XG5cbmV4cG9ydHMuUE9QID0gUE9QO1xuZXhwb3J0c1snZGVmYXVsdCddID0ge1xuICBQVVNIOiBQVVNILFxuICBSRVBMQUNFOiBSRVBMQUNFLFxuICBQT1A6IFBPUFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBfc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5leHBvcnRzLmxvb3BBc3luYyA9IGxvb3BBc3luYztcblxuZnVuY3Rpb24gbG9vcEFzeW5jKHR1cm5zLCB3b3JrLCBjYWxsYmFjaykge1xuICB2YXIgY3VycmVudFR1cm4gPSAwLFxuICAgICAgaXNEb25lID0gZmFsc2U7XG4gIHZhciBzeW5jID0gZmFsc2UsXG4gICAgICBoYXNOZXh0ID0gZmFsc2UsXG4gICAgICBkb25lQXJncyA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGlzRG9uZSA9IHRydWU7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIC8vIEl0ZXJhdGUgaW5zdGVhZCBvZiByZWN1cnNpbmcgaWYgcG9zc2libGUuXG4gICAgICBkb25lQXJncyA9IFtdLmNvbmNhdChfc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpZiAoaXNEb25lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaGFzTmV4dCA9IHRydWU7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIC8vIEl0ZXJhdGUgaW5zdGVhZCBvZiByZWN1cnNpbmcgaWYgcG9zc2libGUuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3luYyA9IHRydWU7XG5cbiAgICB3aGlsZSAoIWlzRG9uZSAmJiBjdXJyZW50VHVybiA8IHR1cm5zICYmIGhhc05leHQpIHtcbiAgICAgIGhhc05leHQgPSBmYWxzZTtcbiAgICAgIHdvcmsuY2FsbCh0aGlzLCBjdXJyZW50VHVybisrLCBuZXh0LCBkb25lKTtcbiAgICB9XG5cbiAgICBzeW5jID0gZmFsc2U7XG5cbiAgICBpZiAoaXNEb25lKSB7XG4gICAgICAvLyBUaGlzIG1lYW5zIHRoZSBsb29wIGZpbmlzaGVkIHN5bmNocm9ub3VzbHkuXG4gICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBkb25lQXJncyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRUdXJuID49IHR1cm5zICYmIGhhc05leHQpIHtcbiAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn0iLCIvKmVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLnNhdmVTdGF0ZSA9IHNhdmVTdGF0ZTtcbmV4cG9ydHMucmVhZFN0YXRlID0gcmVhZFN0YXRlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgS2V5UHJlZml4ID0gJ0BASGlzdG9yeS8nO1xudmFyIFF1b3RhRXhjZWVkZWRFcnJvcnMgPSBbJ1F1b3RhRXhjZWVkZWRFcnJvcicsICdRVU9UQV9FWENFRURFRF9FUlInXTtcblxudmFyIFNlY3VyaXR5RXJyb3IgPSAnU2VjdXJpdHlFcnJvcic7XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleShrZXkpIHtcbiAgcmV0dXJuIEtleVByZWZpeCArIGtleTtcbn1cblxuZnVuY3Rpb24gc2F2ZVN0YXRlKGtleSwgc3RhdGUpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhdGUgPT0gbnVsbCkge1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oY3JlYXRlS2V5KGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShjcmVhdGVLZXkoa2V5KSwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFNlY3VyaXR5RXJyb3IpIHtcbiAgICAgIC8vIEJsb2NraW5nIGNvb2tpZXMgaW4gQ2hyb21lL0ZpcmVmb3gvU2FmYXJpIHRocm93cyBTZWN1cml0eUVycm9yIG9uIGFueVxuICAgICAgLy8gYXR0ZW1wdCB0byBhY2Nlc3Mgd2luZG93LnNlc3Npb25TdG9yYWdlLlxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBzZWN1cml0eSBzZXR0aW5ncycpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFF1b3RhRXhjZWVkZWRFcnJvcnMuaW5kZXhPZihlcnJvci5uYW1lKSA+PSAwICYmIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFNhZmFyaSBcInByaXZhdGUgbW9kZVwiIHRocm93cyBRdW90YUV4Y2VlZGVkRXJyb3IuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHNhdmUgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gU2FmYXJpIHByaXZhdGUgbW9kZScpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVhZFN0YXRlKGtleSkge1xuICB2YXIganNvbiA9IHVuZGVmaW5lZDtcbiAgdHJ5IHtcbiAgICBqc29uID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY3JlYXRlS2V5KGtleSkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvci5uYW1lID09PSBTZWN1cml0eUVycm9yKSB7XG4gICAgICAvLyBCbG9ja2luZyBjb29raWVzIGluIENocm9tZS9GaXJlZm94L1NhZmFyaSB0aHJvd3MgU2VjdXJpdHlFcnJvciBvbiBhbnlcbiAgICAgIC8vIGF0dGVtcHQgdG8gYWNjZXNzIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1toaXN0b3J5XSBVbmFibGUgdG8gcmVhZCBzdGF0ZTsgc2Vzc2lvblN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gc2VjdXJpdHkgc2V0dGluZ3MnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaWYgKGpzb24pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElnbm9yZSBpbnZhbGlkIEpTT04uXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjtcbmV4cG9ydHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXI7XG5leHBvcnRzLmdldEhhc2hQYXRoID0gZ2V0SGFzaFBhdGg7XG5leHBvcnRzLnJlcGxhY2VIYXNoUGF0aCA9IHJlcGxhY2VIYXNoUGF0aDtcbmV4cG9ydHMuZ2V0V2luZG93UGF0aCA9IGdldFdpbmRvd1BhdGg7XG5leHBvcnRzLmdvID0gZ287XG5leHBvcnRzLmdldFVzZXJDb25maXJtYXRpb24gPSBnZXRVc2VyQ29uZmlybWF0aW9uO1xuZXhwb3J0cy5zdXBwb3J0c0hpc3RvcnkgPSBzdXBwb3J0c0hpc3Rvcnk7XG5leHBvcnRzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2g7XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIGlmIChub2RlLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICBpZiAobm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SGFzaFBhdGgoKSB7XG4gIC8vIFdlIGNhbid0IHVzZSB3aW5kb3cubG9jYXRpb24uaGFzaCBoZXJlIGJlY2F1c2UgaXQncyBub3RcbiAgLy8gY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnMgLSBGaXJlZm94IHdpbGwgcHJlLWRlY29kZSBpdCFcbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMV0gfHwgJyc7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VIYXNoUGF0aChwYXRoKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyAnIycgKyBwYXRoKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93UGF0aCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKyB3aW5kb3cubG9jYXRpb24uaGFzaDtcbn1cblxuZnVuY3Rpb24gZ28obikge1xuICBpZiAobikgd2luZG93Lmhpc3RvcnkuZ28obik7XG59XG5cbmZ1bmN0aW9uIGdldFVzZXJDb25maXJtYXRpb24obWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmFja3QvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gd2luZG93Lmhpc3RvcnkgJiYgJ3B1c2hTdGF0ZScgaW4gd2luZG93Lmhpc3Rvcnk7XG59XG5cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xuICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICByZXR1cm4gdWEuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbmV4cG9ydHMuY2FuVXNlRE9NID0gY2FuVXNlRE9NOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZXh0cmFjdFBhdGggPSBleHRyYWN0UGF0aDtcbmV4cG9ydHMucGFyc2VQYXRoID0gcGFyc2VQYXRoO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBleHRyYWN0UGF0aChzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gc3RyaW5nLm1hdGNoKC9eaHR0cHM/OlxcL1xcL1teXFwvXSovKTtcblxuICBpZiAobWF0Y2ggPT0gbnVsbCkgcmV0dXJuIHN0cmluZztcblxuICByZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBleHRyYWN0UGF0aChwYXRoKTtcbiAgdmFyIHNlYXJjaCA9ICcnO1xuICB2YXIgaGFzaCA9ICcnO1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShwYXRoID09PSBwYXRobmFtZSwgJ0EgcGF0aCBtdXN0IGJlIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaCBvbmx5LCBub3QgYSBmdWxseSBxdWFsaWZpZWQgVVJMIGxpa2UgXCIlc1wiJywgcGF0aCkgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICBoYXNoID0gcGF0aG5hbWUuc3Vic3RyaW5nKGhhc2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHJpbmcoMCwgaGFzaEluZGV4KTtcbiAgfVxuXG4gIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcbiAgaWYgKHNlYXJjaEluZGV4ICE9PSAtMSkge1xuICAgIHNlYXJjaCA9IHBhdGhuYW1lLnN1YnN0cmluZyhzZWFyY2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHJpbmcoMCwgc2VhcmNoSW5kZXgpO1xuICB9XG5cbiAgaWYgKHBhdGhuYW1lID09PSAnJykgcGF0aG5hbWUgPSAnLyc7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaFxuICB9O1xufSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG52YXIgX0RPTVN0YXRlU3RvcmFnZSA9IHJlcXVpcmUoJy4vRE9NU3RhdGVTdG9yYWdlJyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlRE9NSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZURPTUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlRE9NSGlzdG9yeSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyBIVE1MNSdzIGhpc3RvcnkgQVBJXG4gKiAocHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQpIHRvIG1hbmFnZSBoaXN0b3J5LlxuICogVGhpcyBpcyB0aGUgcmVjb21tZW5kZWQgbWV0aG9kIG9mIG1hbmFnaW5nIGhpc3RvcnkgaW4gYnJvd3NlcnMgYmVjYXVzZVxuICogaXQgcHJvdmlkZXMgdGhlIGNsZWFuZXN0IFVSTHMuXG4gKlxuICogTm90ZTogSW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgZnVsbFxuICogcGFnZSByZWxvYWRzIHdpbGwgYmUgdXNlZCB0byBwcmVzZXJ2ZSBVUkxzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICB2YXIgZm9yY2VSZWZyZXNoID0gb3B0aW9ucy5mb3JjZVJlZnJlc2g7XG5cbiAgdmFyIGlzU3VwcG9ydGVkID0gX0RPTVV0aWxzLnN1cHBvcnRzSGlzdG9yeSgpO1xuICB2YXIgdXNlUmVmcmVzaCA9ICFpc1N1cHBvcnRlZCB8fCBmb3JjZVJlZnJlc2g7XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xuICAgIHRyeSB7XG4gICAgICBoaXN0b3J5U3RhdGUgPSBoaXN0b3J5U3RhdGUgfHwgd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaGlzdG9yeVN0YXRlID0ge307XG4gICAgfVxuXG4gICAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0V2luZG93UGF0aCgpO1xuICAgIHZhciBfaGlzdG9yeVN0YXRlID0gaGlzdG9yeVN0YXRlO1xuICAgIHZhciBrZXkgPSBfaGlzdG9yeVN0YXRlLmtleTtcblxuICAgIHZhciBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAoa2V5KSB7XG4gICAgICBzdGF0ZSA9IF9ET01TdGF0ZVN0b3JhZ2UucmVhZFN0YXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cbiAgICAgIGlmIChpc1N1cHBvcnRlZCkgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKF9leHRlbmRzKHt9LCBoaXN0b3J5U3RhdGUsIHsga2V5OiBrZXkgfSksIG51bGwpO1xuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKHBhdGgpO1xuXG4gICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24oX2V4dGVuZHMoe30sIGxvY2F0aW9uLCB7IHN0YXRlOiBzdGF0ZSB9KSwgdW5kZWZpbmVkLCBrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKF9yZWYpIHtcbiAgICB2YXIgdHJhbnNpdGlvblRvID0gX3JlZi50cmFuc2l0aW9uVG87XG5cbiAgICBmdW5jdGlvbiBwb3BTdGF0ZUxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuOyAvLyBJZ25vcmUgZXh0cmFuZW91cyBwb3BzdGF0ZSBldmVudHMgaW4gV2ViS2l0LlxuXG4gICAgICB0cmFuc2l0aW9uVG8oZ2V0Q3VycmVudExvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gICAgfVxuXG4gICAgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAncG9wc3RhdGUnLCBwb3BTdGF0ZUxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdwb3BzdGF0ZScsIHBvcFN0YXRlTGlzdGVuZXIpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hUcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG4gICAgdmFyIGJhc2VuYW1lID0gbG9jYXRpb24uYmFzZW5hbWU7XG4gICAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gICAgdmFyIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG4gICAgdmFyIGFjdGlvbiA9IGxvY2F0aW9uLmFjdGlvbjtcbiAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5O1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSByZXR1cm47IC8vIE5vdGhpbmcgdG8gZG8uXG5cbiAgICBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZShrZXksIHN0YXRlKTtcblxuICAgIHZhciBwYXRoID0gKGJhc2VuYW1lIHx8ICcnKSArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbiAgICB2YXIgaGlzdG9yeVN0YXRlID0ge1xuICAgICAga2V5OiBrZXlcbiAgICB9O1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgaWYgKHVzZVJlZnJlc2gpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXRoO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgbG9jYXRpb24gdXBkYXRlLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeVN0YXRlLCBudWxsLCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSRVBMQUNFXG4gICAgICBpZiAodXNlUmVmcmVzaCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShwYXRoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBQcmV2ZW50IGxvY2F0aW9uIHVwZGF0ZS5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3RvcnlTdGF0ZSwgbnVsbCwgcGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVET01IaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgZ2V0Q3VycmVudExvY2F0aW9uOiBnZXRDdXJyZW50TG9jYXRpb24sXG4gICAgZmluaXNoVHJhbnNpdGlvbjogZmluaXNoVHJhbnNpdGlvbixcbiAgICBzYXZlU3RhdGU6IF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlXG4gIH0pKTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDAsXG4gICAgICBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUobGlzdGVuZXIpIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuQmVmb3JlKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB1bmxpc3RlbigpO1xuXG4gICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wUG9wU3RhdGVMaXN0ZW5lciA9IHN0YXJ0UG9wU3RhdGVMaXN0ZW5lcihoaXN0b3J5KTtcblxuICAgIHZhciB1bmxpc3RlbiA9IGhpc3RvcnkubGlzdGVuKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB1bmxpc3RlbigpO1xuXG4gICAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuICAgIH07XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgaGlzdG9yeS5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGhpc3RvcnkudW5yZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spO1xuXG4gICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcFBvcFN0YXRlTGlzdGVuZXIoKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuICAgIGxpc3RlbjogbGlzdGVuLFxuICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssXG4gICAgdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rOiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2tcbiAgfSk7XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBfRE9NVXRpbHMgPSByZXF1aXJlKCcuL0RPTVV0aWxzJyk7XG5cbnZhciBfY3JlYXRlSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlSGlzdG9yeSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZURPTUhpc3Rvcnkob3B0aW9ucykge1xuICB2YXIgaGlzdG9yeSA9IF9jcmVhdGVIaXN0b3J5MlsnZGVmYXVsdCddKF9leHRlbmRzKHtcbiAgICBnZXRVc2VyQ29uZmlybWF0aW9uOiBfRE9NVXRpbHMuZ2V0VXNlckNvbmZpcm1hdGlvblxuICB9LCBvcHRpb25zLCB7XG4gICAgZ286IF9ET01VdGlscy5nb1xuICB9KSk7XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgIV9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ0RPTSBoaXN0b3J5IG5lZWRzIGEgRE9NJykgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbihsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gX2V4dGVuZHMoe30sIGhpc3RvcnksIHtcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9KTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlRE9NSGlzdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfUGF0aFV0aWxzID0gcmVxdWlyZSgnLi9QYXRoVXRpbHMnKTtcblxudmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIF9ET01VdGlscyA9IHJlcXVpcmUoJy4vRE9NVXRpbHMnKTtcblxudmFyIF9ET01TdGF0ZVN0b3JhZ2UgPSByZXF1aXJlKCcuL0RPTVN0YXRlU3RvcmFnZScpO1xuXG52YXIgX2NyZWF0ZURPTUhpc3RvcnkgPSByZXF1aXJlKCcuL2NyZWF0ZURPTUhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVET01IaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZURPTUhpc3RvcnkpO1xuXG5mdW5jdGlvbiBpc0Fic29sdXRlUGF0aChwYXRoKSB7XG4gIHJldHVybiB0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycgJiYgcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn1cblxuZnVuY3Rpb24gZW5zdXJlU2xhc2goKSB7XG4gIHZhciBwYXRoID0gX0RPTVV0aWxzLmdldEhhc2hQYXRoKCk7XG5cbiAgaWYgKGlzQWJzb2x1dGVQYXRoKHBhdGgpKSByZXR1cm4gdHJ1ZTtcblxuICBfRE9NVXRpbHMucmVwbGFjZUhhc2hQYXRoKCcvJyArIHBhdGgpO1xuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWRkUXVlcnlTdHJpbmdWYWx1ZVRvUGF0aChwYXRoLCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBwYXRoICsgKHBhdGguaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyAoa2V5ICsgJz0nICsgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBzdHJpcFF1ZXJ5U3RyaW5nVmFsdWVGcm9tUGF0aChwYXRoLCBrZXkpIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZShuZXcgUmVnRXhwKCdbPyZdPycgKyBrZXkgKyAnPVthLXpBLVowLTldKycpLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nVmFsdWVGcm9tUGF0aChwYXRoLCBrZXkpIHtcbiAgdmFyIG1hdGNoID0gcGF0aC5tYXRjaChuZXcgUmVnRXhwKCdcXFxcPy4qP1xcXFxiJyArIGtleSArICc9KC4rPylcXFxcYicpKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdO1xufVxuXG52YXIgRGVmYXVsdFF1ZXJ5S2V5ID0gJ19rJztcblxuZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgIV9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ0hhc2ggaGlzdG9yeSBuZWVkcyBhIERPTScpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIHF1ZXJ5S2V5ID0gb3B0aW9ucy5xdWVyeUtleTtcblxuICBpZiAocXVlcnlLZXkgPT09IHVuZGVmaW5lZCB8fCAhIXF1ZXJ5S2V5KSBxdWVyeUtleSA9IHR5cGVvZiBxdWVyeUtleSA9PT0gJ3N0cmluZycgPyBxdWVyeUtleSA6IERlZmF1bHRRdWVyeUtleTtcblxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oKSB7XG4gICAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0SGFzaFBhdGgoKTtcblxuICAgIHZhciBrZXkgPSB1bmRlZmluZWQsXG4gICAgICAgIHN0YXRlID0gdW5kZWZpbmVkO1xuICAgIGlmIChxdWVyeUtleSkge1xuICAgICAga2V5ID0gZ2V0UXVlcnlTdHJpbmdWYWx1ZUZyb21QYXRoKHBhdGgsIHF1ZXJ5S2V5KTtcbiAgICAgIHBhdGggPSBzdHJpcFF1ZXJ5U3RyaW5nVmFsdWVGcm9tUGF0aChwYXRoLCBxdWVyeUtleSk7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgc3RhdGUgPSBfRE9NU3RhdGVTdG9yYWdlLnJlYWRTdGF0ZShrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUgPSBudWxsO1xuICAgICAgICBrZXkgPSBoaXN0b3J5LmNyZWF0ZUtleSgpO1xuICAgICAgICBfRE9NVXRpbHMucmVwbGFjZUhhc2hQYXRoKGFkZFF1ZXJ5U3RyaW5nVmFsdWVUb1BhdGgocGF0aCwgcXVlcnlLZXksIGtleSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBzdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IHN0YXRlIH0pLCB1bmRlZmluZWQsIGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydEhhc2hDaGFuZ2VMaXN0ZW5lcihfcmVmKSB7XG4gICAgdmFyIHRyYW5zaXRpb25UbyA9IF9yZWYudHJhbnNpdGlvblRvO1xuXG4gICAgZnVuY3Rpb24gaGFzaENoYW5nZUxpc3RlbmVyKCkge1xuICAgICAgaWYgKCFlbnN1cmVTbGFzaCgpKSByZXR1cm47IC8vIEFsd2F5cyBtYWtlIHN1cmUgaGFzaGVzIGFyZSBwcmVjZWVkZWQgd2l0aCBhIC8uXG5cbiAgICAgIHRyYW5zaXRpb25UbyhnZXRDdXJyZW50TG9jYXRpb24oKSk7XG4gICAgfVxuXG4gICAgZW5zdXJlU2xhc2goKTtcbiAgICBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUxpc3RlbmVyKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoVHJhbnNpdGlvbihsb2NhdGlvbikge1xuICAgIHZhciBiYXNlbmFtZSA9IGxvY2F0aW9uLmJhc2VuYW1lO1xuICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgdmFyIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG4gICAgdmFyIGFjdGlvbiA9IGxvY2F0aW9uLmFjdGlvbjtcbiAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5O1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSByZXR1cm47IC8vIE5vdGhpbmcgdG8gZG8uXG5cbiAgICB2YXIgcGF0aCA9IChiYXNlbmFtZSB8fCAnJykgKyBwYXRobmFtZSArIHNlYXJjaDtcblxuICAgIGlmIChxdWVyeUtleSkge1xuICAgICAgcGF0aCA9IGFkZFF1ZXJ5U3RyaW5nVmFsdWVUb1BhdGgocGF0aCwgcXVlcnlLZXksIGtleSk7XG4gICAgICBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZShrZXksIHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRHJvcCBrZXkgYW5kIHN0YXRlLlxuICAgICAgbG9jYXRpb24ua2V5ID0gbG9jYXRpb24uc3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50SGFzaCA9IF9ET01VdGlscy5nZXRIYXNoUGF0aCgpO1xuXG4gICAgaWYgKGFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgaWYgKGN1cnJlbnRIYXNoICE9PSBwYXRoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gcGF0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1lvdSBjYW5ub3QgUFVTSCB0aGUgc2FtZSBwYXRoIHVzaW5nIGhhc2ggaGlzdG9yeScpIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VycmVudEhhc2ggIT09IHBhdGgpIHtcbiAgICAgIC8vIFJFUExBQ0VcbiAgICAgIF9ET01VdGlscy5yZXBsYWNlSGFzaFBhdGgocGF0aCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSBfY3JlYXRlRE9NSGlzdG9yeTJbJ2RlZmF1bHQnXShfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgIGdldEN1cnJlbnRMb2NhdGlvbjogZ2V0Q3VycmVudExvY2F0aW9uLFxuICAgIGZpbmlzaFRyYW5zaXRpb246IGZpbmlzaFRyYW5zaXRpb24sXG4gICAgc2F2ZVN0YXRlOiBfRE9NU3RhdGVTdG9yYWdlLnNhdmVTdGF0ZVxuICB9KSk7XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwLFxuICAgICAgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lciA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUobGlzdGVuZXIpIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyID0gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICB2YXIgdW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbkJlZm9yZShsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdW5saXN0ZW4oKTtcblxuICAgICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lcigpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyID0gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICB2YXIgdW5saXN0ZW4gPSBoaXN0b3J5Lmxpc3RlbihsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdW5saXN0ZW4oKTtcblxuICAgICAgaWYgKC0tbGlzdGVuZXJDb3VudCA9PT0gMCkgc3RvcEhhc2hDaGFuZ2VMaXN0ZW5lcigpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHF1ZXJ5S2V5IHx8IGxvY2F0aW9uLnN0YXRlID09IG51bGwsICdZb3UgY2Fubm90IHVzZSBzdGF0ZSB3aXRob3V0IGEgcXVlcnlLZXkgaXQgd2lsbCBiZSBkcm9wcGVkJykgOiB1bmRlZmluZWQ7XG5cbiAgICBoaXN0b3J5LnB1c2gobG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBsb2NhdGlvbi5zdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXG4gICAgaGlzdG9yeS5yZXBsYWNlKGxvY2F0aW9uKTtcbiAgfVxuXG4gIHZhciBnb0lzU3VwcG9ydGVkV2l0aG91dFJlbG9hZCA9IF9ET01VdGlscy5zdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpO1xuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZ29Jc1N1cHBvcnRlZFdpdGhvdXRSZWxvYWQsICdIYXNoIGhpc3RvcnkgZ28obikgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZCBpbiB0aGlzIGJyb3dzZXInKSA6IHVuZGVmaW5lZDtcblxuICAgIGhpc3RvcnkuZ28obik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKHBhdGgpIHtcbiAgICByZXR1cm4gJyMnICsgaGlzdG9yeS5jcmVhdGVIcmVmKHBhdGgpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiByZWdpc3RlclRyYW5zaXRpb25Ib29rKGhvb2spIHtcbiAgICBpZiAoKytsaXN0ZW5lckNvdW50ID09PSAxKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyID0gc3RhcnRIYXNoQ2hhbmdlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICBoaXN0b3J5LnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaGlzdG9yeS51bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG5cbiAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wSGFzaENoYW5nZUxpc3RlbmVyKCk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHB1c2hTdGF0ZShzdGF0ZSwgcGF0aCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShxdWVyeUtleSB8fCBzdGF0ZSA9PSBudWxsLCAnWW91IGNhbm5vdCB1c2Ugc3RhdGUgd2l0aG91dCBhIHF1ZXJ5S2V5IGl0IHdpbGwgYmUgZHJvcHBlZCcpIDogdW5kZWZpbmVkO1xuXG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoc3RhdGUsIHBhdGgpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocXVlcnlLZXkgfHwgc3RhdGUgPT0gbnVsbCwgJ1lvdSBjYW5ub3QgdXNlIHN0YXRlIHdpdGhvdXQgYSBxdWVyeUtleSBpdCB3aWxsIGJlIGRyb3BwZWQnKSA6IHVuZGVmaW5lZDtcblxuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCBwYXRoKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgIGxpc3RlbkJlZm9yZTogbGlzdGVuQmVmb3JlLFxuICAgIGxpc3RlbjogbGlzdGVuLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcblxuICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2ssIC8vIGRlcHJlY2F0ZWQgLSB3YXJuaW5nIGlzIGluIGNyZWF0ZUhpc3RvcnlcbiAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgLy8gZGVwcmVjYXRlZCAtIHdhcm5pbmcgaXMgaW4gY3JlYXRlSGlzdG9yeVxuICAgIHB1c2hTdGF0ZTogcHVzaFN0YXRlLCAvLyBkZXByZWNhdGVkIC0gd2FybmluZyBpcyBpbiBjcmVhdGVIaXN0b3J5XG4gICAgcmVwbGFjZVN0YXRlOiByZXBsYWNlU3RhdGUgLy8gZGVwcmVjYXRlZCAtIHdhcm5pbmcgaXMgaW4gY3JlYXRlSGlzdG9yeVxuICB9KTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlSGFzaEhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfZGVlcEVxdWFsID0gcmVxdWlyZSgnZGVlcC1lcXVhbCcpO1xuXG52YXIgX2RlZXBFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRXF1YWwpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfQXN5bmNVdGlscyA9IHJlcXVpcmUoJy4vQXN5bmNVdGlscycpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9jcmVhdGVMb2NhdGlvbjIgPSByZXF1aXJlKCcuL2NyZWF0ZUxvY2F0aW9uJyk7XG5cbnZhciBfY3JlYXRlTG9jYXRpb24zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlTG9jYXRpb24yKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vayA9IHJlcXVpcmUoJy4vcnVuVHJhbnNpdGlvbkhvb2snKTtcblxudmFyIF9ydW5UcmFuc2l0aW9uSG9vazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ydW5UcmFuc2l0aW9uSG9vayk7XG5cbnZhciBfZGVwcmVjYXRlID0gcmVxdWlyZSgnLi9kZXByZWNhdGUnKTtcblxudmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblxuZnVuY3Rpb24gY3JlYXRlUmFuZG9tS2V5KGxlbmd0aCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmXG4gIC8vYS5hY3Rpb24gPT09IGIuYWN0aW9uICYmIC8vIERpZmZlcmVudCBhY3Rpb24gIT09IGxvY2F0aW9uIGNoYW5nZS5cbiAgYS5rZXkgPT09IGIua2V5ICYmIF9kZWVwRXF1YWwyWydkZWZhdWx0J10oYS5zdGF0ZSwgYi5zdGF0ZSk7XG59XG5cbnZhciBEZWZhdWx0S2V5TGVuZ3RoID0gNjtcblxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgdmFyIGdldEN1cnJlbnRMb2NhdGlvbiA9IG9wdGlvbnMuZ2V0Q3VycmVudExvY2F0aW9uO1xuICB2YXIgZmluaXNoVHJhbnNpdGlvbiA9IG9wdGlvbnMuZmluaXNoVHJhbnNpdGlvbjtcbiAgdmFyIHNhdmVTdGF0ZSA9IG9wdGlvbnMuc2F2ZVN0YXRlO1xuICB2YXIgZ28gPSBvcHRpb25zLmdvO1xuICB2YXIgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IG9wdGlvbnMuZ2V0VXNlckNvbmZpcm1hdGlvbjtcbiAgdmFyIGtleUxlbmd0aCA9IG9wdGlvbnMua2V5TGVuZ3RoO1xuXG4gIGlmICh0eXBlb2Yga2V5TGVuZ3RoICE9PSAnbnVtYmVyJykga2V5TGVuZ3RoID0gRGVmYXVsdEtleUxlbmd0aDtcblxuICB2YXIgdHJhbnNpdGlvbkhvb2tzID0gW107XG5cbiAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcbiAgICB0cmFuc2l0aW9uSG9va3MucHVzaChob29rKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0cmFuc2l0aW9uSG9va3MgPSB0cmFuc2l0aW9uSG9va3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBhbGxLZXlzID0gW107XG4gIHZhciBjaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIGxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG4gICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAmJiBwZW5kaW5nTG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHtcbiAgICAgIHJldHVybiBhbGxLZXlzLmluZGV4T2YocGVuZGluZ0xvY2F0aW9uLmtleSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGFsbEtleXMuaW5kZXhPZihsb2NhdGlvbi5rZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYXRpb24obmV3TG9jYXRpb24pIHtcbiAgICB2YXIgY3VycmVudCA9IGdldEN1cnJlbnQoKTtcblxuICAgIGxvY2F0aW9uID0gbmV3TG9jYXRpb247XG5cbiAgICBpZiAobG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBhbGxLZXlzID0gW10uY29uY2F0KGFsbEtleXMuc2xpY2UoMCwgY3VycmVudCArIDEpLCBbbG9jYXRpb24ua2V5XSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlJFUExBQ0UpIHtcbiAgICAgIGFsbEtleXNbY3VycmVudF0gPSBsb2NhdGlvbi5rZXk7XG4gICAgfVxuXG4gICAgY2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcihsb2NhdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBjaGFuZ2VMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIGxpc3RlbmVyKGxvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9sb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgYWxsS2V5cyA9IFtfbG9jYXRpb24ua2V5XTtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uKF9sb2NhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5nZUxpc3RlbmVycyA9IGNoYW5nZUxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgX0FzeW5jVXRpbHMubG9vcEFzeW5jKHRyYW5zaXRpb25Ib29rcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKHRyYW5zaXRpb25Ib29rc1tpbmRleF0sIGxvY2F0aW9uLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIGRvbmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAoZ2V0VXNlckNvbmZpcm1hdGlvbiAmJiB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihtZXNzYWdlLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgICBjYWxsYmFjayhvayAhPT0gZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBwZW5kaW5nTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvblRvKG5leHRMb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbiAmJiBsb2NhdGlvbnNBcmVFcXVhbChsb2NhdGlvbiwgbmV4dExvY2F0aW9uKSkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbmV4dExvY2F0aW9uO1xuXG4gICAgY29uZmlybVRyYW5zaXRpb25UbyhuZXh0TG9jYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAhPT0gbmV4dExvY2F0aW9uKSByZXR1cm47IC8vIFRyYW5zaXRpb24gd2FzIGludGVycnVwdGVkLlxuXG4gICAgICBpZiAob2spIHtcbiAgICAgICAgLy8gdHJlYXQgUFVTSCB0byBjdXJyZW50IHBhdGggbGlrZSBSRVBMQUNFIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBicm93c2Vyc1xuICAgICAgICBpZiAobmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgICAgIHZhciBwcmV2UGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgICAgIHZhciBuZXh0UGF0aCA9IGNyZWF0ZVBhdGgobmV4dExvY2F0aW9uKTtcblxuICAgICAgICAgIGlmIChuZXh0UGF0aCA9PT0gcHJldlBhdGggJiYgX2RlZXBFcXVhbDJbJ2RlZmF1bHQnXShsb2NhdGlvbi5zdGF0ZSwgbmV4dExvY2F0aW9uLnN0YXRlKSkgbmV4dExvY2F0aW9uLmFjdGlvbiA9IF9BY3Rpb25zLlJFUExBQ0U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmluaXNoVHJhbnNpdGlvbihuZXh0TG9jYXRpb24pICE9PSBmYWxzZSkgdXBkYXRlTG9jYXRpb24obmV4dExvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24gJiYgbmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUE9QKSB7XG4gICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YobG9jYXRpb24ua2V5KTtcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IGFsbEtleXMuaW5kZXhPZihuZXh0TG9jYXRpb24ua2V5KTtcblxuICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSAmJiBuZXh0SW5kZXggIT09IC0xKSBnbyhwcmV2SW5kZXggLSBuZXh0SW5kZXgpOyAvLyBSZXN0b3JlIHRoZSBVUkwuXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG4gICAgdHJhbnNpdGlvblRvKGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uLCBfQWN0aW9ucy5QVVNILCBjcmVhdGVLZXkoKSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUkVQTEFDRSwgY3JlYXRlS2V5KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICBnbygtMSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgZ28oMSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJhbmRvbUtleShrZXlMZW5ndGgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbiA9PSBudWxsIHx8IHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHJldHVybiBsb2NhdGlvbjtcblxuICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXG4gICAgdmFyIHJlc3VsdCA9IHBhdGhuYW1lO1xuXG4gICAgaWYgKHNlYXJjaCkgcmVzdWx0ICs9IHNlYXJjaDtcblxuICAgIGlmIChoYXNoKSByZXN1bHQgKz0gaGFzaDtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIGFjdGlvbikge1xuICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBjcmVhdGVLZXkoKSA6IGFyZ3VtZW50c1syXTtcblxuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGEgJyArICdsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgobG9jYXRpb24pO1xuXG4gICAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXG4gICAgICBhY3Rpb24gPSBrZXk7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbM10gfHwgY3JlYXRlS2V5KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jcmVhdGVMb2NhdGlvbjNbJ2RlZmF1bHQnXShsb2NhdGlvbiwgYWN0aW9uLCBrZXkpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSkge1xuICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgdXBkYXRlTG9jYXRpb25TdGF0ZShsb2NhdGlvbiwgc3RhdGUpO1xuICAgICAgdXBkYXRlTG9jYXRpb24obG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVMb2NhdGlvblN0YXRlKGdldEN1cnJlbnRMb2NhdGlvbigpLCBzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYXRpb25TdGF0ZShsb2NhdGlvbiwgc3RhdGUpIHtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbi5zdGF0ZSwgc3RhdGUpO1xuICAgIHNhdmVTdGF0ZShsb2NhdGlvbi5rZXksIGxvY2F0aW9uLnN0YXRlKTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaWYgKHRyYW5zaXRpb25Ib29rcy5pbmRleE9mKGhvb2spID09PSAtMSkgdHJhbnNpdGlvbkhvb2tzLnB1c2goaG9vayk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgdHJhbnNpdGlvbkhvb2tzID0gdHJhbnNpdGlvbkhvb2tzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG4gICAgfSk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHB1c2hTdGF0ZShzdGF0ZSwgcGF0aCkge1xuICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblxuICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICByZXBsYWNlKF9leHRlbmRzKHsgc3RhdGU6IHN0YXRlIH0sIHBhdGgpKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgdHJhbnNpdGlvblRvOiB0cmFuc2l0aW9uVG8sXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBjcmVhdGVLZXk6IGNyZWF0ZUtleSxcbiAgICBjcmVhdGVQYXRoOiBjcmVhdGVQYXRoLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgY3JlYXRlTG9jYXRpb246IGNyZWF0ZUxvY2F0aW9uLFxuXG4gICAgc2V0U3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10oc2V0U3RhdGUsICdzZXRTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgbG9jYXRpb24ua2V5IHRvIHNhdmUgc3RhdGUgaW5zdGVhZCcpLFxuICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgJ3JlZ2lzdGVyVHJhbnNpdGlvbkhvb2sgaXMgZGVwcmVjYXRlZDsgdXNlIGxpc3RlbkJlZm9yZSBpbnN0ZWFkJyksXG4gICAgdW5yZWdpc3RlclRyYW5zaXRpb25Ib29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vaywgJ3VucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayBpcyBkZXByZWNhdGVkOyB1c2UgdGhlIGNhbGxiYWNrIHJldHVybmVkIGZyb20gbGlzdGVuQmVmb3JlIGluc3RlYWQnKSxcbiAgICBwdXNoU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocHVzaFN0YXRlLCAncHVzaFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBwdXNoIGluc3RlYWQnKSxcbiAgICByZXBsYWNlU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVwbGFjZVN0YXRlLCAncmVwbGFjZVN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSByZXBsYWNlIGluc3RlYWQnKVxuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVIaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX0FjdGlvbnMgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbigpIHtcbiAgdmFyIGxvY2F0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJy8nIDogYXJndW1lbnRzWzBdO1xuICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gX0FjdGlvbnMuUE9QIDogYXJndW1lbnRzWzFdO1xuICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1syXTtcblxuICB2YXIgX2ZvdXJ0aEFyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbM107XG5cbiAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIGxvY2F0aW9uID0gX1BhdGhVdGlscy5wYXJzZVBhdGgobG9jYXRpb24pO1xuXG4gIGlmICh0eXBlb2YgYWN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ1RoZSBzdGF0ZSAoMm5kKSBhcmd1bWVudCB0byBjcmVhdGVMb2NhdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgYSAnICsgJ2xvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZCcpIDogdW5kZWZpbmVkO1xuXG4gICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IGFjdGlvbiB9KTtcblxuICAgIGFjdGlvbiA9IGtleSB8fCBfQWN0aW9ucy5QT1A7XG4gICAga2V5ID0gX2ZvdXJ0aEFyZztcbiAgfVxuXG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lIHx8ICcvJztcbiAgdmFyIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCB8fCAnJztcbiAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoIHx8ICcnO1xuICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZSB8fCBudWxsO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2gsXG4gICAgc3RhdGU6IHN0YXRlLFxuICAgIGFjdGlvbjogYWN0aW9uLFxuICAgIGtleToga2V5XG4gIH07XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUxvY2F0aW9uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfQWN0aW9ucyA9IHJlcXVpcmUoJy4vQWN0aW9ucycpO1xuXG52YXIgX2NyZWF0ZUhpc3RvcnkgPSByZXF1aXJlKCcuL2NyZWF0ZUhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhpc3RvcnkpO1xuXG5mdW5jdGlvbiBjcmVhdGVTdGF0ZVN0b3JhZ2UoZW50cmllcykge1xuICByZXR1cm4gZW50cmllcy5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgcmV0dXJuIGVudHJ5LnN0YXRlO1xuICB9KS5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGVudHJ5KSB7XG4gICAgbWVtb1tlbnRyeS5rZXldID0gZW50cnkuc3RhdGU7XG4gICAgcmV0dXJuIG1lbW87XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkge1xuICAgIG9wdGlvbnMgPSB7IGVudHJpZXM6IG9wdGlvbnMgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zID0geyBlbnRyaWVzOiBbb3B0aW9uc10gfTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0gX2NyZWF0ZUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICBnZXRDdXJyZW50TG9jYXRpb246IGdldEN1cnJlbnRMb2NhdGlvbixcbiAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuICAgIHNhdmVTdGF0ZTogc2F2ZVN0YXRlLFxuICAgIGdvOiBnb1xuICB9KSk7XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucztcbiAgdmFyIGVudHJpZXMgPSBfb3B0aW9ucy5lbnRyaWVzO1xuICB2YXIgY3VycmVudCA9IF9vcHRpb25zLmN1cnJlbnQ7XG5cbiAgaWYgKHR5cGVvZiBlbnRyaWVzID09PSAnc3RyaW5nJykge1xuICAgIGVudHJpZXMgPSBbZW50cmllc107XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZW50cmllcykpIHtcbiAgICBlbnRyaWVzID0gWycvJ107XG4gIH1cblxuICBlbnRyaWVzID0gZW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgdmFyIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cbiAgICBpZiAodHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJykgcmV0dXJuIHsgcGF0aG5hbWU6IGVudHJ5LCBrZXk6IGtleSB9O1xuXG4gICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcgJiYgZW50cnkpIHJldHVybiBfZXh0ZW5kcyh7fSwgZW50cnksIHsga2V5OiBrZXkgfSk7XG5cbiAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ1VuYWJsZSB0byBjcmVhdGUgaGlzdG9yeSBlbnRyeSBmcm9tICVzJywgZW50cnkpIDogX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIH0pO1xuXG4gIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICBjdXJyZW50ID0gZW50cmllcy5sZW5ndGggLSAxO1xuICB9IGVsc2Uge1xuICAgICEoY3VycmVudCA+PSAwICYmIGN1cnJlbnQgPCBlbnRyaWVzLmxlbmd0aCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX2ludmFyaWFudDJbJ2RlZmF1bHQnXShmYWxzZSwgJ0N1cnJlbnQgaW5kZXggbXVzdCBiZSA+PSAwIGFuZCA8ICVzLCB3YXMgJXMnLCBlbnRyaWVzLmxlbmd0aCwgY3VycmVudCkgOiBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBzdG9yYWdlID0gY3JlYXRlU3RhdGVTdG9yYWdlKGVudHJpZXMpO1xuXG4gIGZ1bmN0aW9uIHNhdmVTdGF0ZShrZXksIHN0YXRlKSB7XG4gICAgc3RvcmFnZVtrZXldID0gc3RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkU3RhdGUoa2V5KSB7XG4gICAgcmV0dXJuIHN0b3JhZ2Vba2V5XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2N1cnJlbnRdO1xuICAgIHZhciBiYXNlbmFtZSA9IGVudHJ5LmJhc2VuYW1lO1xuICAgIHZhciBwYXRobmFtZSA9IGVudHJ5LnBhdGhuYW1lO1xuICAgIHZhciBzZWFyY2ggPSBlbnRyeS5zZWFyY2g7XG5cbiAgICB2YXIgcGF0aCA9IChiYXNlbmFtZSB8fCAnJykgKyBwYXRobmFtZSArIChzZWFyY2ggfHwgJycpO1xuXG4gICAgdmFyIGtleSA9IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGVudHJ5LmtleSkge1xuICAgICAga2V5ID0gZW50cnkua2V5O1xuICAgICAgc3RhdGUgPSByZWFkU3RhdGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gaGlzdG9yeS5jcmVhdGVLZXkoKTtcbiAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgIGVudHJ5LmtleSA9IGtleTtcbiAgICB9XG5cbiAgICB2YXIgbG9jYXRpb24gPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblxuICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogc3RhdGUgfSksIHVuZGVmaW5lZCwga2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbkdvKG4pIHtcbiAgICB2YXIgaW5kZXggPSBjdXJyZW50ICsgbjtcbiAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IGVudHJpZXMubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gZ28obikge1xuICAgIGlmIChuKSB7XG4gICAgICBpZiAoIWNhbkdvKG4pKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShmYWxzZSwgJ0Nhbm5vdCBnbyglcykgdGhlcmUgaXMgbm90IGVub3VnaCBoaXN0b3J5JywgbikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY3VycmVudCArPSBuO1xuXG4gICAgICB2YXIgY3VycmVudExvY2F0aW9uID0gZ2V0Q3VycmVudExvY2F0aW9uKCk7XG5cbiAgICAgIC8vIGNoYW5nZSBhY3Rpb24gdG8gUE9QXG4gICAgICBoaXN0b3J5LnRyYW5zaXRpb25UbyhfZXh0ZW5kcyh7fSwgY3VycmVudExvY2F0aW9uLCB7IGFjdGlvbjogX0FjdGlvbnMuUE9QIH0pKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hUcmFuc2l0aW9uKGxvY2F0aW9uKSB7XG4gICAgc3dpdGNoIChsb2NhdGlvbi5hY3Rpb24pIHtcbiAgICAgIGNhc2UgX0FjdGlvbnMuUFVTSDpcbiAgICAgICAgY3VycmVudCArPSAxO1xuXG4gICAgICAgIC8vIGlmIHdlIGFyZSBub3Qgb24gdGhlIHRvcCBvZiBzdGFja1xuICAgICAgICAvLyByZW1vdmUgcmVzdCBhbmQgcHVzaCBuZXdcbiAgICAgICAgaWYgKGN1cnJlbnQgPCBlbnRyaWVzLmxlbmd0aCkgZW50cmllcy5zcGxpY2UoY3VycmVudCk7XG5cbiAgICAgICAgZW50cmllcy5wdXNoKGxvY2F0aW9uKTtcbiAgICAgICAgc2F2ZVN0YXRlKGxvY2F0aW9uLmtleSwgbG9jYXRpb24uc3RhdGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgX0FjdGlvbnMuUkVQTEFDRTpcbiAgICAgICAgZW50cmllc1tjdXJyZW50XSA9IGxvY2F0aW9uO1xuICAgICAgICBzYXZlU3RhdGUobG9jYXRpb24ua2V5LCBsb2NhdGlvbi5zdGF0ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVNZW1vcnlIaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBkZXByZWNhdGUoZm4sIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gJyArIG1lc3NhZ2UpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBkZXByZWNhdGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9kZXByZWNhdGUgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZScpO1xuXG52YXIgX2RlcHJlY2F0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGUpO1xuXG52YXIgX3VzZUJlZm9yZVVubG9hZCA9IHJlcXVpcmUoJy4vdXNlQmVmb3JlVW5sb2FkJyk7XG5cbnZhciBfdXNlQmVmb3JlVW5sb2FkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZUJlZm9yZVVubG9hZCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9kZXByZWNhdGUyWydkZWZhdWx0J10oX3VzZUJlZm9yZVVubG9hZDJbJ2RlZmF1bHQnXSwgJ2VuYWJsZUJlZm9yZVVubG9hZCBpcyBkZXByZWNhdGVkLCB1c2UgdXNlQmVmb3JlVW5sb2FkIGluc3RlYWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2RlcHJlY2F0ZSA9IHJlcXVpcmUoJy4vZGVwcmVjYXRlJyk7XG5cbnZhciBfZGVwcmVjYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZSk7XG5cbnZhciBfdXNlUXVlcmllcyA9IHJlcXVpcmUoJy4vdXNlUXVlcmllcycpO1xuXG52YXIgX3VzZVF1ZXJpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXNlUXVlcmllcyk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9kZXByZWNhdGUyWydkZWZhdWx0J10oX3VzZVF1ZXJpZXMyWydkZWZhdWx0J10sICdlbmFibGVRdWVyaWVzIGlzIGRlcHJlY2F0ZWQsIHVzZSB1c2VRdWVyaWVzIGluc3RlYWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2RlcHJlY2F0ZSA9IHJlcXVpcmUoJy4vZGVwcmVjYXRlJyk7XG5cbnZhciBfZGVwcmVjYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlcHJlY2F0ZSk7XG5cbnZhciBfY3JlYXRlTG9jYXRpb24yID0gcmVxdWlyZSgnLi9jcmVhdGVMb2NhdGlvbicpO1xuXG52YXIgX2NyZWF0ZUxvY2F0aW9uMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUxvY2F0aW9uMik7XG5cbnZhciBfY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSByZXF1aXJlKCcuL2NyZWF0ZUJyb3dzZXJIaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlQnJvd3Nlckhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQnJvd3Nlckhpc3RvcnkpO1xuXG5leHBvcnRzLmNyZWF0ZUhpc3RvcnkgPSBfY3JlYXRlQnJvd3Nlckhpc3RvcnkyWydkZWZhdWx0J107XG5cbnZhciBfY3JlYXRlSGFzaEhpc3RvcnkyID0gcmVxdWlyZSgnLi9jcmVhdGVIYXNoSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZUhhc2hIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUhhc2hIaXN0b3J5Mik7XG5cbmV4cG9ydHMuY3JlYXRlSGFzaEhpc3RvcnkgPSBfY3JlYXRlSGFzaEhpc3RvcnkzWydkZWZhdWx0J107XG5cbnZhciBfY3JlYXRlTWVtb3J5SGlzdG9yeTIgPSByZXF1aXJlKCcuL2NyZWF0ZU1lbW9yeUhpc3RvcnknKTtcblxudmFyIF9jcmVhdGVNZW1vcnlIaXN0b3J5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZU1lbW9yeUhpc3RvcnkyKTtcblxuZXhwb3J0cy5jcmVhdGVNZW1vcnlIaXN0b3J5ID0gX2NyZWF0ZU1lbW9yeUhpc3RvcnkzWydkZWZhdWx0J107XG5cbnZhciBfdXNlQmFzZW5hbWUyID0gcmVxdWlyZSgnLi91c2VCYXNlbmFtZScpO1xuXG52YXIgX3VzZUJhc2VuYW1lMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZUJhc2VuYW1lMik7XG5cbmV4cG9ydHMudXNlQmFzZW5hbWUgPSBfdXNlQmFzZW5hbWUzWydkZWZhdWx0J107XG5cbnZhciBfdXNlQmVmb3JlVW5sb2FkMiA9IHJlcXVpcmUoJy4vdXNlQmVmb3JlVW5sb2FkJyk7XG5cbnZhciBfdXNlQmVmb3JlVW5sb2FkMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZUJlZm9yZVVubG9hZDIpO1xuXG5leHBvcnRzLnVzZUJlZm9yZVVubG9hZCA9IF91c2VCZWZvcmVVbmxvYWQzWydkZWZhdWx0J107XG5cbnZhciBfdXNlUXVlcmllczIgPSByZXF1aXJlKCcuL3VzZVF1ZXJpZXMnKTtcblxudmFyIF91c2VRdWVyaWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VzZVF1ZXJpZXMyKTtcblxuZXhwb3J0cy51c2VRdWVyaWVzID0gX3VzZVF1ZXJpZXMzWydkZWZhdWx0J107XG5cbnZhciBfQWN0aW9uczIgPSByZXF1aXJlKCcuL0FjdGlvbnMnKTtcblxudmFyIF9BY3Rpb25zMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjdGlvbnMyKTtcblxuZXhwb3J0cy5BY3Rpb25zID0gX0FjdGlvbnMzWydkZWZhdWx0J107XG5cbi8vIGRlcHJlY2F0ZWRcblxudmFyIF9lbmFibGVCZWZvcmVVbmxvYWQyID0gcmVxdWlyZSgnLi9lbmFibGVCZWZvcmVVbmxvYWQnKTtcblxudmFyIF9lbmFibGVCZWZvcmVVbmxvYWQzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW5hYmxlQmVmb3JlVW5sb2FkMik7XG5cbmV4cG9ydHMuZW5hYmxlQmVmb3JlVW5sb2FkID0gX2VuYWJsZUJlZm9yZVVubG9hZDNbJ2RlZmF1bHQnXTtcblxudmFyIF9lbmFibGVRdWVyaWVzMiA9IHJlcXVpcmUoJy4vZW5hYmxlUXVlcmllcycpO1xuXG52YXIgX2VuYWJsZVF1ZXJpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW5hYmxlUXVlcmllczIpO1xuXG5leHBvcnRzLmVuYWJsZVF1ZXJpZXMgPSBfZW5hYmxlUXVlcmllczNbJ2RlZmF1bHQnXTtcbnZhciBjcmVhdGVMb2NhdGlvbiA9IF9kZXByZWNhdGUyWydkZWZhdWx0J10oX2NyZWF0ZUxvY2F0aW9uM1snZGVmYXVsdCddLCAnVXNpbmcgY3JlYXRlTG9jYXRpb24gd2l0aG91dCBhIGhpc3RvcnkgaW5zdGFuY2UgaXMgZGVwcmVjYXRlZDsgcGxlYXNlIHVzZSBoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uIGluc3RlYWQnKTtcbmV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbjsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIHJ1blRyYW5zaXRpb25Ib29rKGhvb2ssIGxvY2F0aW9uLCBjYWxsYmFjaykge1xuICB2YXIgcmVzdWx0ID0gaG9vayhsb2NhdGlvbiwgY2FsbGJhY2spO1xuXG4gIGlmIChob29rLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBBc3N1bWUgdGhlIGhvb2sgcnVucyBzeW5jaHJvbm91c2x5IGFuZCBhdXRvbWF0aWNhbGx5XG4gICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgcmV0dXJuIHZhbHVlLlxuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHJlc3VsdCA9PT0gdW5kZWZpbmVkLCAnWW91IHNob3VsZCBub3QgXCJyZXR1cm5cIiBpbiBhIHRyYW5zaXRpb24gaG9vayB3aXRoIGEgY2FsbGJhY2sgYXJndW1lbnQ7IGNhbGwgdGhlIGNhbGxiYWNrIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBydW5UcmFuc2l0aW9uSG9vaztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX3J1blRyYW5zaXRpb25Ib29rID0gcmVxdWlyZSgnLi9ydW5UcmFuc2l0aW9uSG9vaycpO1xuXG52YXIgX3J1blRyYW5zaXRpb25Ib29rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3J1blRyYW5zaXRpb25Ib29rKTtcblxudmFyIF9kZXByZWNhdGUgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZScpO1xuXG52YXIgX2RlcHJlY2F0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGUpO1xuXG5mdW5jdGlvbiB1c2VCYXNlbmFtZShjcmVhdGVIaXN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAgIHZhciBoaXN0b3J5ID0gY3JlYXRlSGlzdG9yeShvcHRpb25zKTtcblxuICAgIHZhciBiYXNlbmFtZSA9IG9wdGlvbnMuYmFzZW5hbWU7XG5cbiAgICB2YXIgY2hlY2tlZEJhc2VIcmVmID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBjaGVja0Jhc2VIcmVmKCkge1xuICAgICAgaWYgKGNoZWNrZWRCYXNlSHJlZikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgdXNlIHRoZSB2YWx1ZSBvZiA8YmFzZSBocmVmPiBpbiBIVE1MXG4gICAgICAvLyBkb2N1bWVudHMgYXMgYmFzZW5hbWUgaWYgaXQncyBub3QgZXhwbGljaXRseSBnaXZlbi5cbiAgICAgIGlmIChiYXNlbmFtZSA9PSBudWxsICYmIF9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICAgICAgdmFyIGJhc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYmFzZScpWzBdO1xuICAgICAgICB2YXIgYmFzZUhyZWYgPSBiYXNlICYmIGJhc2UuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG5cbiAgICAgICAgaWYgKGJhc2VIcmVmICE9IG51bGwpIHtcbiAgICAgICAgICBiYXNlbmFtZSA9IGJhc2VIcmVmO1xuXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnQXV0b21hdGljYWxseSBzZXR0aW5nIGJhc2VuYW1lIHVzaW5nIDxiYXNlIGhyZWY+IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgJyArICdiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFRoZSBzZW1hbnRpY3Mgb2YgPGJhc2UgaHJlZj4gYXJlICcgKyAnc3VidGx5IGRpZmZlcmVudCBmcm9tIGJhc2VuYW1lLiBQbGVhc2UgcGFzcyB0aGUgYmFzZW5hbWUgZXhwbGljaXRseSBpbiAnICsgJ3RoZSBvcHRpb25zIHRvIGNyZWF0ZUhpc3RvcnknKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGVja2VkQmFzZUhyZWYgPSB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEJhc2VuYW1lKGxvY2F0aW9uKSB7XG4gICAgICBjaGVja0Jhc2VIcmVmKCk7XG5cbiAgICAgIGlmIChiYXNlbmFtZSAmJiBsb2NhdGlvbi5iYXNlbmFtZSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKGJhc2VuYW1lKSA9PT0gMCkge1xuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyaW5nKGJhc2VuYW1lLmxlbmd0aCk7XG4gICAgICAgICAgbG9jYXRpb24uYmFzZW5hbWUgPSBiYXNlbmFtZTtcblxuICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJycpIGxvY2F0aW9uLnBhdGhuYW1lID0gJy8nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvY2F0aW9uLmJhc2VuYW1lID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikge1xuICAgICAgY2hlY2tCYXNlSHJlZigpO1xuXG4gICAgICBpZiAoIWJhc2VuYW1lKSByZXR1cm4gbG9jYXRpb247XG5cbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblxuICAgICAgdmFyIHBuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICB2YXIgbm9ybWFsaXplZEJhc2VuYW1lID0gYmFzZW5hbWUuc2xpY2UoLTEpID09PSAnLycgPyBiYXNlbmFtZSA6IGJhc2VuYW1lICsgJy8nO1xuICAgICAgdmFyIG5vcm1hbGl6ZWRQYXRobmFtZSA9IHBuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID8gcG5hbWUuc2xpY2UoMSkgOiBwbmFtZTtcbiAgICAgIHZhciBwYXRobmFtZSA9IG5vcm1hbGl6ZWRCYXNlbmFtZSArIG5vcm1hbGl6ZWRQYXRobmFtZTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwge1xuICAgICAgICBwYXRobmFtZTogcGF0aG5hbWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE92ZXJyaWRlIGFsbCByZWFkIG1ldGhvZHMgd2l0aCBiYXNlbmFtZS1hd2FyZSB2ZXJzaW9ucy5cbiAgICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmUoaG9vaykge1xuICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuQmVmb3JlKGZ1bmN0aW9uIChsb2NhdGlvbiwgY2FsbGJhY2spIHtcbiAgICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKGhvb2ssIGFkZEJhc2VuYW1lKGxvY2F0aW9uKSwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgICAgIGxpc3RlbmVyKGFkZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSBhbGwgd3JpdGUgbWV0aG9kcyB3aXRoIGJhc2VuYW1lLWF3YXJlIHZlcnNpb25zLlxuICAgIGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHtcbiAgICAgIGhpc3RvcnkucHVzaChwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlKGxvY2F0aW9uKSB7XG4gICAgICBoaXN0b3J5LnJlcGxhY2UocHJlcGVuZEJhc2VuYW1lKGxvY2F0aW9uKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlUGF0aChwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVIcmVmKHByZXBlbmRCYXNlbmFtZShsb2NhdGlvbikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRCYXNlbmFtZShoaXN0b3J5LmNyZWF0ZUxvY2F0aW9uLmFwcGx5KGhpc3RvcnksIFtwcmVwZW5kQmFzZW5hbWUobG9jYXRpb24pXS5jb25jYXQoYXJncykpKTtcbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZnVuY3Rpb24gcHVzaFN0YXRlKHN0YXRlLCBwYXRoKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICAgIH1cblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHBhdGggPSBfUGF0aFV0aWxzLnBhcnNlUGF0aChwYXRoKTtcblxuICAgICAgcmVwbGFjZShfZXh0ZW5kcyh7IHN0YXRlOiBzdGF0ZSB9LCBwYXRoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcbiAgICAgIGxpc3RlbjogbGlzdGVuLFxuICAgICAgcHVzaDogcHVzaCxcbiAgICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgICBjcmVhdGVQYXRoOiBjcmVhdGVQYXRoLFxuICAgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICAgIGNyZWF0ZUxvY2F0aW9uOiBjcmVhdGVMb2NhdGlvbixcblxuICAgICAgcHVzaFN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHB1c2hTdGF0ZSwgJ3B1c2hTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcHVzaCBpbnN0ZWFkJyksXG4gICAgICByZXBsYWNlU3RhdGU6IF9kZXByZWNhdGUyWydkZWZhdWx0J10ocmVwbGFjZVN0YXRlLCAncmVwbGFjZVN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSByZXBsYWNlIGluc3RlYWQnKVxuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSB1c2VCYXNlbmFtZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIF9ET01VdGlscyA9IHJlcXVpcmUoJy4vRE9NVXRpbHMnKTtcblxudmFyIF9kZXByZWNhdGUgPSByZXF1aXJlKCcuL2RlcHJlY2F0ZScpO1xuXG52YXIgX2RlcHJlY2F0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXByZWNhdGUpO1xuXG5mdW5jdGlvbiBzdGFydEJlZm9yZVVubG9hZExpc3RlbmVyKGdldEJlZm9yZVVubG9hZFByb21wdE1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9IGdldEJlZm9yZVVubG9hZFByb21wdE1lc3NhZ2UoKTtcblxuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIChldmVudCB8fCB3aW5kb3cuZXZlbnQpLnJldHVyblZhbHVlID0gbWVzc2FnZTtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ2JlZm9yZXVubG9hZCcsIGxpc3RlbmVyKTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ2JlZm9yZXVubG9hZCcsIGxpc3RlbmVyKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGNyZWF0ZUhpc3RvcnkgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGVcbiAqIGhpc3Rvcnkgb2JqZWN0cyB0aGF0IGtub3cgaG93IHRvIHVzZSB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IGluIHdlYlxuICogYnJvd3NlcnMgdG8gY2FuY2VsIG5hdmlnYXRpb24uXG4gKi9cbmZ1bmN0aW9uIHVzZUJlZm9yZVVubG9hZChjcmVhdGVIaXN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBoaXN0b3J5ID0gY3JlYXRlSGlzdG9yeShvcHRpb25zKTtcblxuICAgIHZhciBzdG9wQmVmb3JlVW5sb2FkTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGJlZm9yZVVubG9hZEhvb2tzID0gW107XG5cbiAgICBmdW5jdGlvbiBnZXRCZWZvcmVVbmxvYWRQcm9tcHRNZXNzYWdlKCkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBiZWZvcmVVbmxvYWRIb29rcy5sZW5ndGg7IG1lc3NhZ2UgPT0gbnVsbCAmJiBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgbWVzc2FnZSA9IGJlZm9yZVVubG9hZEhvb2tzW2ldLmNhbGwoKTtcbiAgICAgIH1yZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0ZW5CZWZvcmVVbmxvYWQoaG9vaykge1xuICAgICAgYmVmb3JlVW5sb2FkSG9va3MucHVzaChob29rKTtcblxuICAgICAgaWYgKGJlZm9yZVVubG9hZEhvb2tzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgICAgICAgIHN0b3BCZWZvcmVVbmxvYWRMaXN0ZW5lciA9IHN0YXJ0QmVmb3JlVW5sb2FkTGlzdGVuZXIoZ2V0QmVmb3JlVW5sb2FkUHJvbXB0TWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnbGlzdGVuQmVmb3JlVW5sb2FkIG9ubHkgd29ya3MgaW4gRE9NIGVudmlyb25tZW50cycpIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGJlZm9yZVVubG9hZEhvb2tzID0gYmVmb3JlVW5sb2FkSG9va3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGhvb2s7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChiZWZvcmVVbmxvYWRIb29rcy5sZW5ndGggPT09IDAgJiYgc3RvcEJlZm9yZVVubG9hZExpc3RlbmVyKSB7XG4gICAgICAgICAgc3RvcEJlZm9yZVVubG9hZExpc3RlbmVyKCk7XG4gICAgICAgICAgc3RvcEJlZm9yZVVubG9hZExpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJCZWZvcmVVbmxvYWRIb29rKGhvb2spIHtcbiAgICAgIGlmIChfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIGJlZm9yZVVubG9hZEhvb2tzLmluZGV4T2YoaG9vaykgPT09IC0xKSB7XG4gICAgICAgIGJlZm9yZVVubG9hZEhvb2tzLnB1c2goaG9vayk7XG5cbiAgICAgICAgaWYgKGJlZm9yZVVubG9hZEhvb2tzLmxlbmd0aCA9PT0gMSkgc3RvcEJlZm9yZVVubG9hZExpc3RlbmVyID0gc3RhcnRCZWZvcmVVbmxvYWRMaXN0ZW5lcihnZXRCZWZvcmVVbmxvYWRQcm9tcHRNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZnVuY3Rpb24gdW5yZWdpc3RlckJlZm9yZVVubG9hZEhvb2soaG9vaykge1xuICAgICAgaWYgKGJlZm9yZVVubG9hZEhvb2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYmVmb3JlVW5sb2FkSG9va3MgPSBiZWZvcmVVbmxvYWRIb29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gaG9vaztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGJlZm9yZVVubG9hZEhvb2tzLmxlbmd0aCA9PT0gMCkgc3RvcEJlZm9yZVVubG9hZExpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgICBsaXN0ZW5CZWZvcmVVbmxvYWQ6IGxpc3RlbkJlZm9yZVVubG9hZCxcblxuICAgICAgcmVnaXN0ZXJCZWZvcmVVbmxvYWRIb29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlZ2lzdGVyQmVmb3JlVW5sb2FkSG9vaywgJ3JlZ2lzdGVyQmVmb3JlVW5sb2FkSG9vayBpcyBkZXByZWNhdGVkOyB1c2UgbGlzdGVuQmVmb3JlVW5sb2FkIGluc3RlYWQnKSxcbiAgICAgIHVucmVnaXN0ZXJCZWZvcmVVbmxvYWRIb29rOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHVucmVnaXN0ZXJCZWZvcmVVbmxvYWRIb29rLCAndW5yZWdpc3RlckJlZm9yZVVubG9hZEhvb2sgaXMgZGVwcmVjYXRlZDsgdXNlIHRoZSBjYWxsYmFjayByZXR1cm5lZCBmcm9tIGxpc3RlbkJlZm9yZVVubG9hZCBpbnN0ZWFkJylcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gdXNlQmVmb3JlVW5sb2FkO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX3F1ZXJ5U3RyaW5nID0gcmVxdWlyZSgncXVlcnktc3RyaW5nJyk7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2sgPSByZXF1aXJlKCcuL3J1blRyYW5zaXRpb25Ib29rJyk7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnVuVHJhbnNpdGlvbkhvb2spO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfZGVwcmVjYXRlID0gcmVxdWlyZSgnLi9kZXByZWNhdGUnKTtcblxudmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblxudmFyIFNFQVJDSF9CQVNFX0tFWSA9ICckc2VhcmNoQmFzZSc7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTdHJpbmdpZnlRdWVyeShxdWVyeSkge1xuICByZXR1cm4gX3F1ZXJ5U3RyaW5nLnN0cmluZ2lmeShxdWVyeSkucmVwbGFjZSgvJTIwL2csICcrJyk7XG59XG5cbnZhciBkZWZhdWx0UGFyc2VRdWVyeVN0cmluZyA9IF9xdWVyeVN0cmluZy5wYXJzZTtcblxuZnVuY3Rpb24gaXNOZXN0ZWRPYmplY3Qob2JqZWN0KSB7XG4gIGZvciAodmFyIHAgaW4gb2JqZWN0KSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHApICYmIHR5cGVvZiBvYmplY3RbcF0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iamVjdFtwXSkgJiYgb2JqZWN0W3BdICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgfXJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGNyZWF0ZUhpc3RvcnkgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjcmVhdGVcbiAqIGhpc3Rvcnkgb2JqZWN0cyB0aGF0IGtub3cgaG93IHRvIGhhbmRsZSBVUkwgcXVlcmllcy5cbiAqL1xuZnVuY3Rpb24gdXNlUXVlcmllcyhjcmVhdGVIaXN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICAgIHZhciBoaXN0b3J5ID0gY3JlYXRlSGlzdG9yeShvcHRpb25zKTtcblxuICAgIHZhciBzdHJpbmdpZnlRdWVyeSA9IG9wdGlvbnMuc3RyaW5naWZ5UXVlcnk7XG4gICAgdmFyIHBhcnNlUXVlcnlTdHJpbmcgPSBvcHRpb25zLnBhcnNlUXVlcnlTdHJpbmc7XG5cbiAgICBpZiAodHlwZW9mIHN0cmluZ2lmeVF1ZXJ5ICE9PSAnZnVuY3Rpb24nKSBzdHJpbmdpZnlRdWVyeSA9IGRlZmF1bHRTdHJpbmdpZnlRdWVyeTtcblxuICAgIGlmICh0eXBlb2YgcGFyc2VRdWVyeVN0cmluZyAhPT0gJ2Z1bmN0aW9uJykgcGFyc2VRdWVyeVN0cmluZyA9IGRlZmF1bHRQYXJzZVF1ZXJ5U3RyaW5nO1xuXG4gICAgZnVuY3Rpb24gYWRkUXVlcnkobG9jYXRpb24pIHtcbiAgICAgIGlmIChsb2NhdGlvbi5xdWVyeSA9PSBudWxsKSB7XG4gICAgICAgIHZhciBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG5cbiAgICAgICAgbG9jYXRpb24ucXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nKHNlYXJjaC5zdWJzdHJpbmcoMSkpO1xuICAgICAgICBsb2NhdGlvbltTRUFSQ0hfQkFTRV9LRVldID0geyBzZWFyY2g6IHNlYXJjaCwgc2VhcmNoQmFzZTogJycgfTtcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETzogSW5zdGVhZCBvZiBhbGwgdGhlIGJvb2sta2VlcGluZyBoZXJlLCB0aGlzIHNob3VsZCBqdXN0IHN0cmlwIHRoZVxuICAgICAgLy8gc3RyaW5naWZpZWQgcXVlcnkgZnJvbSB0aGUgc2VhcmNoLlxuXG4gICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwZW5kUXVlcnkobG9jYXRpb24sIHF1ZXJ5KSB7XG4gICAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgICB2YXIgc2VhcmNoQmFzZVNwZWMgPSBsb2NhdGlvbltTRUFSQ0hfQkFTRV9LRVldO1xuICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcXVlcnkgPyBzdHJpbmdpZnlRdWVyeShxdWVyeSkgOiAnJztcbiAgICAgIGlmICghc2VhcmNoQmFzZVNwZWMgJiYgIXF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICAgIH1cblxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKHN0cmluZ2lmeVF1ZXJ5ICE9PSBkZWZhdWx0U3RyaW5naWZ5UXVlcnkgfHwgIWlzTmVzdGVkT2JqZWN0KHF1ZXJ5KSwgJ3VzZVF1ZXJpZXMgZG9lcyBub3Qgc3RyaW5naWZ5IG5lc3RlZCBxdWVyeSBvYmplY3RzIGJ5IGRlZmF1bHQ7ICcgKyAndXNlIGEgY3VzdG9tIHN0cmluZ2lmeVF1ZXJ5IGZ1bmN0aW9uJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9QYXRoVXRpbHMucGFyc2VQYXRoKGxvY2F0aW9uKTtcblxuICAgICAgdmFyIHNlYXJjaEJhc2UgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoc2VhcmNoQmFzZVNwZWMgJiYgbG9jYXRpb24uc2VhcmNoID09PSBzZWFyY2hCYXNlU3BlYy5zZWFyY2gpIHtcbiAgICAgICAgc2VhcmNoQmFzZSA9IHNlYXJjaEJhc2VTcGVjLnNlYXJjaEJhc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWFyY2hCYXNlID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VhcmNoID0gc2VhcmNoQmFzZTtcbiAgICAgIGlmIChxdWVyeVN0cmluZykge1xuICAgICAgICBzZWFyY2ggKz0gKHNlYXJjaCA/ICcmJyA6ICc/JykgKyBxdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgKF9leHRlbmRzMiA9IHtcbiAgICAgICAgc2VhcmNoOiBzZWFyY2hcbiAgICAgIH0sIF9leHRlbmRzMltTRUFSQ0hfQkFTRV9LRVldID0geyBzZWFyY2g6IHNlYXJjaCwgc2VhcmNoQmFzZTogc2VhcmNoQmFzZSB9LCBfZXh0ZW5kczIpKTtcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSBhbGwgcmVhZCBtZXRob2RzIHdpdGggcXVlcnktYXdhcmUgdmVyc2lvbnMuXG4gICAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcbiAgICAgIHJldHVybiBoaXN0b3J5Lmxpc3RlbkJlZm9yZShmdW5jdGlvbiAobG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgIF9ydW5UcmFuc2l0aW9uSG9vazJbJ2RlZmF1bHQnXShob29rLCBhZGRRdWVyeShsb2NhdGlvbiksIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICBsaXN0ZW5lcihhZGRRdWVyeShsb2NhdGlvbikpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgYWxsIHdyaXRlIG1ldGhvZHMgd2l0aCBxdWVyeS1hd2FyZSB2ZXJzaW9ucy5cbiAgICBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7XG4gICAgICBoaXN0b3J5LnB1c2goYXBwZW5kUXVlcnkobG9jYXRpb24sIGxvY2F0aW9uLnF1ZXJ5KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZShsb2NhdGlvbikge1xuICAgICAgaGlzdG9yeS5yZXBsYWNlKGFwcGVuZFF1ZXJ5KGxvY2F0aW9uLCBsb2NhdGlvbi5xdWVyeSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24sIHF1ZXJ5KSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oIXF1ZXJ5LCAndGhlIHF1ZXJ5IGFyZ3VtZW50IHRvIGNyZWF0ZVBhdGggaXMgZGVwcmVjYXRlZDsgdXNlIGEgbG9jYXRpb24gZGVzY3JpcHRvciBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBoaXN0b3J5LmNyZWF0ZVBhdGgoYXBwZW5kUXVlcnkobG9jYXRpb24sIHF1ZXJ5IHx8IGxvY2F0aW9uLnF1ZXJ5KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbiwgcXVlcnkpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXSghcXVlcnksICd0aGUgcXVlcnkgYXJndW1lbnQgdG8gY3JlYXRlSHJlZiBpcyBkZXByZWNhdGVkOyB1c2UgYSBsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIGhpc3RvcnkuY3JlYXRlSHJlZihhcHBlbmRRdWVyeShsb2NhdGlvbiwgcXVlcnkgfHwgbG9jYXRpb24ucXVlcnkpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihsb2NhdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgZnVsbExvY2F0aW9uID0gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbi5hcHBseShoaXN0b3J5LCBbYXBwZW5kUXVlcnkobG9jYXRpb24sIGxvY2F0aW9uLnF1ZXJ5KV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgIGlmIChsb2NhdGlvbi5xdWVyeSkge1xuICAgICAgICBmdWxsTG9jYXRpb24ucXVlcnkgPSBsb2NhdGlvbi5xdWVyeTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhZGRRdWVyeShmdWxsTG9jYXRpb24pO1xuICAgIH1cblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgsIHF1ZXJ5KSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCwgeyBxdWVyeTogcXVlcnkgfSkpO1xuICAgIH1cblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgsIHF1ZXJ5KSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX1BhdGhVdGlscy5wYXJzZVBhdGgocGF0aCk7XG5cbiAgICAgIHJlcGxhY2UoX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCwgeyBxdWVyeTogcXVlcnkgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgICBsaXN0ZW46IGxpc3RlbixcbiAgICAgIHB1c2g6IHB1c2gsXG4gICAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgICAgY3JlYXRlUGF0aDogY3JlYXRlUGF0aCxcbiAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sXG5cbiAgICAgIHB1c2hTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShwdXNoU3RhdGUsICdwdXNoU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHB1c2ggaW5zdGVhZCcpLFxuICAgICAgcmVwbGFjZVN0YXRlOiBfZGVwcmVjYXRlMlsnZGVmYXVsdCddKHJlcGxhY2VTdGF0ZSwgJ3JlcGxhY2VTdGF0ZSBpcyBkZXByZWNhdGVkOyB1c2UgcmVwbGFjZSBpbnN0ZWFkJylcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gdXNlUXVlcmllcztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsInZhciBwU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgb2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4vbGliL2tleXMuanMnKTtcbnZhciBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vbGliL2lzX2FyZ3VtZW50cy5qcycpO1xuXG52YXIgZGVlcEVxdWFsID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYWN0dWFsLCBleHBlY3RlZCwgb3B0cykge1xuICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcbiAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG5cbiAgfSBlbHNlIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBEYXRlICYmIGV4cGVjdGVkIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBhY3R1YWwuZ2V0VGltZSgpID09PSBleHBlY3RlZC5nZXRUaW1lKCk7XG5cbiAgLy8gNy4zLiBPdGhlciBwYWlycyB0aGF0IGRvIG5vdCBib3RoIHBhc3MgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnLFxuICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5ID09LlxuICB9IGVsc2UgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkIHx8IHR5cGVvZiBhY3R1YWwgIT0gJ29iamVjdCcgJiYgdHlwZW9mIGV4cGVjdGVkICE9ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9wdHMuc3RyaWN0ID8gYWN0dWFsID09PSBleHBlY3RlZCA6IGFjdHVhbCA9PSBleHBlY3RlZDtcblxuICAvLyA3LjQuIEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcbiAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG4gIC8vIHdpdGggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKSwgdGhlIHNhbWUgc2V0IG9mIGtleXNcbiAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuICAvLyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb2JqRXF1aXYoYWN0dWFsLCBleHBlY3RlZCwgb3B0cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWRPck51bGwodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyICh4KSB7XG4gIGlmICgheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHgubGVuZ3RoICE9PSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIHguY29weSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgeC5zbGljZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoeC5sZW5ndGggPiAwICYmIHR5cGVvZiB4WzBdICE9PSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgb3B0cykge1xuICB2YXIgaSwga2V5O1xuICBpZiAoaXNVbmRlZmluZWRPck51bGwoYSkgfHwgaXNVbmRlZmluZWRPck51bGwoYikpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvLyBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuXG4gIGlmIChhLnByb3RvdHlwZSAhPT0gYi5wcm90b3R5cGUpIHJldHVybiBmYWxzZTtcbiAgLy9+fn5JJ3ZlIG1hbmFnZWQgdG8gYnJlYWsgT2JqZWN0LmtleXMgdGhyb3VnaCBzY3Jld3kgYXJndW1lbnRzIHBhc3NpbmcuXG4gIC8vICAgQ29udmVydGluZyB0byBhcnJheSBzb2x2ZXMgdGhlIHByb2JsZW0uXG4gIGlmIChpc0FyZ3VtZW50cyhhKSkge1xuICAgIGlmICghaXNBcmd1bWVudHMoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuICAgIGIgPSBwU2xpY2UuY2FsbChiKTtcbiAgICByZXR1cm4gZGVlcEVxdWFsKGEsIGIsIG9wdHMpO1xuICB9XG4gIGlmIChpc0J1ZmZlcihhKSkge1xuICAgIGlmICghaXNCdWZmZXIoYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB0cnkge1xuICAgIHZhciBrYSA9IG9iamVjdEtleXMoYSksXG4gICAgICAgIGtiID0gb2JqZWN0S2V5cyhiKTtcbiAgfSBjYXRjaCAoZSkgey8vaGFwcGVucyB3aGVuIG9uZSBpcyBhIHN0cmluZyBsaXRlcmFsIGFuZCB0aGUgb3RoZXIgaXNuJ3RcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuICAvLyBoYXNPd25Qcm9wZXJ0eSlcbiAgaWYgKGthLmxlbmd0aCAhPSBrYi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuICBrYS5zb3J0KCk7XG4gIGtiLnNvcnQoKTtcbiAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChrYVtpXSAhPSBrYltpXSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvL2VxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeSBjb3JyZXNwb25kaW5nIGtleSwgYW5kXG4gIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGtleSA9IGthW2ldO1xuICAgIGlmICghZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBvcHRzKSkgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgYSA9PT0gdHlwZW9mIGI7XG59XG4iLCJ2YXIgc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA9IChmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50cylcbn0pKCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPyBzdXBwb3J0ZWQgOiB1bnN1cHBvcnRlZDtcblxuZXhwb3J0cy5zdXBwb3J0ZWQgPSBzdXBwb3J0ZWQ7XG5mdW5jdGlvbiBzdXBwb3J0ZWQob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcbn07XG5cbmV4cG9ydHMudW5zdXBwb3J0ZWQgPSB1bnN1cHBvcnRlZDtcbmZ1bmN0aW9uIHVuc3VwcG9ydGVkKG9iamVjdCl7XG4gIHJldHVybiBvYmplY3QgJiZcbiAgICB0eXBlb2Ygb2JqZWN0ID09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIG9iamVjdC5sZW5ndGggPT0gJ251bWJlcicgJiZcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnY2FsbGVlJykgJiZcbiAgICAhT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgJ2NhbGxlZScpIHx8XG4gICAgZmFsc2U7XG59O1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSAnZnVuY3Rpb24nXG4gID8gT2JqZWN0LmtleXMgOiBzaGltO1xuXG5leHBvcnRzLnNoaW0gPSBzaGltO1xuZnVuY3Rpb24gc2hpbSAob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICByZXR1cm4ga2V5cztcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgc3RyaWN0VXJpRW5jb2RlID0gcmVxdWlyZSgnc3RyaWN0LXVyaS1lbmNvZGUnKTtcblxuZXhwb3J0cy5leHRyYWN0ID0gZnVuY3Rpb24gKHN0cikge1xuXHRyZXR1cm4gc3RyLnNwbGl0KCc/JylbMV0gfHwgJyc7XG59O1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xuXHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblxuXHRzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoL14oXFw/fCN8JikvLCAnJyk7XG5cblx0aWYgKCFzdHIpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblxuXHRyZXR1cm4gc3RyLnNwbGl0KCcmJykucmVkdWNlKGZ1bmN0aW9uIChyZXQsIHBhcmFtKSB7XG5cdFx0dmFyIHBhcnRzID0gcGFyYW0ucmVwbGFjZSgvXFwrL2csICcgJykuc3BsaXQoJz0nKTtcblx0XHQvLyBGaXJlZm94IChwcmUgNDApIGRlY29kZXMgYCUzRGAgdG8gYD1gXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9xdWVyeS1zdHJpbmcvcHVsbC8zN1xuXHRcdHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdHZhciB2YWwgPSBwYXJ0cy5sZW5ndGggPiAwID8gcGFydHMuam9pbignPScpIDogdW5kZWZpbmVkO1xuXG5cdFx0a2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGtleSk7XG5cblx0XHQvLyBtaXNzaW5nIGA9YCBzaG91bGQgYmUgYG51bGxgOlxuXHRcdC8vIGh0dHA6Ly93My5vcmcvVFIvMjAxMi9XRC11cmwtMjAxMjA1MjQvI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHR2YWwgPSB2YWwgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZWNvZGVVUklDb21wb25lbnQodmFsKTtcblxuXHRcdGlmICghcmV0Lmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdHJldFtrZXldID0gdmFsO1xuXHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXRba2V5XSkpIHtcblx0XHRcdHJldFtrZXldLnB1c2godmFsKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0W2tleV0gPSBbcmV0W2tleV0sIHZhbF07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSwge30pO1xufTtcblxuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiAob2JqKSB7XG5cdHJldHVybiBvYmogPyBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciB2YWwgPSBvYmpba2V5XTtcblxuXHRcdGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblxuXHRcdGlmICh2YWwgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBrZXk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHRcdFx0cmV0dXJuIHZhbC5zbGljZSgpLnNvcnQoKS5tYXAoZnVuY3Rpb24gKHZhbDIpIHtcblx0XHRcdFx0cmV0dXJuIHN0cmljdFVyaUVuY29kZShrZXkpICsgJz0nICsgc3RyaWN0VXJpRW5jb2RlKHZhbDIpO1xuXHRcdFx0fSkuam9pbignJicpO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdHJpY3RVcmlFbmNvZGUoa2V5KSArICc9JyArIHN0cmljdFVyaUVuY29kZSh2YWwpO1xuXHR9KS5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcblx0XHRyZXR1cm4geC5sZW5ndGggPiAwO1xuXHR9KS5qb2luKCcmJykgOiAnJztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHRyZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHR9KTtcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVmcmVzaCgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cblxuICBnZXRNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJZb3UgaGF2ZSBzaWduZWQgaW4gYXMgJSh1c2VybmFtZSlzLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIiksXG4gICAgICAgIHt1c2VybmFtZTogdGhpcy5wcm9wcy5zaWduZWRJbi51c2VybmFtZX0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91IGhhdmUgYmVlbiBzaWduZWQgb3V0LiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIiksXG4gICAgICAgIHt1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluIHx8IHRoaXMucHJvcHMuc2lnbmVkT3V0KSB7XG4gICAgICByZXR1cm4gXCJhdXRoLW1lc3NhZ2Ugc2hvd1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJhdXRoLW1lc3NhZ2VcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVmcmVzaH0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlbG9hZCBwYWdlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPiA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtIHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwib3IgcHJlc3MgRjUga2V5LlwiKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5hdXRoLnVzZXIsXG4gICAgc2lnbmVkSW46IHN0YXRlLmF1dGguc2lnbmVkSW4sXG4gICAgc2lnbmVkT3V0OiBzdGF0ZS5hdXRoLnNpZ25lZE91dFxuICB9O1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IEJBU0VfVVJMID0gJCgnYmFzZScpLmF0dHIoJ2hyZWYnKSArICd1c2VyLWF2YXRhci8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxpbWdcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8ICd1c2VyLWF2YXRhcid9XG4gICAgICBzcmM9e2dldFNyYyhwcm9wcyl9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlVzZXIgYXZhdGFyXCIpfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcmMocHJvcHMpIHtcbiAgY29uc3Qgc2l6ZSA9IHByb3BzLnNpemUgfHwgMTAwOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgbGV0IHVybCA9IEJBU0VfVVJMO1xuXG4gIGlmIChwcm9wcy51c2VyICYmIHByb3BzLnVzZXIuaWQpIHtcbiAgICAvLyBqdXN0IGF2YXRhciBoYXNoLCBzaXplIGFuZCB1c2VyIGlkXG4gICAgdXJsICs9IHByb3BzLnVzZXIuYXZhdGFyX2hhc2ggKyAnLycgKyBzaXplICsgJy8nICsgcHJvcHMudXNlci5pZCArICcucG5nJztcbiAgfSBlbHNlIHtcbiAgICAvLyBqdXN0IGFwcGVuZCBhdmF0YXIgc2l6ZSB0byBmaWxlIHRvIHByb2R1Y2Ugbm8tYXZhdGFyIHBsYWNlaG9sZGVyXG4gICAgdXJsICs9IHNpemUgKyAnLnBuZyc7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0UmVhc29uTWVzc2FnZSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMucHJvcHMubWVzc2FnZS5odG1sKSB7XG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJsZWFkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMubWVzc2FnZS5odG1sXG4gICAgICAgIH19IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLm1lc3NhZ2UucGxhaW59PC9wPjtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldEV4cGlyYXRpb25NZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmV4cGlyZXMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmV4cGlyZXMuaXNBZnRlcihtb21lbnQoKSkpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyBvbiAlKGV4cGlyZXNfb24pcy5cIiksIHtcbiAgICAgICAgICAgICdleHBpcmVzX29uJzogdGhpcy5wcm9wcy5leHBpcmVzLmZvcm1hdCgnTEwsIExUJylcbiAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICBsZXQgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzICUoZXhwaXJlc19vbilzLlwiKSwge1xuICAgICAgICAgICAgJ2V4cGlyZXNfb24nOiB0aGlzLnByb3BzLmV4cGlyZXMuZnJvbU5vdygpXG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIDxhYmJyIHRpdGxlPXt0aXRsZX0+XG4gICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgIDwvYWJicj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGhhcyBleHBpcmVkLlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGJhbiBpcyBwZXJtYW5lbnQuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLWVycm9yIHBhZ2UtZXJyb3ItYmFubmVkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aGlnaGxpZ2h0X29mZjwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0UmVhc29uTWVzc2FnZSgpfVxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWVzc2FnZS1mb290bm90ZVwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRFeHBpcmF0aW9uTWVzc2FnZSgpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAnYnRuICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICBsZXQgZGlzYWJsZWQgPSB0aGlzLnByb3BzLmRpc2FibGVkO1xuXG4gICAgaWYgKHRoaXMucHJvcHMubG9hZGluZykge1xuICAgICAgY2xhc3NOYW1lICs9ICcgYnRuLWxvYWRpbmcnO1xuICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPXt0aGlzLnByb3BzLm9uQ2xpY2sgPyAnYnV0dG9uJyA6ICdzdWJtaXQnfVxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9PlxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICB7dGhpcy5wcm9wcy5sb2FkaW5nID8gPExvYWRlciAvPiA6IG51bGx9XG4gICAgPC9idXR0b24+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuXG5CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IFwiYnRuLWRlZmF1bHRcIixcblxuICB0eXBlOiBcInN1Ym1pdFwiLFxuXG4gIGxvYWRpbmc6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG5cbiAgb25DbGljazogbnVsbFxufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGFzdEFjdGl2aXR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvbGFzdC1hY3Rpdml0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWRJY29uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvcmVhZC1pY29uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9zdGF0cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN1YmNhdGVnb3J5U3ViY2F0ZWdvcmllcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3N1YmNhdGVnb3J5LXN1YmNhdGVnb3JpZXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFN1YmNhdGVnb3J5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gY2F0ZWdvcnktc3ViY2F0ZWdvcnkgc3ViY2F0ZWdvcnktJyArIHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSBjYXRlZ29yeS1zdWJjYXRlZ29yeSc7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInN1YmNhdGVnb3J5LWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5jYXRlZ29yeS5kZXNjcmlwdGlvbi5odG1sXG4gICAgICAgICAgICAgICAgICB9fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFN1YmNhdGVnb3JpZXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8U3ViY2F0ZWdvcnlTdWJjYXRlZ29yaWVzIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcnkuc3ViY2F0ZWdvcmllc30gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGUtcm93XCI+XG4gICAgICAgIDxoND5cbiAgICAgICAgICA8UmVhZEljb24gY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2g0PlxuICAgICAgICA8U3RhdHMgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPExhc3RBY3Rpdml0eSBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cblxuICAgICAge3RoaXMuZ2V0RGVzY3JpcHRpb24oKX1cbiAgICAgIHt0aGlzLmdldFN1YmNhdGVnb3JpZXMoKX1cblxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBjYXRlZ29yeS1zdWJjYXRlZ29yaWVzXCI+XG4gICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxTdWJjYXRlZ29yeSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+O1xuICAgICAgfSl9XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeVN1YmNhdGVnb3JpZXMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS1zdWJjYXRlZ29yaWVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGFzdEFjdGl2aXR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvbGFzdC1hY3Rpdml0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWRJY29uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvcmVhZC1pY29uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9zdGF0cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAncGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1jYXRlZ29yeSBwYW5lbC1jYXRlZ29yeS0nICsgdGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1jYXRlZ29yeSc7XG4gICAgfVxuICB9XG5cbiAgZ2V0SGVhZGluZ0NsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICdwYW5lbC1oZWFkaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdwYW5lbC1oZWFkaW5nIGhlYWRpbmctYWxvbmUnO1xuICAgIH1cbiAgfVxuXG4gIGdldENhdGVnb3J5RGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgY2F0ZWdvcnktZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLmNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWxcbiAgICAgICAgICAgICAgICAgIH19IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3ViY2F0ZWdvcmllcygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxDYXRlZ29yeVN1YmNhdGVnb3JpZXMgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgaWQ9eydwYW5lbC1jYXRlZ29yeS0nICsgdGhpcy5wcm9wcy5jYXRlZ29yeS5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0SGVhZGluZ0NsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nLWluYmxvY2tcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmctdG9wLXJvd1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxSZWFkSWNvbiBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5uYW1lfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPFN0YXRzIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxMYXN0QWN0aXZpdHkgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt0aGlzLmdldENhdGVnb3J5RGVzY3JpcHRpb24oKX1cbiAgICAgIHt0aGlzLmdldFN1YmNhdGVnb3JpZXMoKX1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgVEhSRUFEX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj4lKHRocmVhZClzPC9hPic7XG5jb25zdCBMQVNUX1BPU1RfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2E+JztcblxuZXhwb3J0IGNsYXNzIExhc3RQb3N0TWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExhc3RQb3N0ZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0ZXJfdXJsKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfVVJMLCB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdGVyX3VybCksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShMQVNUX1BPU1RFUl9TUEFOLCB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFzdFRocmVhZCgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoVEhSRUFEX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF90aHJlYWRfdXJsKSxcbiAgICAgIHRocmVhZDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0TGFzdFJlcGx5RGF0ZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoTEFTVF9QT1NUX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0X3VybCksXG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0X29uLmZyb21Ob3coKSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LWxhc3QtcG9zdFwiXG4gICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogaW50ZXJwb2xhdGUoXG4gICAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJMYXN0IHBvc3QgaW4gJSh0aHJlYWQpcyBieSAlKHVzZXIpcyAlKGRhdGUpc1wiKSksIHtcbiAgICAgICAgdGhyZWFkOiB0aGlzLmdldExhc3RUaHJlYWQoKSxcbiAgICAgICAgZGF0ZTogdGhpcy5nZXRMYXN0UmVwbHlEYXRlKCksXG4gICAgICAgIHVzZXI6IHRoaXMuZ2V0TGFzdFBvc3RlcigpXG4gICAgICB9LCB0cnVlKX19IC8+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVtcHR5TWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGVycm9yX291dGxpbmVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBpcyBlbXB0eS5cIil9XG4gICAgPC9wPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcml2YXRlTWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAge2dldHRleHQoXCJUaGlzIGNhdGVnb3J5IGlzIHByaXZhdGUuIFlvdSBjYW4gc2VlIG9ubHkgeW91ciBvd24gdGhyZWFkcyB3aXRoaW4gaXQuXCIpfVxuICAgIDwvcD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvdGVjdGVkTWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGhpZ2hsaWdodF9vZmZcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBpcyBwcm90ZWN0ZWQuIFlvdSBjYW4ndCBicm93c2UgaXQncyBjb250ZW50cy5cIil9XG4gICAgPC9wPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPFByaXZhdGVNZXNzYWdlIC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMYXN0UG9zdE1lc3NhZ2UgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPEVtcHR5TWVzc2FnZSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxQcm90ZWN0ZWRNZXNzYWdlIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gJ3JlYWQtc3RhdHVzIGl0ZW0tcmVhZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncmVhZC1zdGF0dXMgaXRlbS1uZXcnO1xuICAgIH1cbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5vIG5ldyBwb3N0cy4gKGNsb3NlZClcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy4gKGNsb3NlZClcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBubyBuZXcgcG9zdHMuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBuZXcgcG9zdHMuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICAgIHJldHVybiAnbG9ja19vdXRsaW5lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnbG9jayc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgICAgcmV0dXJuICdjaGF0X2J1YmJsZV9vdXRsaW5lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnY2hhdF9idWJibGUnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcblxubGV0IGh5ZHJhdGUgPSBmdW5jdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2F0ZWdvcnksIHtcbiAgICBsYXN0X3Bvc3Rfb246IGNhdGVnb3J5Lmxhc3RfcG9zdF9vbiA/IG1vbWVudChjYXRlZ29yeS5sYXN0X3Bvc3Rfb24pIDogbnVsbCxcbiAgICBzdWJjYXRlZ29yaWVzOiBjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLm1hcChoeWRyYXRlKVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2F0ZWdvcmllczogbWlzYWdvLmdldCgnQ0FURUdPUklFUycpLm1hcChoeWRyYXRlKVxuICAgIH07XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhtaXNhZ28uZ2V0KCdDQVRFR09SSUVTX0FQSScpKTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAnY2F0ZWdvcmllcycsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogMTgwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhdGVnb3JpZXM6IGRhdGEubWFwKGh5ZHJhdGUpXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3JpZXMubWFwKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e2NhdGVnb3J5fSBrZXk9e2NhdGVnb3J5LmlkfSAvPjtcbiAgICAgIH0pfVxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgfTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFRocmVhZHNDb3VudCgpIHtcbiAgICBsZXQgc3RyaW5nID0gbmdldHRleHQoXG4gICAgICBcIiUodGhyZWFkcylzIHRocmVhZFwiLFxuICAgICAgXCIlKHRocmVhZHMpcyB0aHJlYWRzXCIsXG4gICAgICB0aGlzLnByb3BzLmNhdGVnb3J5LnRocmVhZHMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKHN0cmluZywge1xuICAgICAgJ3RocmVhZHMnOiB0aGlzLnByb3BzLmNhdGVnb3J5LnRocmVhZHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFBvc3RzQ291bnQoKSB7XG4gICAgbGV0IHN0cmluZyA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHBvc3RzKXMgcG9zdFwiLFxuICAgICAgXCIlKHBvc3RzKXMgcG9zdHNcIixcbiAgICAgIHRoaXMucHJvcHMuY2F0ZWdvcnkucG9zdHMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKHN0cmluZywge1xuICAgICAgJ3Bvc3RzJzogdGhpcy5wcm9wcy5jYXRlZ29yeS5wb3N0c1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lIGNhdGVnb3J5LXN0YXRzXCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktdGhyZWFkc1wiPlxuICAgICAgICB7dGhpcy5nZXRUaHJlYWRzQ291bnQoKX1cbiAgICAgIDwvbGk+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktcG9zdHNcIj5cbiAgICAgICAge3RoaXMuZ2V0UG9zdHNDb3VudCgpfVxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdWJjYXRlZ29yeVN1YmNhdGVnb3JpZXMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9zdWJjYXRlZ29yeS1zdWJjYXRlZ29yaWVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBTdWJjYXRlZ29yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAnc3ViY2F0ZWdvcnkgc3ViY2F0ZWdvcnktJyArIHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3N1YmNhdGVnb3J5JztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGk+XG4gICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybH1cbiAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgICA8L2E+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZSBzdWJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4ge1xuICAgICAgICByZXR1cm4gPFN1YmNhdGVnb3J5IGNhdGVnb3J5PXtjYXRlZ29yeX0ga2V5PXtjYXRlZ29yeS5pZH0gLz47XG4gICAgICB9KX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxzZWxlY3RcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8ICdmb3JtLWNvbnRyb2wnfVxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgaWQ9e3Byb3BzLmlkIHx8IG51bGx9XG4gICAgICBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2V9XG4gICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgPlxuICAgICAge3Byb3BzLmNob2ljZXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgZGlzYWJsZWQ9e2l0ZW0uZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICAgICAgICBrZXk9e2l0ZW0udmFsdWV9XG4gICAgICAgICAgICB2YWx1ZT17aXRlbS52YWx1ZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Jy0gLSAnLnJlcGVhdChpdGVtLmxldmVsKSArIGl0ZW0ubGFiZWx9XG4gICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3NlbGVjdD5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5jb25zdCBCQVNFX1VSTCA9ICQoJ2Jhc2UnKS5hdHRyKCdocmVmJykgKyAndXNlci1hdmF0YXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBnZXRBdmF0YXJTaXplKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3RtcC5zaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfb3JnLnNpemU7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXZhdGFyU2VjcmV0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3RtcC5zZWNyZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9vcmcuc2VjcmV0O1xuICAgIH1cbiAgfVxuXG4gIGdldEF2YXRhckhhc2goKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudXBsb2FkIHx8IHRoaXMucHJvcHMudXNlci5hdmF0YXJfaGFzaDtcbiAgfVxuXG4gIGdldEltYWdlUGF0aCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgQkFTRV9VUkwsXG4gICAgICB0aGlzLmdldEF2YXRhclNlY3JldCgpICsgJzonICsgdGhpcy5nZXRBdmF0YXJIYXNoKCksXG4gICAgICB0aGlzLnByb3BzLnVzZXIuaWQgKyAnLnBuZydcbiAgICBdLmpvaW4oJy8nKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGxldCBjcm9waXQgPSAkKCcuY3JvcC1mb3JtJyk7XG4gICAgY3JvcGl0LndpZHRoKHRoaXMuZ2V0QXZhdGFyU2l6ZSgpKTtcblxuICAgIGNyb3BpdC5jcm9waXQoe1xuICAgICAgJ3dpZHRoJzogdGhpcy5nZXRBdmF0YXJTaXplKCksXG4gICAgICAnaGVpZ2h0JzogdGhpcy5nZXRBdmF0YXJTaXplKCksXG4gICAgICAnaW1hZ2VTdGF0ZSc6IHtcbiAgICAgICAgJ3NyYyc6IHRoaXMuZ2V0SW1hZ2VQYXRoKClcbiAgICAgIH0sXG4gICAgICBvbkltYWdlTG9hZGVkOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgICAgIC8vIGNlbnRlciB1cGxvYWRlZCBpbWFnZVxuICAgICAgICAgIGxldCB6b29tTGV2ZWwgPSBjcm9waXQuY3JvcGl0KCd6b29tJyk7XG4gICAgICAgICAgbGV0IGltYWdlU2l6ZSA9IGNyb3BpdC5jcm9waXQoJ2ltYWdlU2l6ZScpO1xuXG4gICAgICAgICAgLy8gaXMgaXQgd2lkZXIgdGhhbiB0YWxsZXI/XG4gICAgICAgICAgaWYgKGltYWdlU2l6ZS53aWR0aCA+IGltYWdlU2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5ZWRXaWR0aCA9IChpbWFnZVNpemUud2lkdGggKiB6b29tTGV2ZWwpO1xuICAgICAgICAgICAgbGV0IG9mZnNldFggPSAoZGlzcGxheWVkV2lkdGggLSB0aGlzLmdldEF2YXRhclNpemUoKSkgLyAtMjtcblxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdCgnb2Zmc2V0Jywge1xuICAgICAgICAgICAgICAneCc6IG9mZnNldFgsXG4gICAgICAgICAgICAgICd5JzogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpbWFnZVNpemUud2lkdGggPCBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkSGVpZ2h0ID0gKGltYWdlU2l6ZS5oZWlnaHQgKiB6b29tTGV2ZWwpO1xuICAgICAgICAgICAgbGV0IG9mZnNldFkgPSAoZGlzcGxheWVkSGVpZ2h0IC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTI7XG5cbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ29mZnNldCcsIHtcbiAgICAgICAgICAgICAgJ3gnOiAwLFxuICAgICAgICAgICAgICAneSc6IG9mZnNldFlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgICd4JzogMCxcbiAgICAgICAgICAgICAgJ3knOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXNlIHByZXNlcnZlZCBjcm9wXG4gICAgICAgICAgbGV0IGNyb3AgPSB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9vcmcuY3JvcDtcbiAgICAgICAgICBpZiAoY3JvcCkge1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdCgnem9vbScsIGNyb3Auem9vbSk7XG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgICd4JzogY3JvcC54LFxuICAgICAgICAgICAgICAneSc6IGNyb3AueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKCcuY3JvcC1mb3JtJykuY3JvcGl0KCdkaXNhYmxlJyk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNyb3BBdmF0YXIgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgbGV0IGF2YXRhclR5cGUgPSB0aGlzLnByb3BzLnVwbG9hZCA/ICdjcm9wX3RtcCcgOiAnY3JvcF9vcmcnO1xuICAgIGxldCBjcm9waXQgPSAkKCcuY3JvcC1mb3JtJyk7XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuYXZhdGFyLCB7XG4gICAgICAnYXZhdGFyJzogYXZhdGFyVHlwZSxcbiAgICAgICdjcm9wJzoge1xuICAgICAgICAnb2Zmc2V0JzogY3JvcGl0LmNyb3BpdCgnb2Zmc2V0JyksXG4gICAgICAgICd6b29tJzogY3JvcGl0LmNyb3BpdCgnem9vbScpXG4gICAgICB9XG4gICAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKGRhdGEuYXZhdGFyX2hhc2gsIGRhdGEub3B0aW9ucyk7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGRhdGEuZGV0YWlsKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWNyb3BcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcm9wLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyb3BpdC1wcmV2aWV3XCI+PC9kaXY+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIGNsYXNzTmFtZT1cImNyb3BpdC1pbWFnZS16b29tLWlucHV0XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuY3JvcEF2YXRhcn1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy51cGxvYWQgPyBnZXR0ZXh0KFwiU2V0IGF2YXRhclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIkNyb3AgaW1hZ2VcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBiYXRjaCBmcm9tICdtaXNhZ28vdXRpbHMvYmF0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEdhbGxlcnlJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzZWxlY3QgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3QodGhpcy5wcm9wcy5pbWFnZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvbiA9PT0gdGhpcy5wcm9wcy5pbWFnZSkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhciBidG4tZGlzYWJsZWQgYXZhdGFyLXNlbGVjdGVkJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnYnRuIGJ0bi1hdmF0YXIgYXZhdGFyLXNlbGVjdGVkJztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiAnYnRuIGJ0bi1hdmF0YXIgYnRuLWRpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhcic7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3R9PlxuICAgICAgPGltZyBzcmM9e21pc2Fnby5nZXQoJ01FRElBX1VSTCcpICsgdGhpcy5wcm9wcy5pbWFnZX0gLz5cbiAgICA8L2J1dHRvbj5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHYWxsZXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJzLWdhbGxlcnlcIj5cbiAgICAgIDxoMz57dGhpcy5wcm9wcy5uYW1lfTwvaDM+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFycy1nYWxsZXJ5LWltYWdlc1wiPlxuICAgICAgICB7YmF0Y2godGhpcy5wcm9wcy5pbWFnZXMsIDQsIG51bGwpLm1hcCgocm93LCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicm93XCIga2V5PXtpfT5cbiAgICAgICAgICAgIHtyb3cubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICB7aXRlbSA/IDxHYWxsZXJ5SXRlbSBpbWFnZT17aXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q9e3RoaXMucHJvcHMuc2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgOiA8ZGl2IGNsYXNzTmFtZT1cImJsYW5rLWF2YXRhclwiIC8+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ3NlbGVjdGlvbic6IG51bGwsXG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzZWxlY3QgPSAoaW1hZ2UpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNlbGVjdGlvbjogaW1hZ2VcbiAgICB9KTtcbiAgfTtcblxuICBzYXZlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIHtcbiAgICAgIGF2YXRhcjogJ2dhbGxlcmllcycsXG4gICAgICBpbWFnZTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKTtcbiAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShyZXNwb25zZS5hdmF0YXJfaGFzaCwgcmVzcG9uc2Uub3B0aW9ucyk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1nYWxsZXJ5XCI+XG5cbiAgICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5nYWxsZXJpZXMubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxHYWxsZXJ5IG5hbWU9e2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzPXtpdGVtLmltYWdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnN0YXRlLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q9e3RoaXMuc2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9IC8+O1xuICAgICAgICB9KX1cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5zYXZlfVxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlbGVjdGlvbiA/IGdldHRleHQoXCJTYXZlIGNob2ljZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiU2VsZWN0IGF2YXRhclwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNhbGxBcGkoYXZhdGFyVHlwZSkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIHtcbiAgICAgIGF2YXRhcjogYXZhdGFyVHlwZVxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHJlc3BvbnNlLmF2YXRhcl9oYXNoLCByZXNwb25zZS5vcHRpb25zKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzZXRHcmF2YXRhciA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoJ2dyYXZhdGFyJyk7XG4gIH07XG5cbiAgc2V0R2VuZXJhdGVkID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaSgnZ2VuZXJhdGVkJyk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0R3JhdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5ncmF2YXRhcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxCdXR0b24gb25DbGljaz17dGhpcy5zZXRHcmF2YXRhcn1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1ncmF2YXRhclwiPlxuICAgICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIG15IEdyYXZhdGFyXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q3JvcEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfb3JnKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dDcm9wfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWNyb3BcIj5cbiAgICAgICAge2dldHRleHQoXCJSZS1jcm9wIHVwbG9hZGVkIGltYWdlXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VXBsb2FkQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dVcGxvYWR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVXBsb2FkIG5ldyBpbWFnZVwiKX1cbiAgICAgIDwvQnV0dG9uPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEdhbGxlcnlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5nYWxsZXJpZXMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0dhbGxlcnl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItZ2FsbGVyeVwiPlxuICAgICAgICB7Z2V0dGV4dChcIlBpY2sgYXZhdGFyIGZyb20gZ2FsbGVyeVwiKX1cbiAgICAgIDwvQnV0dG9uPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEF2YXRhclByZXZpZXcoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCB1c2VyUGV2aWV3ID0ge1xuICAgICAgaWQ6IHRoaXMucHJvcHMudXNlci5pZCxcbiAgICAgIGF2YXRhcl9oYXNoOiB0aGlzLnByb3BzLm9wdGlvbnMuYXZhdGFyX2hhc2hcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXcgcHJldmlldy1sb2FkaW5nXCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dXNlclBldmlld30gc2l6ZT1cIjIwMFwiIC8+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhci1wcmV2aWV3XCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dXNlclBldmlld30gc2l6ZT1cIjIwMFwiIC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItaW5kZXhcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj5cblxuICAgICAgICAgIHt0aGlzLmdldEF2YXRhclByZXZpZXcoKX1cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuXG4gICAgICAgICAge3RoaXMuZ2V0R3JhdmF0YXJCdXR0b24oKX1cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5zZXRHZW5lcmF0ZWR9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nZW5lcmF0ZVwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJHZW5lcmF0ZSBteSBpbmRpdmlkdWFsIGF2YXRhclwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIHt0aGlzLmdldENyb3BCdXR0b24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRVcGxvYWRCdXR0b24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRHYWxsZXJ5QnV0dG9uKCl9XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFySW5kZXggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhckNyb3AgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyVXBsb2FkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyR2FsbGVyeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXIgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIENoYW5nZUF2YXRhckVycm9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RXJyb3JSZWFzb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucmVhc29uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMucHJvcHMucmVhc29ufX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgICB7dGhpcy5nZXRFcnJvclJlYXNvbigpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIpLnRoZW4oKG9wdGlvbnMpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAnY29tcG9uZW50JzogQXZhdGFySW5kZXgsXG4gICAgICAgICdvcHRpb25zJzogb3B0aW9ucyxcbiAgICAgICAgJ2Vycm9yJzogbnVsbFxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zaG93RXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlcnJvclxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dJbmRleCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJJbmRleFxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dVcGxvYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFyVXBsb2FkXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd0Nyb3AgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFyQ3JvcFxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dHYWxsZXJ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckdhbGxlcnlcbiAgICB9KTtcbiAgfTtcblxuICBjb21wbGV0ZUZsb3cgPSAoYXZhdGFySGFzaCwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnVzZXIsIGF2YXRhckhhc2gpKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckluZGV4LFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxDaGFuZ2VBdmF0YXJFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yLmRldGFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb249e3RoaXMuc3RhdGUuZXJyb3IucmVhc29ufSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDx0aGlzLnN0YXRlLmNvbXBvbmVudCBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU9e3RoaXMuY29tcGxldGVGbG93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcj17dGhpcy5zaG93RXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZGV4PXt0aGlzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q3JvcD17dGhpcy5zaG93Q3JvcH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VXBsb2FkPXt0aGlzLnNob3dVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0dhbGxlcnk9e3RoaXMuc2hvd0dhbGxlcnl9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgaWYgKHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtY2hhbmdlLWF2YXRhclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtY2hhbmdlLWF2YXRhclwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB5b3VyIGF2YXRhclwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGhpcy5nZXRCb2R5KCl9XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICAndXNlcic6IHN0YXRlLmF1dGgudXNlclxuICB9O1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXJDcm9wIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvY3JvcCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgZmlsZVNpemUgZnJvbSAnbWlzYWdvL3V0aWxzL2ZpbGUtc2l6ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2ltYWdlJzogbnVsbCxcbiAgICAgICdwcmV2aWV3JzogbnVsbCxcbiAgICAgICdwcm9ncmVzcyc6IDAsXG4gICAgICAndXBsb2FkZWQnOiBudWxsLFxuICAgIH07XG4gIH1cblxuICB2YWxpZGF0ZUZpbGUoaW1hZ2UpIHtcbiAgICBpZiAoaW1hZ2Uuc2l6ZSA+IHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQubGltaXQpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiU2VsZWN0ZWQgZmlsZSBpcyB0b28gYmlnLiAoJShmaWxlc2l6ZSlzKVwiKSwge1xuICAgICAgICAnZmlsZXNpemUnOiBmaWxlU2l6ZShpbWFnZS5zaXplKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgbGV0IGludmFsaWRUeXBlTXNnID0gZ2V0dGV4dChcIlNlbGVjdGVkIGZpbGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5hbGxvd2VkX21pbWVfdHlwZXMuaW5kZXhPZihpbWFnZS50eXBlKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBpbnZhbGlkVHlwZU1zZztcbiAgICB9XG5cbiAgICBsZXQgZXh0ZW5zaW9uRm91bmQgPSBmYWxzZTtcbiAgICBsZXQgbG93ZXJlZEZpbGVuYW1lID0gaW1hZ2UubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIGlmIChsb3dlcmVkRmlsZW5hbWUuc3Vic3RyKGV4dGVuc2lvbi5sZW5ndGggKiAtMSkgPT09IGV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb25Gb3VuZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWV4dGVuc2lvbkZvdW5kKSB7XG4gICAgICByZXR1cm4gaW52YWxpZFR5cGVNc2c7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBwaWNrRmlsZSA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXZhdGFyLWhpZGRlbi11cGxvYWQnKS5jbGljaygpO1xuICB9O1xuXG4gIHVwbG9hZEZpbGUgPSAoKSA9PiB7XG4gICAgbGV0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F2YXRhci1oaWRkZW4tdXBsb2FkJykuZmlsZXNbMF07XG5cbiAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdGhpcy52YWxpZGF0ZUZpbGUoaW1hZ2UpO1xuICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRpb25FcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbWFnZSxcbiAgICAgICdwcmV2aWV3JzogVVJMLmNyZWF0ZU9iamVjdFVSTChpbWFnZSksXG4gICAgICAncHJvZ3Jlc3MnOiAwXG4gICAgfSk7XG5cbiAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGRhdGEuYXBwZW5kKCdhdmF0YXInLCAndXBsb2FkJyk7XG4gICAgZGF0YS5hcHBlbmQoJ2ltYWdlJywgaW1hZ2UpO1xuXG4gICAgYWpheC51cGxvYWQodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuYXZhdGFyLCBkYXRhLCAocHJvZ3Jlc3MpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwcm9ncmVzc1xuICAgICAgfSk7XG4gICAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdvcHRpb25zJzogZGF0YS5vcHRpb25zLFxuICAgICAgICAndXBsb2FkZWQnOiBkYXRhLmRldGFpbFxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJZb3VyIGltYWdlIGhhcyBiZWVuIHVwbG9hZGVkIGFuZCB5b3UgbWF5IG5vdyBjcm9wIGl0LlwiKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuICAgICAgICAgICdpbWFnZSc6IG51bGwsXG4gICAgICAgICAgJ3Byb2dyZXNzJzogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKG9wdGlvbnMpIHtcbiAgICBsZXQgZXh0ZW5zaW9ucyA9IG9wdGlvbnMuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIHJldHVybiBleHRlbnNpb24uc3Vic3RyKDEpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKGZpbGVzKXMgZmlsZXMgc21hbGxlciB0aGFuICUobGltaXQpc1wiKSwge1xuICAgICAgICAnZmlsZXMnOiBleHRlbnNpb25zLmpvaW4oJywgJyksXG4gICAgICAgICdsaW1pdCc6IGZpbGVTaXplKG9wdGlvbnMubGltaXQpXG4gICAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFVwbG9hZEJ1dHRvbigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXBpY2stZmlsZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5waWNrRmlsZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBpbnB1dFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGZpbGVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpfVxuICAgICAgICA8L3A+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzc0xhYmVsKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJShwcm9ncmVzcylzICUgY29tcGxldGVcIiksIHtcbiAgICAgICAgJ3Byb2dyZXNzJzogdGhpcy5zdGF0ZS5wcm9ncmVzc1xuICAgICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzcygpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBsb2FkLXByb2dyZXNzXCI+XG4gICAgICAgICAgPGltZyBzcmM9e3RoaXMuc3RhdGUucHJldmlld30gLz5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyXCIgcm9sZT1cInByb2dyZXNzYmFyXCJcbiAgICAgICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz1cInt0aGlzLnN0YXRlLnByb2dyZXNzfVwiXG4gICAgICAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCIgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHRoaXMuc3RhdGUucHJvZ3Jlc3MgKyAnJSd9fT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPnt0aGlzLmdldFVwbG9hZFByb2dyZXNzTGFiZWwoKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXJVcGxvYWQoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICBpZD1cImF2YXRhci1oaWRkZW4tdXBsb2FkXCJcbiAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4tZmlsZS11cGxvYWRcIlxuICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwbG9hZEZpbGV9IC8+XG4gICAgICB7dGhpcy5zdGF0ZS5pbWFnZSA/IHRoaXMuZ2V0VXBsb2FkUHJvZ3Jlc3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFVwbG9hZEJ1dHRvbigpfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ISF0aGlzLnN0YXRlLmltYWdlfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyQ3JvcCgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxBdmF0YXJDcm9wIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWQ9e3RoaXMuc3RhdGUudXBsb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU9e3RoaXMucHJvcHMub25Db21wbGV0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnByb3BzLnNob3dFcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZGV4PXt0aGlzLnByb3BzLnNob3dJbmRleH0gLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuICh0aGlzLnN0YXRlLnVwbG9hZGVkID8gdGhpcy5yZW5kZXJDcm9wKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnJlbmRlclVwbG9hZCgpKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZHJvcGRvd24pIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tYWxpZ25lZCBidG4taWNvbiBidG4tZHJvcGRvd24tdG9nZ2xlIG9wZW4gaGlkZGVuLW1kIGhpZGRlbi1sZ1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgYnRuLWljb24gYnRuLWRyb3Bkb3duLXRvZ2dsZSBoaWRkZW4tbWQgaGlkZGVuLWxnXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZHJvcGRvd24gPyAndHJ1ZScgOiAnZmFsc2UnfT5cbiAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgbWVudVxuICAgICAgPC9pPlxuICAgIDwvYnV0dG9uPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaXN0IGZyb20gJy4vbGlzdCc7XG5pbXBvcnQgVXBsb2FkZXIgZnJvbSAnLi91cGxvYWRlcic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghbWlzYWdvLmdldCgndXNlcicpLmFjbC5tYXhfYXR0YWNobWVudF9zaXplKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnRzXCI+XG4gICAgICA8TGlzdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VXBsb2FkZXIgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuXG5jb25zdCBTVFJPTkcgPSAnPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgZWRpdG9yLWF0dGFjaG1lbnRzLWxpc3RcIj5cbiAgICAgIHtwcm9wcy5hdHRhY2htZW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uaWQpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEF0dGFjaG1lbnQgaXRlbT17aXRlbX0ga2V5PXtpdGVtLmlkfSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBdHRhY2htZW50RXJyb3IgaXRlbT17aXRlbX0ga2V5PXtpdGVtLmtleX0gey4uLnByb3BzfSAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBdHRhY2htZW50VXBsb2FkIGl0ZW09e2l0ZW19IGtleT17aXRlbS5rZXl9IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufTtcblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1yZWFkeVwiPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3RoaXMucHJvcHMuaXRlbS51cmwuaW5kZXh9XG4gICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLnByb3BzLml0ZW0uZmlsZW5hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRFcnJvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyZWRBdHRhY2htZW50cyA9IHRoaXMucHJvcHMuYXR0YWNobWVudHMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5rZXkgIT09IHRoaXMucHJvcHMuaXRlbS5rZXk7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKGZpbHRlcmVkQXR0YWNobWVudHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGludGVycG9sYXRlKFNUUk9ORywge1xuICAgICAgbmFtZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLml0ZW0uZmlsZW5hbWUpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBjb25zdCB0aXRsZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJFcnJvciB1cGxvYWRpbmcgJShmaWxlbmFtZSlzXCIpLCB7XG4gICAgICBmaWxlbmFtZSxcbiAgICAgIHByb2dyZXNzOiB0aGlzLnByb3BzLml0ZW0ucHJvZ3Jlc3MgKyAnJSdcbiAgICB9LCB0cnVlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZXJyb3JcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvci1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgd2FybmluZ1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZXJyb3ItbWVzc2FnZVwiPlxuICAgICAgICAgIDxoNCBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogdGl0bGUgKyAnOid9fSAvPlxuICAgICAgICAgIDxwPnt0aGlzLnByb3BzLml0ZW0uZXJyb3J9PC9wPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJEaXNtaXNzXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRVcGxvYWQocHJvcHMpIHtcbiAgY29uc3QgZmlsZW5hbWUgPSBpbnRlcnBvbGF0ZShTVFJPTkcsIHtcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0uZmlsZW5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiVXBsb2FkaW5nICUoZmlsZW5hbWUpcy4uLiAlKHByb2dyZXNzKXNcIiksIHtcbiAgICBmaWxlbmFtZSxcbiAgICBwcm9ncmVzczogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ1xuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC11cGxvYWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1wcm9ncmVzc1wiXG4gICAgICAgICAgc3R5bGU9e3t3aWR0aDogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ319XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwXG4gICAgICAgIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXVwbG9hZC1tZXNzYWdlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgICAgLz5cbiAgICA8L2xpPlxuICApO1xufTsiLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRvci11cGxvYWQtZmllbGQnKS5jbGljaygpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIW1pc2Fnby5nZXQoJ3VzZXInKS5hY2wubWF4X2F0dGFjaG1lbnRfc2l6ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXsnYnRuICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e2dldHRleHQoJ1VwbG9hZCBmaWxlJyl9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgZmlsZV91cGxvYWRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufTtcbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHVwbG9hZCA9IHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAga2V5OiBnZXRSYW5kb21LZXkoKSxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBmaWxlbmFtZTogZmlsZS5uYW1lXG4gICAgfTtcblxuICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZShbdXBsb2FkXS5jb25jYXQodGhpcy5wcm9wcy5hdHRhY2htZW50cykpO1xuXG4gICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGRhdGEuYXBwZW5kKCd1cGxvYWQnLCBmaWxlKTtcblxuICAgIGFqYXgudXBsb2FkKG1pc2Fnby5nZXQoJ0FUVEFDSE1FTlRTX0FQSScpLCBkYXRhLCAocHJvZ3Jlc3MpID0+IHtcbiAgICAgIHVwbG9hZC5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpO1xuICAgIH0pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odXBsb2FkLCBkYXRhKTtcbiAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHVwbG9hZC5lcnJvciA9IHJlamVjdGlvbi5kZXRhaWw7XG4gICAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgaWQ9XCJlZGl0b3ItdXBsb2FkLWZpZWxkXCJcbiAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUtleSgpIHtcbiAgcmV0dXJuICd1cGxkLScgKyBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF0dGFjaG1lbnRzRWRpdG9yIGZyb20gJy4vYXR0YWNobWVudHMnO1xuaW1wb3J0IFVwbG9hZCBmcm9tICcuL2F0dGFjaG1lbnRzL3VwbG9hZC1idXR0b24vJztcbmltcG9ydCBNYXJrdXBQcmV2aWV3IGZyb20gJy4vbWFya3VwLXByZXZpZXcnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1ByZXZpZXdMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBvblByZXZpZXdDbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1ByZXZpZXdMb2FkaW5nOiB0cnVlXG4gICAgfSk7XG5cbiAgICBhamF4LnBvc3QobWlzYWdvLmdldCgnUEFSU0VfTUFSS1VQX0FQSScpLCB7cG9zdDogdGhpcy5wcm9wcy52YWx1ZX0pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIG1vZGFsLnNob3coXG4gICAgICAgIDxNYXJrdXBQcmV2aWV3IG1hcmt1cD17ZGF0YS5wYXJzZWR9IC8+XG4gICAgICApO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYm9yZGVyXCI+XG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICByb3dzPVwiN1wiXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgIC8+XG4gICAgICAgIDxBdHRhY2htZW50c0VkaXRvclxuICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnByb3BzLmF0dGFjaG1lbnRzfVxuICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItZm9vdGVyXCI+XG4gICAgICAgICAgPFVwbG9hZFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uUHJldmlld0NsaWNrfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJQcmV2aWV3XCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5zdWJtaXRMYWJlbCB8fCBnZXR0ZXh0KFwiUG9zdFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DYW5jZWx9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8UHJvdGVjdFxuICAgICAgICAgICAgY2FuUHJvdGVjdD17dGhpcy5wcm9wcy5jYW5Qcm90ZWN0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uUHJvdGVjdD17dGhpcy5wcm9wcy5vblByb3RlY3R9XG4gICAgICAgICAgICBvblVucHJvdGVjdD17dGhpcy5wcm9wcy5vblVucHJvdGVjdH1cbiAgICAgICAgICAgIHByb3RlY3Q9e3RoaXMucHJvcHMucHJvdGVjdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3QocHJvcHMpIHtcbiAgaWYgKHByb3BzLmNhblByb3RlY3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLnByb3RlY3QgPyBwcm9wcy5vblVucHJvdGVjdCA6IHByb3BzLm9uUHJvdGVjdH1cbiAgICAgICAgdGl0bGU9e3Byb3BzLnByb3RlY3QgPyBnZXR0ZXh0KCdQcm90ZWN0ZWQnKSA6IGdldHRleHQoJ1Byb3RlY3QnKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMucHJvdGVjdCA/ICdsb2NrJyA6ICdsb2NrX291dGxpbmUnfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlByZXZpZXcgbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1hcmt1cC1wcmV2aWV3XCI+XG4gICAgICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLm1hcmt1cH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzVmFsaWRhdGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5wcm9wcy52YWxpZGF0aW9uICE9PSBcInVuZGVmaW5lZFwiO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAnZm9ybS1ncm91cCc7XG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLWZlZWRiYWNrJztcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLXN1Y2Nlc3MnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLWVycm9yJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgfVxuXG4gIGdldEZlZWRiYWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgZXJyb3JzXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24ubWFwKChlcnJvciwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8cCBrZXk9e3RoaXMucHJvcHMuZm9yICsgJ0ZlZWRiYWNrSXRlbScgKyBpfT57ZXJyb3J9PC9wPjtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRGZWVkYmFja0ljb24oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb24gZm9ybS1jb250cm9sLWZlZWRiYWNrXCJcbiAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIiBrZXk9e3RoaXMucHJvcHMuZm9yICsgJ0ZlZWRiYWNrSWNvbid9PlxuICAgICAgICB7dGhpcy5wcm9wcy52YWxpZGF0aW9uID8gJ2NsZWFyJyA6ICdjaGVjayd9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gaWQ9e3RoaXMucHJvcHMuZm9yICsgJ19zdGF0dXMnfSBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24gPyBnZXR0ZXh0KCcoZXJyb3IpJykgOiBnZXR0ZXh0KCcoc3VjY2VzcyknKX1cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj57dGhpcy5wcm9wcy5oZWxwVGV4dH08L3A+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT17J2NvbnRyb2wtbGFiZWwgJyArICh0aGlzLnByb3BzLmxhYmVsQ2xhc3MgfHwgJycpfVxuICAgICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuZm9yIHx8ICcnfT5cbiAgICAgICAge3RoaXMucHJvcHMubGFiZWwgKyAnOid9XG4gICAgICA8L2xhYmVsPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY29udHJvbENsYXNzIHx8ICcnfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIHt0aGlzLmdldEZlZWRiYWNrSWNvbigpfVxuICAgICAgICB7dGhpcy5nZXRGZWVkYmFja0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgIHt0aGlzLmdldEZlZWRiYWNrKCl9XG4gICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgIHt0aGlzLnByb3BzLmV4dHJhIHx8IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmxldCB2YWxpZGF0ZVJlcXVpcmVkID0gcmVxdWlyZWQoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICB2YWxpZGF0ZSgpIHtcbiAgICBsZXQgZXJyb3JzID0ge307XG4gICAgaWYgKCF0aGlzLnN0YXRlLnZhbGlkYXRvcnMpIHtcbiAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgfVxuXG4gICAgbGV0IHZhbGlkYXRvcnMgPSB7XG4gICAgICByZXF1aXJlZDogdGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycyxcbiAgICAgIG9wdGlvbmFsOiB0aGlzLnN0YXRlLnZhbGlkYXRvcnMub3B0aW9uYWwgfHwge31cbiAgICB9O1xuXG4gICAgbGV0IHZhbGlkYXRlZEZpZWxkcyA9IFtdO1xuXG4gICAgLy8gYWRkIHJlcXVpcmVkIGZpZWxkcyB0byB2YWxpZGF0aW9uXG4gICAgZm9yIChsZXQgbmFtZSBpbiB2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICBpZiAodmFsaWRhdG9ycy5yZXF1aXJlZC5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWRbbmFtZV0pIHtcbiAgICAgICAgdmFsaWRhdGVkRmllbGRzLnB1c2gobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIG9wdGlvbmFsIGZpZWxkcyB0byB2YWxpZGF0aW9uXG4gICAgZm9yIChsZXQgbmFtZSBpbiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICBpZiAodmFsaWRhdG9ycy5vcHRpb25hbC5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICAgIHZhbGlkYXRvcnMub3B0aW9uYWxbbmFtZV0pIHtcbiAgICAgICAgdmFsaWRhdGVkRmllbGRzLnB1c2gobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgZmllbGRzIHZhbHVlc1xuICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdGVkRmllbGRzKSB7XG4gICAgICBsZXQgbmFtZSA9IHZhbGlkYXRlZEZpZWxkc1tpXTtcbiAgICAgIGxldCBmaWVsZEVycm9ycyA9IHRoaXMudmFsaWRhdGVGaWVsZChuYW1lLCB0aGlzLnN0YXRlW25hbWVdKTtcblxuICAgICAgaWYgKGZpZWxkRXJyb3JzID09PSBudWxsKSB7XG4gICAgICAgIGVycm9yc1tuYW1lXSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkRXJyb3JzKSB7XG4gICAgICAgIGVycm9yc1tuYW1lXSA9IGZpZWxkRXJyb3JzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG4gIH1cblxuICBpc1ZhbGlkKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgZm9yIChsZXQgZmllbGQgaW4gZXJyb3JzKSB7XG4gICAgICBpZiAoZXJyb3JzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICBpZiAoZXJyb3JzW2ZpZWxkXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFsaWRhdGVGaWVsZChuYW1lLCB2YWx1ZSkge1xuICAgIGxldCBlcnJvcnMgPSBbXTtcbiAgICBpZiAoIXRoaXMuc3RhdGUudmFsaWRhdG9ycykge1xuICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdG9ycyA9IHtcbiAgICAgIHJlcXVpcmVkOiAodGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycylbbmFtZV0sXG4gICAgICBvcHRpb25hbDogKHRoaXMuc3RhdGUudmFsaWRhdG9ycy5vcHRpb25hbCB8fCB7fSlbbmFtZV1cbiAgICB9O1xuXG4gICAgbGV0IHJlcXVpcmVkRXJyb3IgPSB2YWxpZGF0ZVJlcXVpcmVkKHZhbHVlKSB8fCBmYWxzZTtcblxuICAgIGlmICh2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICBpZiAocmVxdWlyZWRFcnJvcikge1xuICAgICAgICBlcnJvcnMgPSBbcmVxdWlyZWRFcnJvcl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgICAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdG9ycy5yZXF1aXJlZFtpXSh2YWx1ZSk7XG4gICAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbkVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiBudWxsO1xuICAgIH0gZWxzZSBpZiAocmVxdWlyZWRFcnJvciA9PT0gZmFsc2UgJiYgdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0b3JzLm9wdGlvbmFsW2ldKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRpb25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTsgLy8gZmFsc2UgPT09IGZpZWxkIHdhc24ndCB2YWxpZGF0ZWRcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgYmluZElucHV0ID0gKG5hbWUpID0+IHtcbiAgICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmNoYW5nZVZhbHVlKG5hbWUsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNoYW5nZVZhbHVlID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgbGV0IG5ld1N0YXRlID0ge1xuICAgICAgW25hbWVdOiB2YWx1ZVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtRXJyb3JzID0gdGhpcy5zdGF0ZS5lcnJvcnMgfHwge307XG4gICAgZm9ybUVycm9yc1tuYW1lXSA9IHRoaXMudmFsaWRhdGVGaWVsZChuYW1lLCBuZXdTdGF0ZVtuYW1lXSk7XG4gICAgbmV3U3RhdGUuZXJyb3JzID0gZm9ybUVycm9ycztcblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuXG4gIGNsZWFuKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jbGVhbigpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtpc0xvYWRpbmc6IHRydWV9KTtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5zZW5kKCk7XG5cbiAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgICAgICB0aGlzLmhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcyk7XG4gICAgICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0xvYWRpbmc6IGZhbHNlfSk7XG4gICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZWplY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBpc0FjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0NvbnRyb2xsZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmlzQWN0aXZlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5wYXRoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKHRoaXMucHJvcHMucGF0aCkgPT09IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybiAodGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJycpICsgJyAnKyAodGhpcy5wcm9wcy5hY3RpdmVDbGFzc05hbWUgfHwgJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICA8L2xpPjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJsb2FkZXJcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlci1zcGlubmluZy13aGVlbFwiPjwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuIHJldHVybiAoXG4gICAgPGFydGljbGUgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBwcm9wcy5tYXJrdXB9fSAvPlxuICApO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWxvYWRlclwiPlxuICAgICAgPExvYWRlciAvPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBQYW5lbE1lc3NhZ2Uge1xuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj5cbiAgICAgICAge3RoaXMucHJvcHMuaGVscFRleHR9XG4gICAgICA8L3A+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuaWNvbiB8fCAnaW5mb19vdXRsaW5lJ31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgICB7dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhbmVsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oMz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8UGFuZWxMb2FkZXIgLz5cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMubmV4dF9vbikge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJZb3Ugd2lsbCBiZSBhYmxlIHRvIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUobmV4dF9jaGFuZ2Upcy5cIiksXG4gICAgICAgICAgeyduZXh0X2NoYW5nZSc6IHRoaXMucHJvcHMub3B0aW9ucy5uZXh0X29uLmZyb21Ob3coKX0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBoYXZlIHVzZWQgdXAgYXZhaWxhYmxlIG5hbWUgY2hhbmdlcy5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxQYW5lbE1lc3NhZ2UgbWVzc2FnZT17Z2V0dGV4dChcIllvdSBjYW4ndCBjaGFuZ2UgeW91ciB1c2VybmFtZSBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e3RoaXMuZ2V0SGVscFRleHQoKX0gLz5cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXNlcm5hbWU6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWluTGVuZ3RoKHtcbiAgICAgICAgICAgIHVzZXJuYW1lX2xlbmd0aF9taW46IHByb3BzLm9wdGlvbnMubGVuZ3RoX21pblxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNYXhMZW5ndGgoe1xuICAgICAgICAgICAgdXNlcm5hbWVfbGVuZ3RoX21heDogcHJvcHMub3B0aW9ucy5sZW5ndGhfbWF4XG4gICAgICAgICAgfSlcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBsZXQgcGhyYXNlcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPiAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBjYW4gY2hhbmdlIHlvdXIgdXNlcm5hbWUgJShjaGFuZ2VzX2xlZnQpcyBtb3JlIHRpbWUuXCIsXG4gICAgICAgIFwiWW91IGNhbiBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKGNoYW5nZXNfbGVmdClzIG1vcmUgdGltZXMuXCIsXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnQpO1xuXG4gICAgICBwaHJhc2VzLnB1c2goaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnY2hhbmdlc19sZWZ0JzogdGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdFxuICAgICAgfSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmUgPiAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlVzZWQgY2hhbmdlcyByZWRlZW0gYWZ0ZXIgJShuYW1lX2NoYW5nZXNfZXhwaXJlKXMgZGF5LlwiLFxuICAgICAgICBcIlVzZWQgY2hhbmdlcyByZWRlZW0gYWZ0ZXIgJShuYW1lX2NoYW5nZXNfZXhwaXJlKXMgZGF5cy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlKTtcblxuICAgICAgcGhyYXNlcy5wdXNoKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ25hbWVfY2hhbmdlc19leHBpcmUnOiB0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmVcbiAgICAgIH0sIHRydWUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGhyYXNlcy5sZW5ndGggPyBwaHJhc2VzLmpvaW4oJyAnKSA6IG51bGw7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGlmIChlcnJvcnMudXNlcm5hbWUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy51c2VybmFtZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBpZiAodGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCkgPT09IHRoaXMucHJvcHMudXNlci51c2VybmFtZSkge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiWW91ciBuZXcgdXNlcm5hbWUgaXMgc2FtZSBhcyBjdXJyZW50IG9uZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwudXNlcm5hbWUsIHtcbiAgICAgICd1c2VybmFtZSc6IHRoaXMuc3RhdGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ3VzZXJuYW1lJzogJydcbiAgICB9KTtcblxuICAgIHRoaXMucHJvcHMuY29tcGxldGUoc3VjY2Vzcy51c2VybmFtZSwgc3VjY2Vzcy5zbHVnLCBzdWNjZXNzLm9wdGlvbnMpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZm9ybS1ob3Jpem9udGFsXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IHVzZXJuYW1lXCIpfSBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17dGhpcy5nZXRIZWxwVGV4dCgpfT5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiaWRfdXNlcm5hbWVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3VzZXJuYW1lJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLXNtLW9mZnNldC00XCI+XG5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRm9ybUxvYWRpbmcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2FkaW5nJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybUxvY2tlZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvY2tlZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUsIGFkZE5hbWVDaGFuZ2UgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgdXBkYXRlVXNlcm5hbWUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBvcHRpb25zOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KTtcblxuICAgIFByb21pc2UuYWxsKFtcbiAgICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLnVzZXJuYW1lKSxcbiAgICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1VTRVJOQU1FX0NIQU5HRVNfQVBJJyksIHt1c2VyOiB0aGlzLnByb3BzLnVzZXIuaWR9KVxuICAgIF0pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YVsxXS5yZXN1bHRzKSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGNoYW5nZXNfbGVmdDogZGF0YVswXS5jaGFuZ2VzX2xlZnQsXG4gICAgICAgICAgbGVuZ3RoX21pbjogZGF0YVswXS5sZW5ndGhfbWluLFxuICAgICAgICAgIGxlbmd0aF9tYXg6IGRhdGFbMF0ubGVuZ3RoX21heCxcbiAgICAgICAgICBuZXh0X29uOiBkYXRhWzBdLm5leHRfb24gPyBtb21lbnQoZGF0YVswXS5uZXh0X29uKSA6IG51bGwsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBvbkNvbXBsZXRlID0gKHVzZXJuYW1lLCBzbHVnLCBvcHRpb25zKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcHRpb25zXG4gICAgfSk7XG5cbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIGFkZE5hbWVDaGFuZ2UoeyB1c2VybmFtZSwgc2x1ZyB9LCB0aGlzLnByb3BzLnVzZXIsIHRoaXMucHJvcHMudXNlcikpO1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgdXBkYXRlVXNlcm5hbWUodGhpcy5wcm9wcy51c2VyLCB1c2VybmFtZSwgc2x1ZykpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB1c2VybmFtZSBoYXMgYmVlbiBjaGFuZ2VkIHN1Y2Nlc3NmdWxseS5cIikpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENoYW5nZUZvcm0oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm9wdGlvbnMuY2hhbmdlc19sZWZ0ID4gMCkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8Rm9ybSB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZT17dGhpcy5vbkNvbXBsZXRlfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxGb3JtTG9ja2VkIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc30gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Rm9ybUxvYWRpbmcgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICB7dGhpcy5nZXRDaGFuZ2VGb3JtKCl9XG4gICAgICA8VXNlcm5hbWVIaXN0b3J5IGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzPXt0aGlzLnByb3BzWyd1c2VybmFtZS1oaXN0b3J5J119IC8+XG4gICAgPC9kaXY+XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZSxcblxuICAgICAgJ2lzX2hpZGluZ19wcmVzZW5jZSc6IHByb3BzLnVzZXIuaXNfaGlkaW5nX3ByZXNlbmNlLFxuICAgICAgJ2xpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvJzogcHJvcHMudXNlci5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgICdzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzJzogcHJvcHMudXNlci5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgJ3N1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHMnOiBwcm9wcy51c2VyLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHMsXG5cbiAgICAgICdlcnJvcnMnOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLnByaXZhdGVUaHJlYWRJbnZpdGVzQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAnaGVscF9vdXRsaW5lJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIkV2ZXJ5Ym9keVwiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAnZG9uZV9hbGwnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiVXNlcnMgSSBmb2xsb3dcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDIsXG4gICAgICAgICdpY29uJzogJ2hpZ2hsaWdodF9vZmYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9ib2R5XCIpXG4gICAgICB9XG4gICAgXTtcblxuICAgIHRoaXMuc3Vic2NyaWJlVG9DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdzdGFyX2JvcmRlcicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAnc3Rhcl9oYWxmJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdGlmeVwiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnc3RhcicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb3RpZnkgd2l0aCBlLW1haWxcIilcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLm9wdGlvbnMsIHtcbiAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogdGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh7XG4gICAgICBpc19oaWRpbmdfcHJlc2VuY2U6IHRoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlLFxuICAgICAgbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG86IHRoaXMuc3RhdGUubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8sXG4gICAgICBzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICBzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcbiAgICB9KSk7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciBmb3J1bSBvcHRpb25zIGhhdmUgYmVlbiBjaGFuZ2VkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiUGxlYXNlIHJlbG9hZCBwYWdlIGFuZCB0cnkgYWdhaW4uXCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJGb3J1bSBvcHRpb25zXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIGZvcnVtIG9wdGlvbnNcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuXG4gICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIlByaXZhY3kgc2V0dGluZ3NcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIG15IHByZXNlbmNlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIklmIHlvdSBoaWRlIHlvdXIgcHJlc2VuY2UsIG9ubHkgbWVtYmVycyB3aXRoIHBlcm1pc3Npb24gdG8gc2VlIGhpZGRlbiB1c2VycyB3aWxsIHNlZSB3aGVuIHlvdSBhcmUgb25saW5lLlwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkaW5nX3ByZXNlbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgICAgPFllc05vU3dpdGNoIGlkPVwiaWRfaXNfaGlkaW5nX3ByZXNlbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Pbj1cInZpc2liaWxpdHlfb2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJ2aXNpYmlsaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJIaWRlIG15IHByZXNlbmNlIGZyb20gb3RoZXIgdXNlcnNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIlNob3cgbXkgcHJlc2VuY2UgdG8gb3RoZXIgdXNlcnNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGluZ19wcmVzZW5jZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJQcml2YXRlIHRocmVhZCBpbnZpdGF0aW9uc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICA8U2VsZWN0IGlkPVwiaWRfbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2xpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvJyl9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG99XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5wcml2YXRlVGhyZWFkSW52aXRlc0Nob2ljZXN9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2ZpZWxkc2V0PlxuXG4gICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIkF1dG9tYXRpYyBzdWJzY3JpcHRpb25zXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkcyBJIHN0YXJ0XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgICAgPFNlbGVjdCBpZD1cImlkX3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMnKX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3Vic2NyaWJlVG9DaG9pY2VzfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWRzIEkgcmVwbHkgdG9cIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3N1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICA8U2VsZWN0IGlkPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcycpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdWJzY3JpYmVUb0Nob2ljZXN9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2ZpZWxkc2V0PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1zbS1vZmZzZXQtNFwiPlxuXG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbGknOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgU2lkZU5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gPExpbmsgdG89e3RoaXMucHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgIGtleT17b3B0aW9uLmNvbXBvbmVudH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge29wdGlvbi5pY29ufVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgIDwvTGluaz47XG4gICAgICB9KX1cbiAgICA8L2Rpdj47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIDxMaSBwYXRoPXt0aGlzLnByb3BzLmJhc2VVcmwgKyBvcHRpb24uY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgICAgICAgIGtleT17b3B0aW9uLmNvbXBvbmVudH0+XG4gICAgICAgICAgPExpbmsgdG89e3RoaXMucHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5oaWRlTmF2fT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAge29wdGlvbi5pY29ufVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAge29wdGlvbi5uYW1lfVxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9MaT47XG4gICAgICB9KX1cbiAgICA8L3VsPjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgU2lkZU5hdiwgQ29tcGFjdE5hdiB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvbmF2cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENoYW5nZUZvcnVtT3B0aW9ucyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2ZvcnVtLW9wdGlvbnMnO1xuaW1wb3J0IENoYW5nZVVzZXJuYW1lIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL3Jvb3QnO1xuaW1wb3J0IENoYW5nZVNpZ25JbkNyZWRlbnRpYWxzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9yb290JztcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2Utb3B0aW9uc1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInB1bGwtbGVmdFwiPntnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKX08L2gxPlxuXG4gICAgICAgICAgPERyb3Bkb3duVG9nZ2xlIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duPXt0aGlzLnN0YXRlLmRyb3Bkb3dufSAvPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCl9PlxuXG4gICAgICAgIDxDb21wYWN0TmF2IG9wdGlvbnM9e21pc2Fnby5nZXQoJ1VTRVJfT1BUSU9OUycpfVxuICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyl9XG4gICAgICAgICAgICAgICAgICAgIGhpZGVOYXY9e3RoaXMuaGlkZU5hdn0gLz5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG5cbiAgICAgICAgICAgIDxTaWRlTmF2IG9wdGlvbnM9e21pc2Fnby5nZXQoJ1VTRVJfT1BUSU9OUycpfVxuICAgICAgICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpfSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPlxuXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgICd0aWNrJzogc3RvcmUudGljay50aWNrLFxuICAgICd1c2VyJzogc3RvcmUuYXV0aC51c2VyLFxuICAgICd1c2VybmFtZS1oaXN0b3J5Jzogc3RvcmVbJ3VzZXJuYW1lLWhpc3RvcnknXVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ2ZvcnVtLW9wdGlvbnMvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZUZvcnVtT3B0aW9ucylcbiAgICB9LFxuICAgIHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKSArICdjaGFuZ2UtdXNlcm5hbWUvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVVzZXJuYW1lKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ3NpZ24taW4tY3JlZGVudGlhbHMvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVNpZ25JbkNyZWRlbnRpYWxzKVxuICAgIH1cbiAgXTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuZXdfZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIG5ld19lbWFpbDogW1xuICAgICAgICAgIHZhbGlkYXRvcnMuZW1haWwoKVxuICAgICAgICBdLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUubmV3X2VtYWlsLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGhcbiAgICBdO1xuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBhbGwgZmllbGRzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5uZXdfZW1haWwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5uZXdfZW1haWxbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmNoYW5nZV9lbWFpbCwge1xuICAgICAgbmV3X2VtYWlsOiB0aGlzLnN0YXRlLm5ld19lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmV3X2VtYWlsOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJ1xuICAgIH0pO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5uZXdfZW1haWwpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLm5ld19lbWFpbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucGFzc3dvcmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZm9ybS1ob3Jpem9udGFsXCI+XG4gICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZS1tYWlsIGFkZHJlc3NcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBlLW1haWxcIil9IGZvcj1cImlkX25ld19lbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF9uZXdfZW1haWxcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ25ld19lbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5ld19lbWFpbH0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxociAvPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIllvdXIgY3VycmVudCBwYXNzd29yZFwiKX0gZm9yPVwiaWRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1zbS1vZmZzZXQtNFwiPlxuXG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgZS1tYWlsXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld19wYXNzd29yZDogJycsXG4gICAgICByZXBlYXRfcGFzc3dvcmQ6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIG5ld19wYXNzd29yZDogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucGFzc3dvcmRNaW5MZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKSlcbiAgICAgICAgXSxcbiAgICAgICAgcmVwZWF0X3Bhc3N3b3JkOiBbXSxcbiAgICAgICAgcGFzc3dvcmQ6IFtdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgbGV0IGxlbmd0aHMgPSBbXG4gICAgICB0aGlzLnN0YXRlLm5ld19wYXNzd29yZC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmQudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aFxuICAgIF07XG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLm5ld19wYXNzd29yZCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLm5ld19wYXNzd29yZFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLnRyaW0oKSAhPT0gdGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmQudHJpbSgpKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiTmV3IHBhc3N3b3JkcyBhcmUgZGlmZmVyZW50LlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuY2hhbmdlX3Bhc3N3b3JkLCB7XG4gICAgICBuZXdfcGFzc3dvcmQ6IHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5ld19wYXNzd29yZDogJycsXG4gICAgICByZXBlYXRfcGFzc3dvcmQ6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgfSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5ld19wYXNzd29yZCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ubmV3X3Bhc3N3b3JkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBwYXNzd29yZFwiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9uZXdfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX25ld19wYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnbmV3X3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmV3X3Bhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlJlcGVhdCBwYXNzd29yZFwiKX0gZm9yPVwiaWRfcmVwZWF0X3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJpZF9yZXBlYXRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3JlcGVhdF9wYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZH0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxociAvPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIllvdXIgY3VycmVudCBwYXNzd29yZFwiKX0gZm9yPVwiaWRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1zbS1vZmZzZXQtNFwiPlxuXG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hhbmdlRW1haWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1lbWFpbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENoYW5nZVBhc3N3b3JkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtcGFzc3dvcmQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkNoYW5nZSBlbWFpbCBvciBwYXNzd29yZFwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8Q2hhbmdlRW1haWwgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgICAgPENoYW5nZVBhc3N3b3JkIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cblxuICAgICAgPHAgY2xhc3NOYW1lPVwibWVzc2FnZS1saW5lXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB3YXJuaW5nXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnRk9SR09UVEVOX1BBU1NXT1JEX1VSTCcpfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBmb3Jnb3R0ZW4gcGFzc3dvcmRcIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHJpbmdDb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvc3RyaW5nLWNvdW50JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY29weSAmJiB0aGlzLnByb3BzLmNvcHkubGVuZ3RoKSB7XG4gICAgICBpZiAoc3RyaW5nQ291bnQodGhpcy5wcm9wcy5jb3B5LCAnPHAnKSA9PT0gMSAmJiB0aGlzLnByb3BzLmNvcHkuaW5kZXhPZignPGJyJykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiAncGFnZS1sZWFkIGxlYWQnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAncGFnZS1sZWFkJztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jb3B5ICYmIHRoaXMucHJvcHMuY29weS5sZW5ndGgpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLmNvcHlcbiAgICAgIH19IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLWJvZHktbG9hZGluZ1wiPlxuICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJsb2FkZXIgbG9hZGVyLXNwYWNlZFwiIC8+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj5cbiAgICAgICAge3RoaXMucHJvcHMuaGVscFRleHR9XG4gICAgICA8L3A+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLW1lc3NhZ2UtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmljb24gfHwgJ2luZm9fb3V0bGluZSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHp4Y3ZibiBmcm9tICdtaXNhZ28vc2VydmljZXMvenhjdmJuJztcblxuZXhwb3J0IGNvbnN0IFNUWUxFUyA9IFtcbiAgJ3Byb2dyZXNzLWJhci1kYW5nZXInLFxuICAncHJvZ3Jlc3MtYmFyLXdhcm5pbmcnLFxuICAncHJvZ3Jlc3MtYmFyLXdhcm5pbmcnLFxuICAncHJvZ3Jlc3MtYmFyLXByaW1hcnknLFxuICAncHJvZ3Jlc3MtYmFyLXN1Y2Nlc3MnXG5dO1xuXG5leHBvcnQgY29uc3QgTEFCRUxTID0gW1xuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyB2ZXJ5IHdlYWsuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyB3ZWFrLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgYXZlcmFnZS5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHN0cm9uZy5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHZlcnkgc3Ryb25nLlwiKVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuX3Njb3JlID0gMDtcbiAgICB0aGlzLl9wYXNzd29yZCA9IG51bGw7XG4gICAgdGhpcy5faW5wdXRzID0gW107XG4gIH1cblxuICBnZXRTY29yZShwYXNzd29yZCwgaW5wdXRzKSB7XG4gICAgbGV0IGNhY2hlU3RhbGUgPSBmYWxzZTtcblxuICAgIGlmIChwYXNzd29yZC50cmltKCkgIT09IHRoaXMuX3Bhc3N3b3JkKSB7XG4gICAgICBjYWNoZVN0YWxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRzLmxlbmd0aCAhPT0gdGhpcy5faW5wdXRzLmxlbmd0aCkge1xuICAgICAgY2FjaGVTdGFsZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0cy5tYXAoKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS50cmltKCkgIT09IHRoaXMuX2lucHV0c1tpXSkge1xuICAgICAgICAgIGNhY2hlU3RhbGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2FjaGVTdGFsZSkge1xuICAgICAgdGhpcy5fc2NvcmUgPSB6eGN2Ym4uc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKTtcbiAgICAgIHRoaXMuX3Bhc3N3b3JkID0gcGFzc3dvcmQudHJpbSgpO1xuICAgICAgdGhpcy5faW5wdXRzID0gaW5wdXRzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUudHJpbSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3Njb3JlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgc2NvcmUgPSB0aGlzLmdldFNjb3JlKHRoaXMucHJvcHMucGFzc3dvcmQsIHRoaXMucHJvcHMuaW5wdXRzKTtcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgcGFzc3dvcmQtc3RyZW5ndGhcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wicHJvZ3Jlc3MtYmFyIFwiICsgU1RZTEVTW3Njb3JlXX1cbiAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiAoMjAgKyAoMjAgKiBzY29yZSkpICsgJyUnfX1cbiAgICAgICAgICAgICByb2xlPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgICBhcmlhLXZhbHVlbm93PXtzY29yZX1cbiAgICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgICAgICB7TEFCRUxTW3Njb3JlXX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtYWxsXCI+XG4gICAgICAgIHtMQUJFTFNbc2NvcmVdfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBFZGl0b3IgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL3V0aWxzL2NvbnRhaW5lcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJy4vdXRpbHMvbG9hZGVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vdXRpbHMvbWVzc2FnZSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycyB9IGZyb20gJy4vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgcG9zdDogJycsXG4gICAgICBhdHRhY2htZW50czogW10sXG4gICAgICBwcm90ZWN0OiBmYWxzZSxcblxuICAgICAgY2FuUHJvdGVjdDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QsXG4gICAgICBwcm90ZWN0OiBkYXRhLmlzX3Byb3RlY3RlZCxcblxuICAgICAgY2FuUHJvdGVjdDogZGF0YS5jYW5fcHJvdGVjdFxuICAgIH0pO1xuICB9O1xuXG4gIGxvYWRFcnJvciA9IChyZWplY3Rpb24pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pO1xuICB9O1xuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIGNoYW5nZXM/XCIpKTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uUHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBvblVucHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnB1dCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgcHJvdGVjdDogdGhpcy5zdGF0ZS5wcm90ZWN0XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJSZXBseSBoYXMgYmVlbiBlZGl0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5jYXRlZ29yeSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uY2F0ZWdvcnlbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24udGl0bGUpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnRpdGxlWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnBvc3QpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBvc3RbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IG1ldGhvZD1cIlBPU1RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG5cbiAgICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICAgIGNhblByb3RlY3Q9e3RoaXMuc3RhdGUuY2FuUHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvblByb3RlY3Q9e3RoaXMub25Qcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgb25VbnByb3RlY3Q9e3RoaXMub25VbnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBwcm90ZWN0PXt0aGlzLnN0YXRlLnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIkVkaXQgcmVwbHlcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcmVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU3RhcnQgZnJvbSAnLi9zdGFydCc7XG5pbXBvcnQgUmVwbHkgZnJvbSAnLi9yZXBseSc7XG5pbXBvcnQgRWRpdCBmcm9tICcuL2VkaXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMubW9kZSA9PT0gJ1NUQVJUJykge1xuICAgIHJldHVybiAoXG4gICAgICA8U3RhcnQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gJ1JFUExZJykge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVwbHkgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gJ0VESVQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxFZGl0IHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBFZGl0b3IgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL3V0aWxzL2NvbnRhaW5lcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJy4vdXRpbHMvbG9hZGVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vdXRpbHMvbWVzc2FnZSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycyB9IGZyb20gJy4vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgcG9zdDogJycsXG4gICAgICBhdHRhY2htZW50czogW10sXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcsIHRoaXMucHJvcHMuY29udGV4dCB8fCBudWxsKS50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbG9hZFN1Y2Nlc3MgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgcG9zdDogZGF0YS5wb3N0ID8gKCdbcXVvdGVdXFxuJyArIGRhdGEucG9zdCArICdcXG5bL3F1b3RlXScpIDogJydcbiAgICB9KTtcbiAgfTtcblxuICBsb2FkRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0Vycm9yZWQ6IHJlamVjdGlvbi5kZXRhaWxcbiAgICB9KTtcbiAgfTtcblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB5b3VyIHJlcGx5P1wiKSk7XG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBvblBvc3RDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwb3N0JywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gKGF0dGFjaG1lbnRzKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHJlcGx5IGhhcyBiZWVuIHBvc3RlZC5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4O1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmNhdGVnb3J5KSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5jYXRlZ29yeVswXSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi50aXRsZSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24udGl0bGVbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9zdCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9zdFswXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cblxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBPcHRpb25zIGZyb20gJy4vdXRpbHMvb3B0aW9ucyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSAnLi91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuXG4gICAgICBzaG93T3B0aW9uczogZmFsc2UsXG4gICAgICBjYXRlZ29yeU9wdGlvbnM6IG51bGwsXG5cbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGNhdGVnb3J5OiBwcm9wcy5jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgICBwb3N0OiAnJyxcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcbiAgICAgIGNsb3NlOiBmYWxzZSxcbiAgICAgIGhpZGU6IGZhbHNlLFxuICAgICAgcGluOiAwLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBnZXRUaXRsZVZhbGlkYXRvcnMoKSxcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgbGV0IGNhdGVnb3J5ID0gbnVsbDtcbiAgICBsZXQgc2hvd09wdGlvbnMgPSBmYWxzZTtcbiAgICBsZXQgY2F0ZWdvcnlPcHRpb25zID0gbnVsbDtcblxuICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIC8vIHBpY2sgZmlyc3QgY2F0ZWdvcnkgdGhhdCBhbGxvd3MgcG9zdGluZyBhbmQgaWYgaXQgbWF5LCBvdmVycmlkZSBpdCB3aXRoIGluaXRpYWwgb25lXG4gICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAoIWNhdGVnb3J5IHx8IGl0ZW0uaWQgPT0gdGhpcy5zdGF0ZS5jYXRlZ29yeSkpIHtcbiAgICAgICAgY2F0ZWdvcnkgPSBpdGVtLmlkO1xuICAgICAgICBjYXRlZ29yeU9wdGlvbnMgPSBpdGVtLnBvc3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnBvc3QgJiYgKGl0ZW0ucG9zdC5jbG9zZSB8fCBpdGVtLnBvc3QuaGlkZSB8fCBpdGVtLnBvc3QucGluKSkge1xuICAgICAgICBzaG93T3B0aW9ucyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgIHZhbHVlOiBpdGVtLmlkXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgIHNob3dPcHRpb25zLFxuXG4gICAgICBjYXRlZ29yaWVzLFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBjYXRlZ29yeU9wdGlvbnNcbiAgICB9KTtcbiAgfTtcblxuICBsb2FkRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0Vycm9yZWQ6IHJlamVjdGlvbi5kZXRhaWxcbiAgICB9KTtcbiAgfTtcblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB0aHJlYWQ/XCIpKTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uVGl0bGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd0aXRsZScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5zdGF0ZS5jYXRlZ29yaWVzLmZpbmQoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBldmVudC50YXJnZXQudmFsdWUgPT0gaXRlbS52YWx1ZTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHNlbGVjdGVkIHBpbiBpcyBncmVhdGVyIHRoYW4gYWxsb3dlZCwgcmVkdWNlIGl0XG4gICAgbGV0IHBpbiA9IHRoaXMuc3RhdGUucGluO1xuICAgIGlmIChjYXRlZ29yeS5wb3N0LnBpbiAmJiBjYXRlZ29yeS5wb3N0LnBpbiA8IHBpbikge1xuICAgICAgcGluID0gY2F0ZWdvcnkucG9zdC5waW47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnkuaWQsXG4gICAgICBjYXRlZ29yeU9wdGlvbnM6IGNhdGVnb3J5LnBvc3QsXG5cbiAgICAgIHBpblxuICAgIH0pO1xuICB9O1xuXG4gIG9uUG9zdENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3Bvc3QnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSAoYXR0YWNobWVudHMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF0dGFjaG1lbnRzXG4gICAgfSk7XG4gIH07XG5cbiAgb25DbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjbG9zZScsIHRydWUpO1xuICB9O1xuXG4gIG9uT3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjbG9zZScsIGZhbHNlKTtcbiAgfTtcblxuICBvblBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3BpbicsIDIpO1xuICB9O1xuXG4gIG9uUGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwaW4nLCAxKTtcbiAgfTtcblxuICBvblVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3BpbicsIDApO1xuICB9O1xuXG4gIG9uSGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdoaWRlJywgMSk7XG4gIH07XG5cbiAgb25VbmhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgnaGlkZScsIDApO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBjbG9zZTogdGhpcy5zdGF0ZS5jbG9zZSxcbiAgICAgIGhpZGU6IHRoaXMuc3RhdGUuaGlkZSxcbiAgICAgIHBpbjogdGhpcy5zdGF0ZS5waW5cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdGhyZWFkIGhhcyBiZWVuIHBvc3RlZC5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmNhdGVnb3J5KSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5jYXRlZ29yeVswXSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi50aXRsZSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24udGl0bGVbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9zdCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9zdFswXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiIHdpdGhGaXJzdFJvdz17dHJ1ZX0+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGZpcnN0LXJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5zaG93T3B0aW9ucyA/ICdjb2wtbWQtNicgOiAnY29sLW1kLTgnfT5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eydjb2wtbWQtNCd9PlxuICAgICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgICAgICAgIGNsb3NlPXt0aGlzLnN0YXRlLmNsb3NlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBoaWRlPXt0aGlzLnN0YXRlLmhpZGV9XG4gICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkNsb3NlfVxuICAgICAgICAgICAgICAgIG9uSGlkZT17dGhpcy5vbkhpZGV9XG4gICAgICAgICAgICAgICAgb25PcGVuPXt0aGlzLm9uT3Blbn1cbiAgICAgICAgICAgICAgICBvblBpbkdsb2JhbGx5PXt0aGlzLm9uUGluR2xvYmFsbHl9XG4gICAgICAgICAgICAgICAgb25QaW5Mb2NhbGx5PXt0aGlzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICAgICAgICBvblVuaGlkZT17dGhpcy5vblVuaGlkZX1cbiAgICAgICAgICAgICAgICBvblVucGluPXt0aGlzLm9uVW5waW59XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnN9XG4gICAgICAgICAgICAgICAgcGluPXt0aGlzLnN0YXRlLnBpbn1cbiAgICAgICAgICAgICAgICBzaG93T3B0aW9ucz17dGhpcy5zdGF0ZS5zaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cblxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcmVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBlcnJvcl9vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIG9uQ2xpY2s9e3Bvc3RpbmcuY2xvc2V9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGlzbWlzc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMuc2hvd09wdGlvbnMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMiBwb3N0aW5nLW9wdGlvbnNcIj5cbiAgICAgICAgPFBpbk9wdGlvbnNcbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25QaW5HbG9iYWxseT17cHJvcHMub25QaW5HbG9iYWxseX1cbiAgICAgICAgICBvblBpbkxvY2FsbHk9e3Byb3BzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICBvblVucGluPXtwcm9wcy5vblVucGlufVxuICAgICAgICAgIHBpbj17cHJvcHMucGlufVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMucGlufVxuICAgICAgICAvPlxuICAgICAgICA8SGlkZU9wdGlvbnNcbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgaGlkZT17cHJvcHMuaGlkZX1cbiAgICAgICAgICBvbkhpZGU9e3Byb3BzLm9uSGlkZX1cbiAgICAgICAgICBvblVuaGlkZT17cHJvcHMub25VbmhpZGV9XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5oaWRlfVxuICAgICAgICAvPlxuICAgICAgICA8Q2xvc2VPcHRpb25zXG4gICAgICAgICAgY2xvc2U9e3Byb3BzLmNsb3NlfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsb3NlPXtwcm9wcy5vbkNsb3NlfVxuICAgICAgICAgIG9uT3Blbj17cHJvcHMub25PcGVufVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMuY2xvc2V9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9zZU9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKHByb3BzLnNob3cpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmNsb3NlID8gcHJvcHMub25PcGVuIDogcHJvcHMub25DbG9zZX1cbiAgICAgICAgdGl0bGU9e3Byb3BzLmNsb3NlID8gZ2V0dGV4dCgnQ2xvc2VkJykgOiBnZXR0ZXh0KCdPcGVuJyl9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3Byb3BzLmNsb3NlID8gJ2xvY2snIDogJ2xvY2tfb3V0bGluZSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGVPcHRpb25zKHByb3BzKSB7XG4gIGlmIChwcm9wcy5zaG93KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5oaWRlID8gcHJvcHMub25VbmhpZGUgOiBwcm9wcy5vbkhpZGV9XG4gICAgICAgIHRpdGxlPXtwcm9wcy5oaWRlID8gZ2V0dGV4dCgnSGlkZGVuJykgOiBnZXR0ZXh0KCdOb3QgaGlkZGVuJyl9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3Byb3BzLmhpZGUgPyAndmlzaWJpbGl0eV9vZmYnIDogJ3Zpc2liaWxpdHknfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQaW5PcHRpb25zKHByb3BzKSB7XG4gIGlmIChwcm9wcy5zaG93KSB7XG4gICAgbGV0IGljb24gPSBudWxsO1xuICAgIGxldCBvbkNsaWNrID0gbnVsbDtcbiAgICBsZXQgdG9vbHRpcCA9IG51bGw7XG5cbiAgICBzd2l0Y2ggKHByb3BzLnBpbikge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBpY29uID0gJ3JhZGlvX2J1dHRvbl91bmNoZWNrZWQnO1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5Mb2NhbGx5O1xuICAgICAgICB0b29sdGlwID0gZ2V0dGV4dChcIlVucGlubmVkXCIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICBpY29uID0gJ2luZm9fb3V0bGluZSc7XG4gICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkdsb2JhbGx5O1xuICAgICAgICB0b29sdGlwID0gZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpO1xuXG4gICAgICAgIGlmIChwcm9wcy5zaG93ID09IDIpIHtcbiAgICAgICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5HbG9iYWxseTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbkNsaWNrID0gcHJvcHMub25VbnBpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDI6XG4gICAgICAgIGljb24gPSAnaW5mbyc7XG4gICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblVucGluO1xuICAgICAgICB0b29sdGlwID0gZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICB0aXRsZT17dG9vbHRpcH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7aWNvbn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSIsImltcG9ydCB7IG1heExlbmd0aCwgbWluTGVuZ3RoIH0gZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVWYWxpZGF0b3JzKCkge1xuICByZXR1cm4gW1xuICAgIGdldFRpdGxlTGVuZ3RoTWluKCksXG4gICAgZ2V0VGl0bGVMZW5ndGhNYXgoKVxuICBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdFZhbGlkYXRvcnMoKSB7XG4gIGlmIChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnBvc3RfbGVuZ3RoX21heCkge1xuICAgIHJldHVybiBbXG4gICAgICB2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKSxcbiAgICAgIHZhbGlkYXRlUG9zdExlbmd0aE1heCgpXG4gICAgXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW1xuICAgICAgdmFsaWRhdGVQb3N0TGVuZ3RoTWluKClcbiAgICBdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1pbigpIHtcbiAgcmV0dXJuIG1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnRocmVhZF90aXRsZV9sZW5ndGhfbWluLCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaHJlYWQgdGl0bGUgc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiVGhyZWFkIHRpdGxlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICB9LCB0cnVlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnRocmVhZF90aXRsZV9sZW5ndGhfbWF4LCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaHJlYWQgdGl0bGUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBcIlRocmVhZCB0aXRsZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUG9zdExlbmd0aE1pbigpIHtcbiAgcmV0dXJuIG1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnBvc3RfbGVuZ3RoX21pbiwgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiUG9zdGVkIG1lc3NhZ2Ugc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiUG9zdGVkIG1lc3NhZ2Ugc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUG9zdExlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnBvc3RfbGVuZ3RoX21heCB8fCAxMDAwMDAwLCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiUG9zdGVkIG1lc3NhZ2UgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICB9LCB0cnVlKTtcbiAgfSk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0LmFjbCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImV2ZW50LWNvbnRyb2xzXCI+XG4gICAgICAgIDxIaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiBhY2wuY2FuX2hpZGU7XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgICB1cmw6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5wb3N0LnVybCwge1xuICAgICAgICBoaWRkZW5fYnk6IHRoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmxcbiAgICAgIH0pXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3AgPSB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiB0cnVlfTtcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCwgW29wXSkudGhlbigocGF0Y2gpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3AgPSB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiBmYWxzZX07XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgsIFtvcF0pLnRoZW4oKHBhdGNoKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwgcGF0Y2gpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNfaGlkZGVuOiB0cnVlXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBkZWNpc2lvbiA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBkZWxldGUgdGhpcyBldmVudD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgICBpZiAoZGVjaXNpb24pIHtcbiAgICAgIHRoaXMuZGVsZXRlKClcbiAgICB9XG4gIH07XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKCgpID0+IHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIkV2ZW50IGhhcyBiZWVuIGRlbGV0ZWQuXCIpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgSUNPTiA9IHtcbiAgY2hhbmdlZF90aXRsZTogJ2VkaXQnLFxuXG4gIHBpbm5lZF9nbG9iYWxseTogJ2Jvb2ttYXJrJyxcbiAgcGlubmVkX2xvY2FsbHk6ICdib29rbWFya19ib3JkZXInLFxuICB1bnBvaW5uZWQ6ICdwYW5vcmFtYV9maXNoX2V5ZScsXG5cbiAgbW92ZWQ6ICdhcnJvd19mb3J3YXJkJyxcbiAgbWVyZ2VkOiAnY2FsbF9tZXJnZScsXG5cbiAgYXBwcm92ZWQ6ICdkb25lJyxcblxuICBvcGVuZWQ6ICdsb2NrX29wZW4nLFxuICBjbG9zZWQ6ICdsb2NrX291dGxpbmUnLFxuXG4gIHVuaGlkOiAndmlzaWJpbGl0eScsXG4gIGhpZDogJ3Zpc2liaWxpdHlfb2ZmJ1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdmF0YXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge0lDT05bcHJvcHMucG9zdC5ldmVudF90eXBlXX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBJbmZvIGZyb20gJy4vaW5mbyc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IFdheXBvaW50IGZyb20gJy4uL3dheXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdldmVudCc7XG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9ICdoaWRlJztcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSAnZXZlbnQgcG9zdC1oaWRkZW4nO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9eydwb3N0LScgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9yZGVyXCI+XG5cbiAgICAgICAgPEljb24gey4uLnByb3BzfSAvPlxuICAgICAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICAgICAgPE1lc3NhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxJbmZvIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9XYXlwb2ludD5cblxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBDb250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBEQVRFX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgZXZlbnQtaW5mb1wiPlxuICAgICAgPEhpZGRlbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxJcCB7Li4ucHJvcHN9IC8+XG4gICAgICA8Q29udHJvbHMgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgbGV0IHVzZXIgPSBudWxsO1xuICAgIGlmIChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpIHtcbiAgICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1VSTCwge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKERBVEVfQUJCUiwge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZm9ybWF0KCdMTEwnKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mcm9tTm93KCkpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiSGlkZGVuIGJ5ICUoZXZlbnRfYnkpcyAlKGV2ZW50X29uKXMuXCIpKSwge1xuICAgICAgZXZlbnRfYnk6IHVzZXIsXG4gICAgICBldmVudF9vbjogZGF0ZVxuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJldmVudC1oaWRkZW4tbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZXIocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlci5hYnNvbHV0ZV91cmwpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShEQVRFX1VSTCwge1xuICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5pbmRleCksXG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiQnkgJShldmVudF9ieSlzICUoZXZlbnRfb24pcy5cIikpLCB7XG4gICAgZXZlbnRfYnk6IHVzZXIsXG4gICAgZXZlbnRfb246IGRhdGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZXZlbnQtcG9zdGVyc1wiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElwKHByb3BzKSB7XG4gIGlmIChwcm9wcy51c2VyLmFjbC5jYW5fc2VlX3VzZXJzX2lwcykge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZXZlbnQtaXBcIj5cbiAgICAgICAgPGFiYnIgdGl0bGU9e3Byb3BzLnBvc3QucG9zdGVyX2lwfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIklQIHJlY29yZGVkXCIpfVxuICAgICAgICA8L2FiYnI+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgTUVTU0FHRSA9IHtcbiAgcGlubmVkX2dsb2JhbGx5OiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBnbG9iYWxseS5cIiksXG4gIHBpbm5lZF9sb2NhbGx5OiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBsb2NhbGx5LlwiKSxcbiAgdW5waW5uZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gdW5waW5uZWQuXCIpLFxuXG4gIGFwcHJvdmVkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGFwcHJvdmVkLlwiKSxcblxuICBvcGVuZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gb3BlbmVkLlwiKSxcbiAgY2xvc2VkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGNsb3NlZC5cIiksXG5cbiAgdW5oaWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcmV2ZWFsZWQuXCIpLFxuICBoaWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSBoaWRkZW4uXCIpLFxufVxuXG5jb25zdCBGUk9NX0NBVEVHT1JZID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShuYW1lKXM8L2E+J1xuY29uc3QgT0xEX1RJVExFID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUob2xkX3RpdGxlKXM8L3NwYW4+JztcbmNvbnN0IE1FUkdFRF9USFJFQUQgPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShtZXJnZWRfdGhyZWFkKXM8L3NwYW4+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKE1FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXSkge1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCI+XG4gICAgICAgIHtNRVNTQUdFW3Byb3BzLnBvc3QuZXZlbnRfdHlwZV19XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdjaGFuZ2VkX3RpdGxlJykge1xuICAgIHJldHVybiAoXG4gICAgICA8Q2hhbmdlZFRpdGxlIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ21vdmVkJykge1xuICAgIHJldHVybiAoXG4gICAgICA8TW92ZWQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAnbWVyZ2VkJykge1xuICAgIHJldHVybiAoXG4gICAgICA8TWVyZ2VkIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGFuZ2VkVGl0bGUocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlIGhhcyBiZWVuIGNoYW5nZWQgZnJvbSAlKG9sZF90aXRsZSlzLlwiKSk7XG4gIGNvbnN0IG9sZFRpdGxlID0gaW50ZXJwb2xhdGUoT0xEX1RJVExFLCB7XG4gICAgb2xkX3RpdGxlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5vbGRfdGl0bGUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICBvbGRfdGl0bGU6IG9sZFRpdGxlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vdmVkKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtb3ZlZCBmcm9tICUoZnJvbV9jYXRlZ29yeSlzLlwiKSk7XG4gIGNvbnN0IGZyb21DYXRlZ29yeSA9IGludGVycG9sYXRlKEZST01fQ0FURUdPUlksIHtcbiAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LmZyb21fY2F0ZWdvcnkudXJsKSxcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5mcm9tX2NhdGVnb3J5Lm5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICBmcm9tX2NhdGVnb3J5OiBmcm9tQ2F0ZWdvcnlcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVyZ2VkKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIlRoZSAlKG1lcmdlZF90aHJlYWQpcyB0aHJlYWQgaGFzIGJlZW4gbWVyZ2VkIGludG8gdGhpcyB0aHJlYWQuXCIpKTtcbiAgY29uc3QgbWVyZ2VkVGhyZWFkID0gaW50ZXJwb2xhdGUoTUVSR0VEX1RIUkVBRCwge1xuICAgIG1lcmdlZF90aHJlYWQ6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0Lm1lcmdlZF90aHJlYWQpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICBtZXJnZWRfdGhyZWFkOiBtZXJnZWRUaHJlYWRcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9ldmVudCc7XG5pbXBvcnQgUG9zdCBmcm9tICcuL3Bvc3QnO1xuaW1wb3J0IFBvc3RQcmV2aWV3IGZyb20gJy4vcG9zdC9wcmV2aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICAgIHtwcm9wcy5wb3N0cy5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICAgIHJldHVybiA8TGlzdEl0ZW0ga2V5PXtwb3N0LmlkfSBwb3N0PXtwb3N0fSB7Li4ucHJvcHN9IC8+O1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgICA8UG9zdFByZXZpZXcgLz5cbiAgICAgIDwvdWw+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlzdEl0ZW0ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfZXZlbnQpIHtcbiAgICByZXR1cm4gPEV2ZW50IHsuLi5wcm9wc30gLz47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxQb3N0IHsuLi5wcm9wc30gLz47XG4gIH1cbn1cbiIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgV2F5cG9pbnQgZnJvbSAnLi4vd2F5cG9pbnQnO1xuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IEhJRERFTl9CWV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuY29uc3QgSElEREVOX0JZX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IEhJRERFTl9PTiA9ICc8YWJiciBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIDxIaWRkZW4gey4uLnByb3BzfSAvPjtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LnBhcnNlZCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QucGFyc2VkfSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW4ocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMucG9zdC5oaWRkZW5fYnkpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoSElEREVOX0JZX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKEhJRERFTl9CWV9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoSElEREVOX09OLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiSGlkZGVuIGJ5ICUoaGlkZGVuX2J5KXMgJShoaWRkZW5fb24pcy5cIikpLCB7XG4gICAgaGlkZGVuX2J5OiB1c2VyLFxuICAgIGhpZGRlbl9vbjogZGF0ZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLWJvZHktaGlkZGVuXCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgaGlkZGVuLiBZb3UgY2Fubm90IG5vdCBzZWUgaXRzIGNvbnRlbnRzLlwiKX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnZhbGlkKHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1ib2R5LWludmFsaWRcIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57Z2V0dGV4dChcIlRoaXMgcG9zdCdzIGNvbnRlbnRzIGNhbm5vdCBiZSBkaXNwbGF5ZWQuXCIpfTwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj57Z2V0dGV4dChcIlRoaXMgZXJyb3IgaXMgY2F1c2VkIGJ5IGludmFsaWQgcG9zdCBjb250ZW50IG1hbmlwdWxhdGlvbi5cIil9PC9wPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwcm92ZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXVuYXBwcm92ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3VuYXBwcm92ZWQ6IHByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZFxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdGVjdChwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19wcm90ZWN0ZWQ6IHRydWVcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1wcm90ZWN0ZWQnLCAndmFsdWUnOiB0cnVlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfcHJvdGVjdGVkOiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZFxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wcm90ZWN0KHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1wcm90ZWN0ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3Byb3RlY3RlZDogcHJvcHMucG9zdC5pc19wcm90ZWN0ZWRcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgdXJsOiBPYmplY3QuYXNzaWduKHByb3BzLnBvc3QudXJsLCB7XG4gICAgICBoaWRkZW5fYnk6IHByb3BzLnVzZXIuYWJzb2x1dGVfdXJsXG4gICAgfSlcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiB0cnVlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfaGlkZGVuOiBwcm9wcy5wb3N0LmlzX2hpZGRlbixcbiAgICBoaWRkZW5fb246IHByb3BzLnBvc3QuaGlkZGVuX29uLFxuICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lLFxuICAgIHVybDogcHJvcHMucG9zdC51cmxcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaGlkZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19oaWRkZW46IGZhbHNlXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19oaWRkZW46IHByb3BzLnBvc3QuaXNfaGlkZGVuXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKSB7XG4gIGFqYXgucGF0Y2gocHJvcHMucG9zdC5hcGkuaW5kZXgsIG9wcykudGhlbigobmV3U3RhdGUpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIG5ld1N0YXRlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHByZXZpb3VzU3RhdGUpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBwb3N0PyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIikpO1xuICBpZiAoIWNvbmZpcm1lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzRGVsZXRlZDogdHJ1ZVxuICB9KSk7XG5cbiAgYWpheC5kZWxldGUocHJvcHMucG9zdC5hcGkuaW5kZXgpLnRoZW4oKCkgPT4ge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvc3QgaGFzIGJlZW4gZGVsZXRlZC5cIikpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgfSkpO1xuICB9KTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gJy4vbW92ZSc7XG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tICcuL3NwbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICA8QXBwcm92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8U3BsaXQgey4uLnByb3BzfSAvPlxuICAgICAgPFByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVucHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmFwcHJvdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHRoaXMucHJvcHMucG9zdC5pc191bmFwcHJvdmVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlTW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX21vdmUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGxpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxTcGxpdE1vZGFsIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXRcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3QgJiYgIXRoaXMucHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJQcm90ZWN0XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbnByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5wcm90ZWN0KHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdCAmJiB0aGlzLnByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlIHByb3RlY3Rpb25cIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uaGlkZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2hpZGUgJiYgIXRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5oaWRlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fdW5oaWRlICYmIHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5yZW1vdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9kZWxldGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERyb3Bkb3duIGZyb20gJy4vZHJvcGRvd24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QuYWNsKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgZHJvcGRvd25cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBleHBhbmRfbW9yZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiAoXG4gICAgYWNsLmNhbl9hcHByb3ZlIHx8XG4gICAgYWNsLmNhbl9oaWRlIHx8XG4gICAgYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgYWNsLmNhbl91bmhpZGUgfHxcbiAgICBhY2wuY2FuX2RlbGV0ZSB8fFxuICAgIGFjbC5jYW5fbW92ZVxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMubW92ZSwge1xuICAgICAgdGhyZWFkX3VybDogdGhpcy5zdGF0ZS51cmwsXG4gICAgICBwb3N0czogW3RoaXMucHJvcHMucG9zdC5pZF1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0IHdhcyBtb3ZlZCB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3VybCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtb3ZlIHBvc3QgdG9cIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHBvc3RcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSBwb3N0XCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdUSFJFQURfRURJVE9SX1VSTCcpKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXG4gICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSlcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kZXJhdGlvbkZvcm0gey4uLnRoaXMucHJvcHN9IGNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9uRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IHByb3BzLmNhdGVnb3JpZXMsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICBpc19oaWRkZW46IDAsXG4gICAgICBpc19jbG9zZWQ6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZCgpXG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHknLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHlfb2ZmJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IGZhbHNlLFxuICAgICAgICAnaWNvbic6ICdsb2NrX291dGxpbmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IHRydWUsXG4gICAgICAgICdpY29uJzogJ2xvY2snLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmFjbCA9IHt9O1xuICAgIHRoaXMucHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY2xbY2F0ZWdvcnkuaWRdID0ge1xuICAgICAgICAgIGNhbl9waW5fdGhyZWFkczogY2F0ZWdvcnkucG9zdC5waW4sXG4gICAgICAgICAgY2FuX2Nsb3NlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuY2xvc2UsXG4gICAgICAgICAgY2FuX2hpZGVfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5oaWRlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuc3BsaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWQsXG4gICAgICBwb3N0czogW3RoaXMucHJvcHMucG9zdC5pZF1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdCB3YXMgc3BsaXQgaW50byBuZXcgdGhyZWFkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAncmVtb3ZlJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIiksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdib29rbWFya19ib3JkZXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIiksXG4gICAgICB9XG4gICAgXTtcblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmsnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXM7XG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3ZWlnaHQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkhpZGUgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfaGlkZGVuJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNIaWRkZW5DaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfY2xvc2VkJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfY2xvc2VkfVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnRpdGxlfT5cbiAgICAgICAgICAgICAgPGlucHV0IGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndGl0bGUnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fT5cbiAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0IGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0IHBvc3RcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgdGhpcyBwb3N0IGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWwocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJTcGxpdCBwb3N0IGludG8gbmV3IHRocmVhZFwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtaGlkZGVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgPHA+e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgaGlkZGVuLiBPbmx5IHVzZXJzIHdpdGggcGVybWlzc2lvbiBtYXkgc2VlIGl0cyBjb250ZW50cy5cIil9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtdW5hcHByb3ZlZFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8cD57Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyB1bmFwcHJvdmVkLiBPbmx5IHVzZXJzIHdpdGggcGVybWlzc2lvbiB0byBhcHByb3ZlIHBvc3RzIGFuZCBpdHMgYXV0aG9yIG1heSBzZWUgaXRzIGNvbnRlbnRzLlwiKX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAhcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW47XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0KSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlciBwb3N0LWZvb3RlclwiPlxuICAgICAgICA8TGlrZXMgey4uLnByb3BzfSAvPlxuICAgICAgICA8TGlrZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxFZGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSAmJiAoXG4gICAgcG9zdC5hY2wuY2FuX3JlcGx5IHx8XG4gICAgcG9zdC5hY2wuY2FuX2VkaXQgfHxcbiAgICBwb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8XG4gICAgcG9zdC5hY2wuY2FuX2xpa2VcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VzKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlrZXMgcHVsbC1sZWZ0XCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPlxuICAgICAgICBMaWtlc1xuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlrZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5hY2wuY2FuX2xpa2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saWtlIHB1bGwtbGVmdFwiIGRpc2FibGVkPVwiZGlzYWJsZWRcIj5cbiAgICAgICAge2dldHRleHQoXCJMaWtlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVwbHkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiAnUkVQTFknLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCxcblxuICAgICAgY29udGV4dDoge1xuICAgICAgICByZXBseTogdGhpcy5wcm9wcy5wb3N0LmlkXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9yZXBseSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IHB1bGwtcmlnaHRcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVwbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ0VESVQnLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9lZGl0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgcHVsbC1yaWdodFwiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnLi9jb250cm9scyc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJy4vc2VsZWN0JztcbmltcG9ydCB7U3RhdHVzSWNvbiwgZ2V0U3RhdHVzQ2xhc3NOYW1lLCBnZXRTdGF0dXNEZXNjcmlwdGlvbn0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZyBwb3N0LWhlYWRpbmdcIj5cbiAgICAgIDxQb3N0ZXJTdGF0dXMgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVyUmFuayB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVkT24gey4uLnByb3BzfSAvPlxuICAgICAgPFNlbGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8Q29udHJvbHMgey4uLnByb3BzfSAvPlxuICAgICAgPFByb3RlY3RlZExhYmVsIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnJlYWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZXJTdGF0dXMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2dldFN0YXR1c0NsYXNzTmFtZShwcm9wcy5wb3N0LnBvc3Rlci5zdGF0dXMpfVxuICAgICAgdGl0bGU9e2dldFN0YXR1c0Rlc2NyaXB0aW9uKHByb3BzLnBvc3QucG9zdGVyLCBwcm9wcy5wb3N0LnBvc3Rlci5zdGF0dXMpfVxuICAgID5cbiAgICAgIDxTdGF0dXNJY29uXG4gICAgICAgIHN0YXR1cz17cHJvcHMucG9zdC5wb3N0ZXIuc3RhdHVzfVxuICAgICAgICB1c2VyPXtwcm9wcy5wb3N0LnBvc3Rlcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIiBocmVmPXtwcm9wcy5wb3N0LnBvc3Rlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICB7cHJvcHMucG9zdC5wb3N0ZXIudXNlcm5hbWV9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+e3Byb3BzLnBvc3QucG9zdGVyX25hbWV9PC9zdHJvbmc+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyUmFuayhwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICBpZiAoIXByb3BzLnBvc3QucG9zdGVyLnJhbmsuaXNfZGVmYXVsdCkge1xuICAgICAgY29uc3QgcmFua0NsYXNzID0gJ2xhYmVsLScgKyAocHJvcHMucG9zdC5wb3N0ZXIucmFuay5jc3NfY2xhc3MgfHwgJ2RlZmF1bHQnKTtcblxuICAgICAgaWYgKHByb3BzLnBvc3QucG9zdGVyLnJhbmsuaXNfdGFiKSB7XG4gICAgICAgIHJldHVybiA8YSBocmVmPXtwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmFic29sdXRlX3VybH0gY2xhc3NOYW1lPXsnbGFiZWwgJyArIHJhbmtDbGFzc30+XG4gICAgICAgICAge3Byb3BzLnBvc3QucG9zdGVyLnNob3J0X3RpdGxlfVxuICAgICAgICA8L2E+O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17J2xhYmVsICcgKyByYW5rQ2xhc3N9PlxuICAgICAgICAgIHtwcm9wcy5wb3N0LnBvc3Rlci5zaG9ydF90aXRsZX1cbiAgICAgICAgPC9zcGFuPjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7IC8vIHdlIGRvbid0IGRpc3BsYXkgZGVmYXVsdCByYW5rc1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgIHtnZXR0ZXh0KFwiVW5yZWdpc3RlcmVkXCIpfVxuICAgIDwvc3Bhbj47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RlZE9uKHByb3BzKSB7XG4gIGNvbnN0IHRvb2x0aXAgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwicG9zdGVkICUocG9zdGVkX29uKXNcIiksIHtcbiAgICAncG9zdGVkX29uJzogcHJvcHMucG9zdC5wb3N0ZWRfb24uZm9ybWF0KCdMTCwgTFQnKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcInBvc3RlZCAlKHBvc3RlZF9vbilzXCIpLCB7XG4gICAgJ3Bvc3RlZF9vbic6IHByb3BzLnBvc3QucG9zdGVkX29uLmZyb21Ob3coKVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gPGEgaHJlZj17cHJvcHMucG9zdC51cmwuaW5kZXh9IGNsYXNzTmFtZT1cInBvc3RlZC1vblwiIHRpdGxlPXt0b29sdGlwfT5cbiAgICB7bWVzc2FnZX1cbiAgPC9hPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVucmVhZExhYmVsKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXdhcm5pbmcgcHVsbC1yaWdodFwiPlxuICAgICAge2dldHRleHQoXCJOZXdcIil9XG4gICAgPC9zcGFuPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdGVkTGFiZWwocHJvcHMpIHtcbiAgY29uc3QgcG9zdEF1dGhvciA9IHByb3BzLnBvc3QucG9zdGVyICYmIHByb3BzLnBvc3QucG9zdGVyLmlkID09PSBwcm9wcy51c2VyLmlkO1xuICBjb25zdCBoYXNBY2wgPSBwcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdDtcbiAgY29uc3QgaXNWaXNpYmxlID0gcHJvcHMudXNlci5pZCAmJiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCAmJiAocG9zdEF1dGhvciB8fCBoYXNBY2wpO1xuXG4gIGlmICghaXNWaXNpYmxlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC1kZWZhdWx0IHB1bGwtcmlnaHRcIlxuICAgICAgdGl0bGU9e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgcHJvdGVjdGVkIGFuZCBtYXkgbm90IGJlIGVkaXRlZC5cIil9XG4gICAgPlxuICAgICAge2dldHRleHQoXCJQcm90ZWN0ZWRcIil9XG4gICAgPC9zcGFuPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgQm9keSBmcm9tICcuL2JvZHknO1xuaW1wb3J0IHsgRmxhZ0hpZGRlbiwgRmxhZ1VuYXBwcm92ZWQgfSBmcm9tICcuL2ZsYWdzJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi9mb290ZXInO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGxldCBjbGFzc05hbWUgPSAncG9zdCc7XG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9ICdoaWRlJztcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSAncG9zdCBwb3N0LWhpZGRlbic7XG4gIH1cblxuICBpZiAoIXByb3BzLnBvc3QuaXNfcmVhZCkge1xuICAgIGNsYXNzTmFtZSArPSAnIHBvc3QtbmV3JztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGlkPXsncG9zdC0nICsgcHJvcHMucG9zdC5pZH0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvcmRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXZhdGFyXCI+XG4gICAgICAgICAgPFBvc3RlckF2YXRhciBwb3N0PXtwcm9wcy5wb3N0fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICAgICAgPEhlYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICA8RmxhZ0hpZGRlbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICA8RmxhZ1VuYXBwcm92ZWQgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEJvZHkgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEZvb3RlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RlckF2YXRhcihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgaHJlZj17cHJvcHMucG9zdC5wb3N0ZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAgPEF2YXRhciBzaXplPXsxMDB9IHVzZXI9e3Byb3BzLnBvc3QucG9zdGVyfSAvPlxuICAgICAgPC9hPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxBdmF0YXIgc2l6ZT17MTAwfSAvPjtcbiAgfVxufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzcz1cInBvc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib3JkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF2YXRhclwiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmcgcG9zdC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwifX0+Jm5ic3A7PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIn19PiZuYnNwOzwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCJ9fT4mbmJzcDs8L3A+XG4gICAgICAgICAgICAgIDwvYXJ0aWNsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzVmlzaWJsZSB9IGZyb20gJy4vY29udHJvbHMnO1xuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3RzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzU2VsZWN0ZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0KHRoaXMucHJvcHMucG9zdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5zZWxlY3QodGhpcy5wcm9wcy5wb3N0KSk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoISh0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21lcmdlX3Bvc3RzIHx8IGlzVmlzaWJsZSh0aGlzLnByb3BzLnBvc3QuYWNsKSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHRcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucG9zdC5pc1NlbGVjdGVkID8gJ2NoZWNrX2JveCcgOiAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLypcbiAgU3VwZXIgbmFpdmUgYW5kIGRlLWZhY3RvIHBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uIGZvciByZWFkaW5nIHBvc3RzIG9uIHNjcm9sbFxuICAqL1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZih0aGlzLnByb3BzLnBvc3QuaXNfcmVhZCkge1xuICAgICAgcmV0dXJuOyAvLyBkb24ndCByZWdpc3RlciByZWFkIHRyYWNrZXJcbiAgICB9XG5cbiAgICAkKCcjcG9zdC0nICsgdGhpcy5wcm9wcy5wb3N0LmlkKS53YXlwb2ludCh7XG4gICAgICBoYW5kbGVyOiAoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gIT09ICdkb3duJyB8fCB0aGlzLnByb3BzLnBvc3QuaXNfcmVhZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFmdGVyIDE1MDBtcyBmbGFnIHBvc3QgYXMgcmVhZFxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgIGlzX3JlYWQ6IHRydWVcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5wb3N0LmFwaS5yZWFkKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9LFxuICAgICAgb2Zmc2V0OiAnYm90dG9tLWluLXZpZXcnXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3tib3JkZXJDb2xvcjogJyNmMDAnfX0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFuZWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdQUk9GSUxFX0JBTicpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKCdQUk9GSUxFX0JBTicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wcm9maWxlLmFwaV91cmwuYmFuKTtcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShiYW4pIHtcbiAgICBpZiAoYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGJhbi5leHBpcmVzX29uID0gbW9tZW50KGJhbi5leHBpcmVzX29uKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBiYW5cbiAgICB9O1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICdiYW4tZGV0YWlscycsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZSxcbiAgICAgIGVycm9yOiB0aGlzLmVycm9yXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChiYW4pID0+IHtcbiAgICBpZiAoYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGJhbi5leHBpcmVzX29uID0gbW9tZW50KGJhbi5leHBpcmVzX29uKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGJhblxuICAgIH0pO1xuICB9O1xuXG4gIGVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGVycm9yOiBlcnJvci5kZXRhaWwsXG4gICAgICBiYW46IG51bGxcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJCYW4gZGV0YWlsc1wiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKCdiYW4tZGV0YWlscycpO1xuICB9XG5cbiAgZ2V0VXNlck1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLnVzZXJfbWVzc2FnZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tbWVzc2FnZSBiYW4tdXNlci1tZXNzYWdlXCI+XG4gICAgICAgIDxoND57Z2V0dGV4dChcIlVzZXItc2hvd24gYmFuIG1lc3NhZ2VcIil9PC9oND5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWFkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogdGhpcy5zdGF0ZS5iYW4udXNlcl9tZXNzYWdlLmh0bWxcbiAgICAgICAgICB9fSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3RhZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi5zdGFmZl9tZXNzYWdlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1tZXNzYWdlIGJhbi1zdGFmZi1tZXNzYWdlXCI+XG4gICAgICAgIDxoND57Z2V0dGV4dChcIlRlYW0tc2hvd24gYmFuIG1lc3NhZ2VcIil9PC9oND5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWFkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogdGhpcy5zdGF0ZS5iYW4uc3RhZmZfbWVzc2FnZS5odG1sXG4gICAgICAgICAgfX0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmlzQWZ0ZXIobW9tZW50KCkpKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgb24gJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uZm9ybWF0KCdMTCwgTFQnKVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uZnJvbU5vdygpXG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIDxhYmJyIHRpdGxlPXt0aXRsZX0+XG4gICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgIDwvYWJicj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGhhcyBleHBpcmVkLlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBiYW4gaXMgcGVybWFuZW50LlwiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldFBhbmVsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4pIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmJhbikubGVuZ3RoKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgICAge3RoaXMuZ2V0VXNlck1lc3NhZ2UoKX1cbiAgICAgICAgICB7dGhpcy5nZXRTdGFmZk1lc3NhZ2UoKX1cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tZXhwaXJlc1wiPlxuICAgICAgICAgICAgPGg0PntnZXR0ZXh0KFwiQmFuIGV4cGlyYXRpb25cIil9PC9oND5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgICA8UGFuZWxNZXNzYWdlIG1lc3NhZ2U9e2dldHRleHQoXCJObyBiYW4gaXMgYWN0aXZlIGF0IHRoZSBtb21lbnQuXCIpfSAvPlxuICAgICAgICA8L2Rpdj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgPFBhbmVsTWVzc2FnZSBpY29uPVwiZXJyb3Jfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICA8UGFuZWxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWJhbi1kZXRhaWxzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJCYW4gZGV0YWlsc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGhpcy5nZXRQYW5lbEJvZHkoKX1cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lICsgJyBidG4tZGVmYXVsdCBidG4tZm9sbG93aW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lICsgJyBidG4tZGVmYXVsdCBidG4tZm9sbG93JztcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiAnZmF2b3JpdGUnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2Zhdm9yaXRlX2JvcmRlcic7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJGb2xsb3dpbmdcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiRm9sbG93XCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgYWN0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh7XG4gICAgICAgIGlzX2ZvbGxvd2VkOiBmYWxzZSxcbiAgICAgICAgZm9sbG93ZXJzOiB0aGlzLnByb3BzLnByb2ZpbGUuZm9sbG93ZXJzIC0gMVxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh7XG4gICAgICAgIGlzX2ZvbGxvd2VkOiB0cnVlLFxuICAgICAgICBmb2xsb3dlcnM6IHRoaXMucHJvcHMucHJvZmlsZS5mb2xsb3dlcnMgKyAxXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLmZvbGxvdykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaChkYXRhKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8QnV0dG9uIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hY3Rpb259PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICA8L3NwYW4+XG4gICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgIDwvQnV0dG9uPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VhcmNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlYXJjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0L3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUsIGFwcGVuZCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnNldFNwZWNpYWxQcm9wcygpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXModGhpcy5QUkVMT0FERURfREFUQV9LRVkpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0U3BlY2lhbFByb3BzKCkge1xuICAgIHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZID0gJ1BST0ZJTEVfRk9MTE9XRVJTJztcbiAgICB0aGlzLlRJVExFID0gZ2V0dGV4dCgnRm9sbG93ZXJzJyk7XG4gICAgdGhpcy5BUElfRklMVEVSID0gJ2ZvbGxvd2Vycyc7XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogJycsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH07XG5cbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6ICcnLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH07XG5cbiAgICB0aGlzLmxvYWRVc2VycygpO1xuICB9XG5cbiAgbG9hZFVzZXJzKHBhZ2U9MSwgc2VhcmNoPW51bGwpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSwge1xuICAgICAgW3RoaXMuQVBJX0ZJTFRFUl06IHRoaXMucHJvcHMucHJvZmlsZS5pZCxcbiAgICAgIG5hbWU6IHNlYXJjaCxcbiAgICAgIHBhZ2U6IHBhZ2UgfHwgMVxuICAgIH0sICd1c2VyLScgKyB0aGlzLkFQSV9GSUxURVIpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMuVElUTEUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkVXNlcnModGhpcy5zdGF0ZS5wYWdlICsgMSwgdGhpcy5zdGF0ZS5zZWFyY2gpO1xuICB9O1xuXG4gIHNlYXJjaCA9IChldikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiB0cnVlLFxuXG4gICAgICBzZWFyY2g6IGV2LnRhcmdldC52YWx1ZSxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZFVzZXJzKDEsIGV2LnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dCgnTG9hZGluZy4uLicpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaWQgPT09IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3UgaGF2ZSAlKHVzZXJzKXMgZm9sbG93ZXIuXCIsXG4gICAgICAgIFwiWW91IGhhdmUgJSh1c2VycylzIGZvbGxvd2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBoYXMgJSh1c2VycylzIGZvbGxvd2VyLlwiLFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBoYXMgJSh1c2VycylzIGZvbGxvd2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcnMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBoYXZlIG5vIGZvbGxvd2Vycy5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGhhcyBubyBmb2xsb3dlcnMuXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TW9yZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5tb3JlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b24gbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZX0+XG4gICAgICAgICAge2ludGVycG9sYXRlKGdldHRleHQoXCJTaG93IG1vcmUgKCUobW9yZSlzKVwiKSwge1xuICAgICAgICAgICAgJ21vcmUnOiB0aGlzLnN0YXRlLm1vcmVcbiAgICAgICAgICB9LCB0cnVlKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRMaXN0Qm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCAmJiB0aGlzLnN0YXRlLmNvdW50ID09PSAwKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgPFVzZXJzTGlzdCBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgICAgICAgICB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgICAgICAgICAgICBzaG93UmFuaz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICBjb2xzPXsyfSAvPlxuXG4gICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAncHJvZmlsZS0nICsgdGhpcy5BUElfRklMVEVSO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPlxuICAgICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICAgIDwvaDM+XG5cbiAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2h9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiU2VhcmNoIGhpc3RvcnkuLi5cIil9IC8+XG4gICAgICA8L25hdj5cblxuICAgICAge3RoaXMuZ2V0TGlzdEJvZHkoKX1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9sbG93ZXJzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93ZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb2xsb3dlcnMge1xuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSAnUFJPRklMRV9GT0xMT1dTJztcbiAgICB0aGlzLlRJVExFID0gZ2V0dGV4dCgnRm9sbG93cycpO1xuICAgIHRoaXMuQVBJX0ZJTFRFUiA9ICdmb2xsb3dzJztcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGFyZSBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiWW91IGFyZSBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGlzIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaXMgZm9sbG93aW5nICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgJ3VzZXJzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcnMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBhcmUgbm90IGZvbGxvd2luZyBhbnkgdXNlcnMuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBub3QgZm9sbG93aW5nIGFueSB1c2Vycy5cIiksIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3ctYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kZXJhdGlvbk5hdiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRVc2VyU3RhdHVzKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzLWRpc3BsYXlcIj5cbiAgICAgIDxTdGF0dXMgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9PlxuICAgICAgICA8U3RhdHVzSWNvbiB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c30gLz5cbiAgICAgICAgPFN0YXR1c0xhYmVsIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbFwiIC8+XG4gICAgICA8L1N0YXR1cz5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0VXNlclJhbmsoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLmlzX3RhYikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXJhbmtcIj5cbiAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLm5hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXJhbmtcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPnt0aGlzLnByb3BzLnByb2ZpbGUucmFuay5uYW1lfTwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUudGl0bGV9XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUucmFuay50aXRsZX1cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Sm9pbmVkT24oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgb24gJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMucHJvZmlsZS5qb2luZWRfb24uZm9ybWF0KCdMTCwgTFQnKVxuICAgIH0sIHRydWUpO1xuXG4gICAgbGV0IGFnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMucHJvZmlsZS5qb2luZWRfb24uZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItam9pbmVkLW9uXCI+XG4gICAgICA8YWJiciB0aXRsZT17dGl0bGV9PlxuICAgICAgICB7YWdlfVxuICAgICAgPC9hYmJyPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRFbWFpbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItZW1haWxcIj5cbiAgICAgICAgPGEgaHJlZj17J21haWx0bzonICsgdGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5lbWFpbH1cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRGb2xsb3dCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2ZvbGxvdykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb2xsb3dCdXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1hbGlnbmVkIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vZGVyYXRpb25CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWFsaWduZWQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tbW9kZXJhdGUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgdG9uYWxpdHlcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPE1vZGVyYXRpb25OYXYgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm48ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOSBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInB1bGwtbGVmdFwiPlxuICAgICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX0gc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPnt0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgPC9oMT5cblxuICAgICAgICAgICAge3RoaXMuZ2V0Rm9sbG93QnV0dG9uKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRNb2RlcmF0aW9uQnV0dG9uKCl9XG5cbiAgICAgICAgICAgIDxEcm9wZG93blRvZ2dsZSB0b2dnbGVOYXY9e3RoaXMucHJvcHMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duPXt0aGlzLnByb3BzLmRyb3Bkb3dufSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJSYW5rKCl9XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclRpdGxlKCl9XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0Sm9pbmVkT24oKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRFbWFpbCgpfVxuICAgICAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgdXBkYXRlQXZhdGFyIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6ICcnLFxuICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiAnJyxcbiAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6ICcnXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLm1vZGVyYXRlX2F2YXRhcikudGhlbigob3B0aW9ucykgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IG9wdGlvbnMuaXNfYXZhdGFyX2xvY2tlZCxcbiAgICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiBvcHRpb25zLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZSB8fCAnJyxcbiAgICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogb3B0aW9ucy5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlIHx8ICcnXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHRoaXMudmFsaWRhdGUoKS51c2VybmFtZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLm1vZGVyYXRlX2F2YXRhciwge1xuICAgICAgaXNfYXZhdGFyX2xvY2tlZDogdGhpcy5zdGF0ZS5pc19hdmF0YXJfbG9ja2VkLFxuICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiB0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZSxcbiAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6IHRoaXMuc3RhdGUuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnByb2ZpbGUsIGFwaVJlc3BvbnNlLmF2YXRhcl9oYXNoKSk7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzIGhhdmUgYmVlbiBjaGFuZ2VkLlwiKSk7XG4gIH1cblxuICBnZXRGb3JtQm9keSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTG9jayBhdmF0YXJcIil9XG4gICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJMb2NraW5nIHVzZXIgYXZhdGFyIHdpbGwgcHJvaGliaXQgdXNlciBmcm9tIGNoYW5naW5nIGhpcyBhdmF0YXIgYW5kIHdpbGwgcmVzZXQgaGlzL2hlciBhdmF0YXIgdG8gZGVmYXVsdCBvbmUuXCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2F2YXRhcl9sb2NrZWRcIj5cbiAgICAgICAgICA8WWVzTm9Td2l0Y2ggaWQ9XCJpZF9pc19hdmF0YXJfbG9ja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBpY29uT249XCJsb2NrX291dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICBpY29uT2ZmPVwibG9ja19vcGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkRpc2FsbG93IHVzZXIgZnJvbSBjaGFuZ2luZyBhdmF0YXJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiQWxsb3cgdXNlciB0byBjaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2F2YXRhcl9sb2NrZWQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfYXZhdGFyX2xvY2tlZH0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXIgbWVzc2FnZVwiKX1cbiAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIk9wdGlvbmFsIG1lc3NhZ2UgZm9yIHVzZXIgZXhwbGFpbmluZyB3aHkgaGUvc2hlIGlzIHByb2hpYml0ZWQgZm9ybSBjaGFuZ2luZyBhdmF0YXIuXCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiPlxuICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImlkX2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZScpfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2V9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJTdGFmZiBtZXNzYWdlXCIpfVxuICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiT3B0aW9uYWwgbWVzc2FnZSBmb3IgZm9ydW0gdGVhbSBtZW1iZXJzIGV4cGxhaW5pbmcgd2h5IHVzZXIgaXMgcHJvaGliaXRlZCBmb3JtIGNoYW5naW5nIGF2YXRhci5cIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVwiPlxuICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImlkX2F2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICByb3dzPVwiNFwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlJyl9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2V9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEZvcm1Cb2R5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TG9hZGVyIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLWF2YXRhci1jb250cm9sc1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtYXZhdGFyLWNvbnRyb2xzXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGFkZE5hbWVDaGFuZ2UgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgdXBkYXRlVXNlcm5hbWUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICB1c2VybmFtZTogJycsXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWluTGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNYXhMZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5tb2RlcmF0ZV91c2VybmFtZSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IodGhpcy52YWxpZGF0ZSgpLnVzZXJuYW1lWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwubW9kZXJhdGVfdXNlcm5hbWUsIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1c2VybmFtZTogJydcbiAgICB9KTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGFkZE5hbWVDaGFuZ2UoXG4gICAgICBhcGlSZXNwb25zZSwgdGhpcy5wcm9wcy5wcm9maWxlLCB0aGlzLnByb3BzLnVzZXIpKTtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVVc2VybmFtZShcbiAgICAgIHRoaXMucHJvcHMucHJvZmlsZSwgYXBpUmVzcG9uc2UudXNlcm5hbWUsIGFwaVJlc3BvbnNlLnNsdWcpKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlVzZXJuYW1lIGhhcyBiZWVuIGNoYW5nZWQuXCIpKTtcbiAgfVxuXG4gIGdldEZvcm1Cb2R5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgdXNlcm5hbWVcIil9IGZvcj1cImlkX3VzZXJuYW1lXCI+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd1c2VybmFtZScpfVxuICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybUJvZHkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtcmVuYW1lLXVzZXJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLXJlbmFtZS11c2VyXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0RlbGV0ZWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGNvdW50ZG93bjogNSxcbiAgICAgIGNvbmZpcm06IGZhbHNlLFxuXG4gICAgICB3aXRoX2NvbnRlbnQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLmRlbGV0ZSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNvdW50ZG93bigpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb3VudGRvd24gPSAoKSA9PiB7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnRkb3duID4gMSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb3VudGRvd246IHRoaXMuc3RhdGUuY291bnRkb3duIC0gMSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY291bnRkb3duKCk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY29uZmlybTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwuZGVsZXRlLCB7XG4gICAgICB3aXRoX2NvbnRlbnQ6IHRoaXMuc3RhdGUud2l0aF9jb250ZW50XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHBvbGxzLnN0b3AoJ3VzZXItcHJvZmlsZScpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUud2l0aF9jb250ZW50KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCwgdGhyZWFkcywgcG9zdHMgYW5kIG90aGVyIGNvbnRlbnQgaGFzIGJlZW4gZGVsZXRlZC5cIiksIHtcbiAgICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSwgdHJ1ZSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCBoYXMgYmVlbiBkZWxldGVkIGFuZCBvdGhlciBjb250ZW50IGhhcyBiZWVuIGhpZGRlbi5cIiksIHtcbiAgICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSwgdHJ1ZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldEJ1dHRvbkxhYmVsKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiRGVsZXRlICUodXNlcm5hbWUpc1wiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlBsZWFzZSB3YWl0Li4uICglKGNvdW50ZG93bilzcylcIiksIHtcbiAgICAgICAgJ2NvdW50ZG93bic6IHRoaXMuc3RhdGUuY291bnRkb3duXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRGb3JtKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJVc2VyIGNvbnRlbnRcIil9XG4gICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3dpdGhfY29udGVudFwiPlxuICAgICAgICAgIDxZZXNOb1N3aXRjaCBpZD1cImlkX3dpdGhfY29udGVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkRlbGV0ZSB0b2dldGhlciB3aXRoIHVzZXIncyBhY2NvdW50XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIkhpZGUgYWZ0ZXIgZGVsZXRpbmcgdXNlcidzIGFjY291bnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnd2l0aF9jb250ZW50Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndpdGhfY29udGVudH0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cblxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tZGFuZ2VyXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuY29uZmlybX0+XG4gICAgICAgICAge3RoaXMuZ2V0QnV0dG9uTGFiZWwoKX1cbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldERlbGV0ZWRCb2R5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRGVsZXRlZH1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmV0dXJuIHRvIHVzZXJzIGxpc3RcIil9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0RlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVsZXRlZEJvZHkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZvcm0oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvciB8fCB0aGlzLnN0YXRlLmlzRGVsZXRlZCkge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtZGVsZXRlLWFjY291bnRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLWRlbGV0ZS1hY2NvdW50XCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiRGVsZXRlIHVzZXIgYWNjb3VudFwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3RoaXMuZ2V0TW9kYWxCb2R5KCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXJDb250cm9scyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vYXZhdGFyLWNvbnRyb2xzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2NoYW5nZS11c2VybmFtZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IERlbGV0ZUFjY291bnQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2RlbGV0ZS1hY2NvdW50JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmxldCBzZWxlY3QgPSBmdW5jdGlvbihzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHRpY2s6IHN0b3JlLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aCxcbiAgICBwcm9maWxlOiBzdG9yZS5wcm9maWxlLFxuICB9O1xufTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93QXZhdGFyRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKEF2YXRhckNvbnRyb2xzKSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0QXZhdGFyQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZV9hdmF0YXIpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dBdmF0YXJEaWFsb2d9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHBvcnRyYWl0XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dSZW5hbWVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQ2hhbmdlVXNlcm5hbWUpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRSZW5hbWVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX3JlbmFtZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlbmFtZURpYWxvZ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY3JlZGl0X2NhcmRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd0RlbGV0ZURpYWxvZyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShEZWxldGVBY2NvdW50KSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9kZWxldGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dEZWxldGVEaWFsb2d9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNsZWFyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIGFjY291bnRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIiByb2xlPVwibWVudVwiPlxuICAgICAge3RoaXMuZ2V0QXZhdGFyQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRSZW5hbWVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXIgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiIC8+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tYnV0dG9ucyBoaWRkZW4tbWQgaGlkZGVuLWxnXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlTmF2fT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBtZW51XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVudVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xpJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3ctYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBTaWRlTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWV0YShtZXRhKSB7XG4gICAgaWYgKG1ldGEpIHtcbiAgICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPnt0aGlzLnByb3BzLnByb2ZpbGVbbWV0YS5hdHRyXX08L3NwYW4+O1xuICAgICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICB7dGhpcy5wcm9wcy5wYWdlcy5tYXAoKHBhZ2UpID0+IHtcbiAgICAgICAgcmV0dXJuIDxMaW5rIHRvPXt0aGlzLnByb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIlxuICAgICAgICAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3BhZ2UuaWNvbn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge3BhZ2UubmFtZX1cbiAgICAgICAgICB7dGhpcy5nZXRNZXRhKHBhZ2UubWV0YSl9XG4gICAgICAgIDwvTGluaz47XG4gICAgICB9KX1cbiAgICA8L2Rpdj47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdE5hdiBleHRlbmRzIFNpZGVOYXYge1xuICBzaG93U3BlY2lhbE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2ZvbGxvdyB8fCB0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZTtcbiAgfVxuXG4gIGdldEZvbGxvd0J1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEZvbGxvd0J1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNb2RlcmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVNb2RlcmF0aW9ufT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHRvbmFsaXR5XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgPC9idXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3BlY2lhbE9wdGlvbnMoKSB7XG4gICAgaWYgKHRoaXMuc2hvd1NwZWNpYWxPcHRpb25zKCkpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tYnV0dG9uc1wiPlxuICAgICAgICB7dGhpcy5nZXRGb2xsb3dCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TW9kZXJhdGlvbkJ1dHRvbigpfVxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICB7dGhpcy5nZXRTcGVjaWFsT3B0aW9ucygpfVxuICAgICAge3RoaXMuc2hvd1NwZWNpYWxPcHRpb25zKCkgPyA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+IDogbnVsbH1cbiAgICAgIHt0aGlzLnByb3BzLnBhZ2VzLm1hcCgocGFnZSkgPT4ge1xuICAgICAgICByZXR1cm4gPExpIHBhdGg9e3RoaXMucHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgICAgICAgIGtleT17cGFnZS5jb21wb25lbnR9PlxuICAgICAgICAgIDxMaW5rIHRvPXt0aGlzLnByb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmhpZGVOYXZ9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICB7cGFnZS5pY29ufVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAge3BhZ2UubmFtZX1cbiAgICAgICAgICAgIHt0aGlzLmdldE1ldGEocGFnZS5tZXRhKX1cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvTGk+O1xuICAgICAgfSl9XG4gICAgPC91bD47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCYW5EZXRhaWxzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvYmFuLWRldGFpbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dlcnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb2xsb3dzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL3VzZXJuYW1lLWhpc3RvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RlcmF0aW9uTmF2IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9uYXYnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IFNpZGVOYXYsIENvbXBhY3ROYXYgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL25hdnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGlfdXJsLnJvb3QpO1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICd1c2VyLXByb2ZpbGUnLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEpKTtcbiAgfTtcblxuICB0b2dnbGVOYXYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJvcGRvd24gPT09ICdwYWdlcycpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcm9wZG93bjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZHJvcGRvd246ICdwYWdlcydcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0b2dnbGVNb2RlcmF0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duID09PSAnbW9kZXJhdGlvbicpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcm9wZG93bjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZHJvcGRvd246ICdtb2RlcmF0aW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldE5hdkRyb3Bkb3duKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duID09PSAncGFnZXMnKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPENvbXBhY3ROYXYgcGFnZXM9e21pc2Fnby5nZXQoJ1BST0ZJTEVfUEFHRVMnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdQUk9GSUxFJykuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVNb2RlcmF0aW9uPXt0aGlzLnRvZ2dsZU1vZGVyYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgaGlkZU5hdj17dGhpcy5oaWRlTmF2fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duID09PSAnbW9kZXJhdGlvbicpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TW9kZXJhdGlvbk5hdiBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTmF2PXt0aGlzLmhpZGVOYXZ9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdwYWdlIHBhZ2UtdXNlci1wcm9maWxlJztcbiAgICBpZiAoZmFsc2UgJiYgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gYmFzZUNsYXNzICsgJyBwYWdlLXVzZXItcHJvZmlsZS0nICsgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYmFzZUNsYXNzO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cblxuICAgICAgPEhlYWRlciB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgdG9nZ2xlTW9kZXJhdGlvbj17dGhpcy50b2dnbGVNb2RlcmF0aW9ufSAvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCl9PlxuICAgICAgICB7dGhpcy5nZXROYXZEcm9wZG93bigpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1zaWRlLWF2YXRhclwiPlxuICAgICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX0gc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPFNpZGVOYXYgcGFnZXM9e21pc2Fnby5nZXQoJ1BST0ZJTEVfUEFHRVMnKX1cbiAgICAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1BST0ZJTEUnKS5hYnNvbHV0ZV91cmx9XG4gICAgICAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgJ3VzZXJzJzogc3RvcmUudXNlcnMsXG4gICAgJ3Byb2ZpbGUnOiBzdG9yZS5wcm9maWxlLFxuICAgICd1c2VybmFtZS1oaXN0b3J5Jzogc3RvcmVbJ3VzZXJuYW1lLWhpc3RvcnknXVxuICB9O1xufVxuXG5jbGFzcyBQbGFjZWhvbGRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICA8cD57XCJIZWxsbywgSSdtIHBsYWNlaG9sZGVyIGZvciBcIiArIHRoaXMucHJvcHMucm91dGUubmFtZX08L3A+XG4gICAgPC9kaXY+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9IHtcbiAgJ3Bvc3RzJzogUGxhY2Vob2xkZXIsXG4gICd0aHJlYWRzJzogUGxhY2Vob2xkZXIsXG4gICdmb2xsb3dlcnMnOiBGb2xsb3dlcnMsXG4gICdmb2xsb3dzJzogRm9sbG93cyxcbiAgJ3VzZXJuYW1lLWhpc3RvcnknOiBVc2VybmFtZUhpc3RvcnksXG4gICdiYW4tZGV0YWlscyc6IEJhbkRldGFpbHNcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgbGV0IHBhdGhzID0gW107XG5cbiAgbWlzYWdvLmdldCgnUFJPRklMRV9QQUdFUycpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIHBhdGhzLnB1c2goT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnUFJPRklMRScpLmFic29sdXRlX3VybCArIGl0ZW0uY29tcG9uZW50ICsgJy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ09NUE9ORU5UU1tpdGVtLmNvbXBvbmVudF0pLFxuICAgIH0pKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGhzO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VhcmNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlYXJjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUsIGFwcGVuZCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdQUk9GSUxFX05BTUVfSElTVE9SWScpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKCdQUk9GSUxFX05BTUVfSElTVE9SWScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogJycsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH07XG5cbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6ICcnLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH07XG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKCk7XG4gIH1cblxuICBsb2FkQ2hhbmdlcyhwYWdlPTEsIHNlYXJjaD1udWxsKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldCgnVVNFUk5BTUVfQ0hBTkdFU19BUEknKSwge1xuICAgICAgdXNlcjogdGhpcy5wcm9wcy5wcm9maWxlLmlkLFxuICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9LCAnc2VhcmNoLXVzZXJuYW1lLWhpc3RvcnknKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiVXNlcm5hbWUgaGlzdG9yeVwiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKHRoaXMuc3RhdGUucGFnZSArIDEsIHRoaXMuc3RhdGUuc2VhcmNoKTtcbiAgfTtcblxuICBzZWFyY2ggPSAoZXYpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgc2VhcmNoOiBldi50YXJnZXQudmFsdWUsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKDEsIGV2LnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dCgnTG9hZGluZy4uLicpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiRm91bmQgJShjaGFuZ2VzKXMgdXNlcm5hbWUgY2hhbmdlLlwiLFxuICAgICAgICBcIkZvdW5kICUoY2hhbmdlcylzIHVzZXJuYW1lIGNoYW5nZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnY2hhbmdlcyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91ciB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lLlwiLFxuICAgICAgICBcIllvdXIgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnY2hhbmdlcyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWUuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICdjaGFuZ2VzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcm5hbWUgY2hhbmdlcyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTm8gbmFtZSBjaGFuZ2VzIGhhdmUgYmVlbiByZWNvcmRlZCBmb3IgeW91ciBhY2NvdW50LlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgbmV2ZXIgY2hhbmdlZC5cIiksIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1vcmUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvbiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfT5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoZ2V0dGV4dChcIlNob3cgb2xkZXIgKCUobW9yZSlzKVwiKSwge1xuICAgICAgICAgICAgJ21vcmUnOiB0aGlzLnN0YXRlLm1vcmVcbiAgICAgICAgICB9LCB0cnVlKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtdXNlcm5hbWUtaGlzdG9yeVwiPlxuXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPlxuICAgICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICAgIDwvaDM+XG5cbiAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2h9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiU2VhcmNoIGhpc3RvcnkuLi5cIil9IC8+XG4gICAgICA8L25hdj5cblxuICAgICAgPFVzZXJuYW1lSGlzdG9yeSBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlNZXNzYWdlPXt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzPXt0aGlzLnByb3BzWyd1c2VybmFtZS1oaXN0b3J5J119IC8+XG5cbiAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVnaXN0ZXJNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZWdpc3Rlci5qcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGNhcHRjaGEgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2NhcHRjaGEnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB6eGN2Ym4gZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3p4Y3Zibic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZSxcbiAgICAgICdpc0xvYWRlZCc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd1JlZ2lzdGVyTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuYWNjb3VudF9hY3RpdmF0aW9uID09PSAnY2xvc2VkJykge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiTmV3IHJlZ2lzdHJhdGlvbnMgYXJlIGN1cnJlbnRseSBkaXNhYmxlZC5cIikpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgbW9kYWwuc2hvdyhSZWdpc3Rlck1vZGFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBjYXB0Y2hhLmxvYWQoKSxcbiAgICAgICAgenhjdmJuLmxvYWQoKVxuICAgICAgXSkudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuICAgICAgICAgICAgJ2lzTG9hZGVkJzogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vZGFsLnNob3coUmVnaXN0ZXJNb2RhbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArICh0aGlzLnN0YXRlLmlzTG9hZGluZyA/ICcgYnRuLWxvYWRpbmcnIDogJycpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93UmVnaXN0ZXJNb2RhbH1cbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eydidG4gJyArIHRoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9PlxuICAgICAge2dldHRleHQoXCJSZWdpc3RlclwiKX1cbiAgICAgIHt0aGlzLnN0YXRlLmlzTG9hZGluZyA/IDxMb2FkZXIgLz4gOiBudWxsIH1cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBhc3N3b3JkU3RyZW5ndGggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGNsYXNzIFJlZ2lzdGVyRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1c2VybmFtZTogJycsXG4gICAgICBlbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG4gICAgICBjYXB0Y2hhOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWF4TGVuZ3RoKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykpXG4gICAgICAgIF0sXG4gICAgICAgIGVtYWlsOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICAgIF0sXG4gICAgICAgIHBhc3N3b3JkOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5wYXNzd29yZE1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpKVxuICAgICAgICBdLFxuICAgICAgICBjYXB0Y2hhOiBjYXB0Y2hhLnZhbGlkYXRvcigpXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnVVNFUlNfQVBJJyksIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcbiAgICAgIGNhcHRjaGE6IHRoaXMuc3RhdGUuY2FwdGNoYVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBnZXRMZWdhbEZvb3ROb3RlKCkge1xuICAgIGlmIChtaXNhZ28uZ2V0KCdURVJNU19PRl9TRVJWSUNFX1VSTCcpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGEgaHJlZj17bWlzYWdvLmdldCgnVEVSTVNfT0ZfU0VSVklDRV9VUkwnKX1cbiAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAge2dldHRleHQoXCJCeSByZWdpc3RlcmluZyB5b3UgYWdyZWUgdG8gc2l0ZSdzIHRlcm1zIGFuZCBjb25kaXRpb25zLlwiKX1cbiAgICAgIDwvYT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1yZWdpc3RlclwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVXNlcm5hbWVcIil9IGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy51c2VybmFtZX0+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiaWRfdXNlcm5hbWVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX3VzZXJuYW1lX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3VzZXJuYW1lJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiRS1tYWlsXCIpfSBmb3I9XCJpZF9lbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuZW1haWx9PlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX2VtYWlsXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9lbWFpbF9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlBhc3N3b3JkXCIpfSBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgICAgIGV4dHJhPXs8UGFzc3dvcmRTdHJlbmd0aCBwYXNzd29yZD17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0cz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfSAvPn0gPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJpZF9wYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfcGFzc3dvcmRfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIHtjYXB0Y2hhLmNvbXBvbmVudCh7XG4gICAgICAgICAgICAgIGZvcm06IHRoaXMsXG4gICAgICAgICAgICAgIGxhYmVsQ2xhc3M6IFwiY29sLXNtLTRcIixcbiAgICAgICAgICAgICAgY29udHJvbENsYXNzOiBcImNvbC1zbS04XCJcbiAgICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldExlZ2FsRm9vdE5vdGUoKX1cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXIgYWNjb3VudFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVnaXN0ZXJDb21wbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExlYWQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gJ3VzZXInKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IHlvdSBuZWVkIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAnYWRtaW4nKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IGJvYXJkIGFkbWluaXN0cmF0b3Igd2lsbCBoYXZlIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldFN1YnNjcmlwdCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAndXNlcicpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiV2UgaGF2ZSBzZW50IGFuIGUtbWFpbCB0byAlKGVtYWlsKXMgd2l0aCBsaW5rIHRoYXQgeW91IGhhdmUgdG8gY2xpY2sgdG8gYWN0aXZhdGUgeW91ciBhY2NvdW50LlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gJ2FkbWluJykge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJXZSB3aWxsIHNlbmQgYW4gZS1tYWlsIHRvICUoZW1haWwpcyB3aGVuIHRoaXMgdGFrZXMgcGxhY2UuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtcmVnaXN0ZXJcIlxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlJlZ2lzdHJhdGlvbiBjb21wbGV0ZVwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGVhZCgpLFxuICAgICAgICAgICAgICAgIHsndXNlcm5hbWUnOiB0aGlzLnByb3BzLnVzZXJuYW1lfSwgdHJ1ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0U3Vic2NyaXB0KCksXG4gICAgICAgICAgICAgICAgeydlbWFpbCc6IHRoaXMucHJvcHMuZW1haWx9LCB0cnVlKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBsZXRlUmVnaXN0cmF0aW9uID0gKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKGFwaVJlc3BvbnNlLmFjdGl2YXRpb24gPT09ICdhY3RpdmUnKSB7XG4gICAgICBtb2RhbC5oaWRlKCk7XG4gICAgICBhdXRoLnNpZ25JbihhcGlSZXNwb25zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjb21wbGV0ZTogYXBpUmVzcG9uc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gPFJlZ2lzdGVyQ29tcGxldGUgYWN0aXZhdGlvbj17dGhpcy5zdGF0ZS5jb21wbGV0ZS5hY3RpdmF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lPXt0aGlzLnN0YXRlLmNvbXBsZXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsPXt0aGlzLnN0YXRlLmNvbXBsZXRlLmVtYWlsfSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxSZWdpc3RlckZvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGVSZWdpc3RyYXRpb259Lz47XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUmVxdWVzdExpbmtGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZSxcblxuICAgICAgJ2VtYWlsJzogJycsXG5cbiAgICAgICd2YWxpZGF0b3JzJzoge1xuICAgICAgICAnZW1haWwnOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdTRU5EX0FDVElWQVRJT05fQVBJJyksIHtcbiAgICAgICdlbWFpbCc6IHRoaXMuc3RhdGUuZW1haWxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbJ2FscmVhZHlfYWN0aXZlJywgJ2luYWN0aXZlX2FkbWluJ10uaW5kZXhPZihyZWplY3Rpb24uY29kZSkgPiAtMSkge1xuICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGlua1wiPlxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJZb3VyIGUtbWFpbCBhZGRyZXNzXCIpfVxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNlbmQgbGlua1wiKX1cbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlua1NlbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiQWN0aXZhdGlvbiBsaW5rIHdhcyBzZW50IHRvICUoZW1haWwpc1wiKSwge1xuICAgICAgZW1haWw6IHRoaXMucHJvcHMudXNlci5lbWFpbFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsgd2VsbC1kb25lXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvbmUtbWVzc2FnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNoZWNrXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHt0aGlzLmdldE1lc3NhZ2UoKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmNhbGxiYWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlcXVlc3QgYW5vdGhlciBsaW5rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcGxldGUgPSAoYXBpUmVzcG9uc2UpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgIH0pO1xuICB9O1xuXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDxMaW5rU2VudCB1c2VyPXt0aGlzLnN0YXRlLmNvbXBsZXRlfSBjYWxsYmFjaz17dGhpcy5yZXNldH0gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8UmVxdWVzdExpbmtGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfSAvPjtcbiAgICB9O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RSZXNldEZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnZW1haWwnOiAnJyxcblxuICAgICAgJ3ZhbGlkYXRvcnMnOiB7XG4gICAgICAgICdlbWFpbCc6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLmVtYWlsKClcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1NFTkRfUEFTU1dPUkRfUkVTRVRfQVBJJyksIHtcbiAgICAgICdlbWFpbCc6IHRoaXMuc3RhdGUuZW1haWxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbJ2luYWN0aXZlX3VzZXInLCAnaW5hY3RpdmVfYWRtaW4nXS5pbmRleE9mKHJlamVjdGlvbi5jb2RlKSA+IC0xKSB7XG4gICAgICB0aGlzLnByb3BzLnNob3dJbmFjdGl2ZVBhZ2UocmVqZWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0XCI+XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VuZCBsaW5rXCIpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rU2VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJSZXNldCBwYXNzd29yZCBsaW5rIHdhcyBzZW50IHRvICUoZW1haWwpc1wiKSwge1xuICAgICAgZW1haWw6IHRoaXMucHJvcHMudXNlci5lbWFpbFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1wYXNzd29yZC1yZXNldCB3ZWxsLWRvbmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9uZS1tZXNzYWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZSgpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBhbm90aGVyIGxpbmtcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjY291bnRJbmFjdGl2ZVBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRBY3RpdmF0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAnaW5hY3RpdmVfdXNlcicpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cD5cbiAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTCcpfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIHlvdXIgYWNjb3VudC5cIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1pbmZvIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWluYWN0aXZlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJZb3VyIGFjY291bnQgaXMgaW5hY3RpdmUuXCIpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0ZUJ1dHRvbigpfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgfSk7XG4gIH07XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICBzaG93SW5hY3RpdmVQYWdlKGFwaVJlc3BvbnNlKSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPEFjY291bnRJbmFjdGl2ZVBhZ2UgYWN0aXZhdGlvbj17YXBpUmVzcG9uc2UuY29kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e2FwaVJlc3BvbnNlLmRldGFpbH0gLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1tb3VudCcpXG4gICAgKTtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiA8TGlua1NlbnQgdXNlcj17dGhpcy5zdGF0ZS5jb21wbGV0ZX0gY2FsbGJhY2s9e3RoaXMucmVzZXR9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPFJlcXVlc3RSZXNldEZvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luYWN0aXZlUGFnZT17dGhpcy5zaG93SW5hY3RpdmVQYWdlfSAvPjtcbiAgICB9O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zaWduLWluLmpzJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGNsYXNzIFJlc2V0UGFzc3dvcmRGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZSxcblxuICAgICAgJ3Bhc3N3b3JkJzogJycsXG5cbiAgICAgICd2YWxpZGF0b3JzJzoge1xuICAgICAgICAncGFzc3dvcmQnOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5wYXNzd29yZE1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IodGhpcy5zdGF0ZS5lcnJvcnMucGFzc3dvcmRbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkVudGVyIG5ldyBwYXNzd29yZC5cIikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdDSEFOR0VfUEFTU1dPUkRfQVBJJyksIHtcbiAgICAgICdwYXNzd29yZCc6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVzZXQtcGFzc3dvcmRcIj5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIkVudGVyIG5ldyBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgcGFzc3dvcmRcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhc3N3b3JkQ2hhbmdlZFBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3VyIHBhc3N3b3JkIGhhcyBiZWVuIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LlwiKSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMudXNlci51c2VybmFtZVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgc2hvd1NpZ25JbigpIHtcbiAgICBtb2RhbC5zaG93KFNpZ25Jbk1vZGFsKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW1lc3NhZ2UgcGFnZS1tZXNzYWdlLXN1Y2Nlc3MgcGFnZS1mb3Jnb3R0ZW4tcGFzc3dvcmQtY2hhbmdlZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXBhbmVsXCI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICBjaGVja1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZSgpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IHdpbGwgaGF2ZSB0byBzaWduIGluIHVzaW5nIG5ldyBwYXNzd29yZCBiZWZvcmUgY29udGludWluZy5cIil9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17dGhpcy5zaG93U2lnbklufT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBsZXRlID0gKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgYXV0aC5zb2Z0U2lnbk91dCgpO1xuXG4gICAgLy8gbnVrZSBcInJlZGlyZWN0X3RvXCIgZmllbGQgc28gd2UgZG9uJ3QgZW5kXG4gICAgLy8gY29taW5nIGJhY2sgdG8gZXJyb3IgcGFnZSBhZnRlciBzaWduIGluXG4gICAgJCgnI2hpZGRlbi1sb2dpbi1mb3JtIGlucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnJlbW92ZSgpO1xuXG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPFBhc3N3b3JkQ2hhbmdlZFBhZ2UgdXNlcj17YXBpUmVzcG9uc2V9IC8+LFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbW91bnQnKVxuICAgICk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPFJlc2V0UGFzc3dvcmRGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfSAvPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gXCJmb3JtLXNlYXJjaCBcIiArIHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJmb3JtLXNlYXJjaFwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCBnZXR0ZXh0KFwiU2VhcmNoLi4uXCIpfSAvPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBzZWFyY2hcbiAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2hvaWNlKCkge1xuICAgIGxldCBjaG9pY2UgPSBudWxsO1xuICAgIHRoaXMucHJvcHMuY2hvaWNlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnZhbHVlID09PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICAgIGNob2ljZSA9IGl0ZW07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNob2ljZTtcbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkuaWNvbjtcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIHJldHVybiB0aGlzLmdldENob2ljZSgpLmxhYmVsO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1zZWxlY3QtZ3JvdXBcIj5cbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2VsZWN0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkIHx8IG51bGx9XG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMucHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXSB8fCBudWxsfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlcy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPGxpIGtleT17aX0+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2hhbmdlKGl0ZW0udmFsdWUpfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgIHtpdGVtLmljb259XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2xpPjtcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZSxcbiAgICAgICdzaG93QWN0aXZhdGlvbic6IGZhbHNlLFxuXG4gICAgICAndXNlcm5hbWUnOiAnJyxcbiAgICAgICdwYXNzd29yZCc6ICcnLFxuXG4gICAgICAndmFsaWRhdG9ycyc6IHtcbiAgICAgICAgJ3VzZXJuYW1lJzogW10sXG4gICAgICAgICdwYXNzd29yZCc6IFtdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBib3RoIGZpZWxkcy5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnQVVUSF9BUEknKSwge1xuICAgICAgJ3VzZXJuYW1lJzogdGhpcy5zdGF0ZS51c2VybmFtZSxcbiAgICAgICdwYXNzd29yZCc6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgbGV0IGZvcm0gPSAkKCcjaGlkZGVuLWxvZ2luLWZvcm0nKTtcblxuICAgIGZvcm0uYXBwZW5kKCc8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlcm5hbWVcIiAvPicpO1xuICAgIGZvcm0uYXBwZW5kKCc8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgLz4nKTtcblxuICAgIC8vIGZpbGwgb3V0IGZvcm0gd2l0aCB1c2VyIGNyZWRlbnRpYWxzIGFuZCBzdWJtaXQgaXQsIHRoaXMgd2lsbCB0ZWxsXG4gICAgLy8gTWlzYWdvIHRvIHJlZGlyZWN0IHVzZXIgYmFjayB0byByaWdodCBwYWdlLCBhbmQgd2lsbCB0cmlnZ2VyIGJyb3dzZXInc1xuICAgIC8vIGtleSByaW5nIGZlYXR1cmVcbiAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwoYWpheC5nZXRDc3JmVG9rZW4oKSk7XG4gICAgZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicmVkaXJlY3RfdG9cIl0nKS52YWwod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VybmFtZVwiXScpLnZhbCh0aGlzLnN0YXRlLnVzZXJuYW1lKTtcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzd29yZFwiXScpLnZhbCh0aGlzLnN0YXRlLnBhc3N3b3JkKTtcbiAgICBmb3JtLnN1Ym1pdCgpO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmNvZGUgPT09ICdpbmFjdGl2ZV9hZG1pbicpIHtcbiAgICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLmNvZGUgPT09ICdpbmFjdGl2ZV91c2VyJykge1xuICAgICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAnc2hvd0FjdGl2YXRpb24nOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gJ2Jhbm5lZCcpIHtcbiAgICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgICAgbW9kYWwuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGdldEFjdGl2YXRpb25CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2hvd0FjdGl2YXRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8YSBocmVmPXttaXNhZ28uZ2V0KCdSRVFVRVNUX0FDVElWQVRJT05fVVJMJyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1ibG9ja1wiPlxuICAgICAgICAge2dldHRleHQoXCJBY3RpdmF0ZSBhY2NvdW50XCIpfVxuICAgICAgPC9hPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtIG1vZGFsLXNpZ24taW5cIlxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlNpZ24gaW5cIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlVzZXJuYW1lIG9yIGUtbWFpbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd1c2VybmFtZScpfVxuICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldEFjdGl2YXRpb25CdXR0b24oKX1cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ0ZPUkdPVFRFTl9QQVNTV09SRF9VUkwnKX1cbiAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRm9yZ290IHBhc3N3b3JkP1wiKX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmNvbnN0IFRZUEVTX0NMQVNTRVMgPSB7XG4gICdpbmZvJzogJ2FsZXJ0LWluZm8nLFxuICAnc3VjY2Vzcyc6ICdhbGVydC1zdWNjZXNzJyxcbiAgJ3dhcm5pbmcnOiAnYWxlcnQtd2FybmluZycsXG4gICdlcnJvcic6ICdhbGVydC1kYW5nZXInXG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0U25hY2tiYXJDbGFzcygpIHtcbiAgICBsZXQgc25hY2tiYXJDbGFzcyA9ICdhbGVydHMtc25hY2tiYXInO1xuICAgIGlmICh0aGlzLnByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgc25hY2tiYXJDbGFzcyArPSAnIGluJztcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXJDbGFzcyArPSAnIG91dCc7XG4gICAgfVxuICAgIHJldHVybiBzbmFja2JhckNsYXNzO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0U25hY2tiYXJDbGFzcygpfT5cbiAgICAgIDxwIGNsYXNzTmFtZT17J2FsZXJ0ICcgKyBUWVBFU19DTEFTU0VTW3RoaXMucHJvcHMudHlwZV19PlxuICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnNuYWNrYmFyO1xufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGZ1bmN0aW9uIEJyZWFkY3J1bWIocHJvcHMpIHtcbiAgcmV0dXJuIDxsaT5cbiAgICA8YSBocmVmPXtwcm9wcy5ub2RlLmFic29sdXRlX3VybH0+e3Byb3BzLm5vZGUubmFtZX08L2E+XG4gIDwvbGk+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlLWJyZWFkY3J1bWJzXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgIDxvbCBjbGFzc05hbWU9XCJicmVhZGNydW1iXCI+XG4gICAgICAgIHtwcm9wcy5wYXRoLm1hcCgoaXRlbSkgPT4gPEJyZWFkY3J1bWIga2V5PXtpdGVtLmlkfSBub2RlPXtpdGVtfSAvPil9XG4gICAgICA8L29sPlxuICAgIDwvZGl2PlxuICA8L2Rpdj47XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnJlYWRjcnVtYnMgZnJvbSAnLi9icmVhZGNydW1icyc7XG5pbXBvcnQgeyBpc01vZGVyYXRpb25WaXNpYmxlLCBNb2RlcmF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi9tb2RlcmF0aW9uL3RocmVhZCc7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgVGl0bGUgZnJvbSAnLi90aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyIHdpdGgtc3RhdHMgd2l0aC1icmVhZGNydW1ic1wiPlxuICAgIDxCcmVhZGNydW1icyBwYXRoPXtwcm9wcy50aHJlYWQucGF0aH0gLz5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPFRpdGxlIHRocmVhZD17cHJvcHMudGhyZWFkfSB1c2VyPXtwcm9wcy51c2VyfSAvPlxuICAgICAgPE1vZGVyYXRpb25cbiAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgdXNlcj17cHJvcHMudXNlcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICAgPFN0YXRzIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICA8L2Rpdj47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlcmF0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy51c2VyLmlkICYmIGlzTW9kZXJhdGlvblZpc2libGUocHJvcHMudGhyZWFkKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBwdWxsLXJpZ2h0XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICBkaXNhYmxlPXtwcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPE1vZGVyYXRpb25Db250cm9sc1xuICAgICAgICAgIHBvc3RzPXtwcm9wcy5wb3N0c31cbiAgICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgICB1c2VyPXtwcm9wcy51c2VyfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgTEFTVF9SRVBMWSA9ICc8YWJiciBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuXG5leHBvcnQgZnVuY3Rpb24gV2VpZ2h0KHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQud2VpZ2h0ID09IDIpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgYm9va21hcmtcbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2UgaWYgKHByb3BzLnRocmVhZC53ZWlnaHQgPT0gMSkge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGJvb2ttYXJrX2JvcmRlclxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX3VuYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHJlbW92ZV9jaXJjbGVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIGlmIChwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHJlbW92ZV9jaXJjbGVfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkIHBvc3RzXCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX2hpZGRlbikge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLWhpZGRlblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJIaWRkZW5cIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzQ2xvc2VkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfY2xvc2VkKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtY2xvc2VkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGxvY2tfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJDbG9zZWRcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGxpZXMocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShyZXBsaWVzKXMgcmVwbHlcIiwgXCIlKHJlcGxpZXMpcyByZXBsaWVzXCIsIHByb3BzLnRocmVhZC5yZXBsaWVzKTtcbiAgY29uc3QgbGVnZW5kID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeydyZXBsaWVzJzogcHJvcHMudGhyZWFkLnJlcGxpZXN9LCB0cnVlKTtcblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1yZXBsaWVzXCI+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgZm9ydW1cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgIHtsZWdlbmR9XG4gICAgPC9zcGFuPlxuICA8L2xpPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseShwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKExBU1RfUE9TVEVSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfTtcblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoTEFTVF9SRVBMWSwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJsYXN0IHJlcGx5IGJ5ICUodXNlcilzICUoZGF0ZSlzXCIpKSwge1xuICAgIGRhdGUsIHVzZXJcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0vPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZVwiPlxuICAgICAgICA8V2VpZ2h0IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8VW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPElzSGlkZGVuIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8SXNDbG9zZWQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxSZXBsaWVzIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8TGFzdFJlcGx5IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+O1xufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgeyBnZXRUaXRsZVZhbGlkYXRvcnMgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBwcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndGl0bGUnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uRWRpdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRWRpdGluZzogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGhyZWFkLnRpdGxlLFxuXG4gICAgICBpc0VkaXRpbmc6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAndGl0bGUnLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZX1cbiAgICBdKTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoZGF0YSkpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNFZGl0aW5nJzogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnNvbGUubG9nKHJlamVjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwicHVsbC1sZWZ0IHRpdGxlLWVkaXQtZm9ybVwiPlxuICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiB0eXBlPVwidGV4dFwiIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfSBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX0gLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJDaGFuZ2UgdGl0bGVcIil9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2NpcmNsZTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhbmNlbDwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2VkaXQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1sZWZ0IHRpdGxlLWVkaXRhYmxlXCI+XG4gICAgICAgICAgPGgxPlxuICAgICAgICAgICAge3RoaXMucHJvcHMudGhyZWFkLnRpdGxlfVxuICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25FZGl0fVxuICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJFZGl0IHRpdGxlXCIpfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVkaXQ8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLWxlZnRcIj5cbiAgICAgICAgICA8aDE+e3RoaXMucHJvcHMudGhyZWFkLnRpdGxlfTwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgcHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXVuYXBwcm92ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX3VuYXBwcm92ZWQ6IHNlbGVjdGlvbi5pc191bmFwcHJvdmVkXG4gICAgfTtcblxuICAgIHBhdGNoKHNlbGVjdGlvbiwgb3BzLCBwcmV2aW91c1N0YXRlKTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90ZWN0KHByb3BzKSB7XG4gIHByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXByb3RlY3RlZCcsICd2YWx1ZSc6IHRydWV9XG4gICAgXTtcblxuICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgICBpc19wcm90ZWN0ZWQ6IHNlbGVjdGlvbi5pc19wcm90ZWN0ZWRcbiAgICB9O1xuXG4gICAgcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcHMgPSBbXG4gICAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1wcm90ZWN0ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX3Byb3RlY3RlZDogc2VsZWN0aW9uLmlzX3Byb3RlY3RlZFxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihzZWxlY3Rpb24udXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci5hYnNvbHV0ZV91cmxcbiAgICAgIH0pXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3BzID0gW1xuICAgICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX2hpZGRlbjogc2VsZWN0aW9uLmlzX2hpZGRlbixcbiAgICAgIGhpZGRlbl9vbjogc2VsZWN0aW9uLmhpZGRlbl9vbixcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBzZWxlY3Rpb24uaGlkZGVuX2J5X25hbWUsXG4gICAgICB1cmw6IHNlbGVjdGlvbi51cmxcbiAgICB9O1xuXG4gICAgcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaGlkZShwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcHMgPSBbXG4gICAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX2hpZGRlbjogc2VsZWN0aW9uLmlzX2hpZGRlblxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpIHtcbiAgYWpheC5wYXRjaChzZWxlY3Rpb24uYXBpLmluZGV4LCBvcHMpLnRoZW4oKG5ld1N0YXRlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIG5ld1N0YXRlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwgcHJldmlvdXNTdGF0ZSkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbWVyZ2Ugc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLnNsaWNlKDEpLm1hcCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcbiAgfSk7XG5cbiAgYWpheC5wb3N0KHByb3BzLnRocmVhZC5hcGkucG9zdHMubWVyZ2UsIHtcbiAgICBwb3N0czogcHJvcHMuc2VsZWN0aW9uLm1hcCgocG9zdCkgPT4gcG9zdC5pZClcbiAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goZGF0YSwgcG9zdC5oeWRyYXRlKGRhdGEpKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBwcm9wcy5zZWxlY3Rpb24uc2xpY2UoMSkubWFwKChzZWxlY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBhamF4LmRlbGV0ZShzZWxlY3Rpb24uYXBpLmluZGV4KS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybjtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gJy4vbW92ZSc7XG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tICcuL3NwbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICA8QXBwcm92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWVyZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgQXBwcm92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5hcHByb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2FwcHJvdmU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXJnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5tZXJnZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uLmxlbmd0aCA8IDIgfHwgIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJNZXJnZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fbW92ZTtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwbGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPFNwbGl0TW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJTcGxpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9wcm90ZWN0O1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJQcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5wcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9wcm90ZWN0O1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJVbnByb3RlY3RcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmhpZGUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5faGlkZTtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bmhpZGUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fdW5oaWRlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucmVtb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2RlbGV0ZTtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRHJvcGRvd24gZnJvbSAnLi9kcm9wZG93bic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCB8fCAhaXNWaXNpYmxlKHByb3BzLnRocmVhZCwgcHJvcHMucG9zdHMucmVzdWx0cykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdGlvbiA9IHByb3BzLnBvc3RzLnJlc3VsdHMuZmlsdGVyKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHBvc3QuaXNTZWxlY3RlZDtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgZHJvcHVwXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIGRpc2FibGVkPXshc2VsZWN0aW9uLmxlbmd0aH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUG9zdHMgb3B0aW9uc1wiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHNlbGVjdGlvbj17c2VsZWN0aW9ufSB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUodGhyZWFkLCBwb3N0cykge1xuICBpZiAodGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgJiYgcG9zdHMubGVuZ3RoID4gMSkge1xuICAgIC8vIGZhc3QgdGVzdDogc2hvdyBtb2RlcmF0aW9uIG1lbnUgaWYgd2UgY2FuIG1lcmdlIHBvc3RzXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBzbG93IHRlc3Q6IHNob3cgbW9kZXJhdGlvbiBpZiBhbnkgb2YgcG9zdHMgaGFzIG1vZGVyYXRpb24gb3B0aW9uc1xuICBsZXQgdmlzaWJsZSA9IGZhbHNlO1xuICBwb3N0cy5mb3JFYWNoKChwb3N0KSA9PiB7XG4gICAgaWYgKCFwb3N0LmlzX2V2ZW50KSB7XG4gICAgICBjb25zdCBzaG93TW9kZXJhdGlvbiA9IChcbiAgICAgICAgcG9zdC5hY2wuY2FuX2FwcHJvdmUgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX2RlbGV0ZSB8fFxuICAgICAgICAoIXBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl9oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbW92ZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fcHJvdGVjdCB8fFxuICAgICAgICAocG9zdC5pc19oaWRkZW4gJiYgcG9zdC5hY2wuY2FuX3VuaGlkZSkgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX3VucHJvdGVjdFxuICAgICAgKTtcblxuICAgICAgaWYgKHNob3dNb2RlcmF0aW9uKSB7XG4gICAgICAgIHZpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB2aXNpYmxlO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMubW92ZSwge1xuICAgICAgdGhyZWFkX3VybDogdGhpcy5zdGF0ZS51cmwsXG4gICAgICBwb3N0czogdGhpcy5wcm9wcy5zZWxlY3Rpb24ubWFwKChwb3N0KSA9PiBwb3N0LmlkKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3RzIHdlcmUgbW92ZWQgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTGluayB0byB0aHJlYWQgeW91IHdhbnQgdG8gbW92ZSBwb3N0cyB0b1wiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgcG9zdHNcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSBwb3N0c1wiKX08L2g0PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFBvc3RpbmdDb25maWcgey4uLnByb3BzfSBGb3JtPXtNb2RlcmF0aW9uRm9ybX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RpbmdDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldCgnVEhSRUFEX0VESVRPUl9VUkwnKSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgIHBvc3Q6IGl0ZW0ucG9zdFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGNhdGVnb3JpZXNcbiAgICAgIH0pXG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGVyYXRpb25Gb3JtIHsuLi50aGlzLnByb3BzfSBjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBwcm9wcy5jYXRlZ29yaWVzLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWQoKVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5JyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiBmYWxzZSxcbiAgICAgICAgJ2ljb24nOiAnbG9ja19vdXRsaW5lJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiB0cnVlLFxuICAgICAgICAnaWNvbic6ICdsb2NrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5hY2wgPSB7fTtcbiAgICB0aGlzLnByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5wb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWNsW2NhdGVnb3J5LmlkXSA9IHtcbiAgICAgICAgICBjYW5fcGluX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QucGluLFxuICAgICAgICAgIGNhbl9jbG9zZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmNsb3NlLFxuICAgICAgICAgIGNhbl9oaWRlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuaGlkZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLnNwbGl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkLFxuICAgICAgcG9zdHM6IHRoaXMucHJvcHMuc2VsZWN0aW9uLm1hcCgocG9zdCkgPT4gcG9zdC5pZClcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdHMgd2VyZSBzcGxpdCBpbnRvIG5ldyB0aHJlYWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAnZXJyb3JzJzogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgIH0pO1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXYpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gZXYudGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2hpZGRlbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gIH07XG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdyZW1vdmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90IHBpbm5lZFwiKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrX2JvcmRlcicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKSxcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PSAyKSB7XG4gICAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdib29rbWFyaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIiksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlcztcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHdlaWdodFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3dlaWdodCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX0gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVySGlkZGVuRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19oaWRkZW4nKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19jbG9zZWQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9PlxuICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd0aXRsZScpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9PlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICAgICAge3RoaXMucmVuZGVyV2VpZ2h0RmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdHNcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgc2VsZWN0ZWQgcG9zdHMgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvTW9kYWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlNwbGl0IHBvc3RzIGludG8gbmV3IHRocmVhZFwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNZXJnZU1vZGFsIGZyb20gJy4vbWVyZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb3ZlTW9kYWwgZnJvbSAnLi9tb3ZlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNhbGxBcGkgPSAob3BzLCBzdWNjZXNzTWVzc2FnZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpO1xuXG4gICAgLy8gYnkgdGhlIGNoYW5jZSB1cGRhdGUgdGhyZWFkIGFjbCB0b29cbiAgICBvcHMucHVzaCh7b3A6ICdhZGQnLCBwYXRoOiAnYWNsJywgdmFsdWU6IHRydWV9KTtcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBvcHMpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoZGF0YSkpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSk7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMlxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGdsb2JhbGx5LlwiKSk7XG4gIH07XG5cbiAgcGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBsb2NhbGx5LlwiKSk7XG4gIH07XG5cbiAgdW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiB1bnBpbm5lZC5cIikpO1xuICB9O1xuXG4gIGFwcHJvdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLXVuYXBwcm92ZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGFwcHJvdmVkLlwiKSk7XG4gIH07XG5cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBvcGVuZWQuXCIpKTtcbiAgfTtcblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGNsb3NlZC5cIikpO1xuICB9O1xuXG4gIHVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtaGlkZGVuJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIHZpc2libGUuXCIpKTtcbiAgfTtcblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1oaWRkZW4nLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSBoaWRkZW4uXCIpKTtcbiAgfTtcblxuICBtb3ZlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsXG4gICAgICAgIHBvc3RzPXt0aGlzLnByb3BzLnBvc3RzfVxuICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgLz5cbiAgICApO1xuICB9O1xuXG4gIG1lcmdlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TWVyZ2VNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgICk7XG4gIH07XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIGlmICghY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHRocmVhZD9cIikpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBkZWxldGVkLlwiKSlcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LmFic29sdXRlX3VybDtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgZ2V0UGluR2xvYmFsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA8IDIgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW4gPT0gMikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlBpbiBnbG9iYWxseVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCAhPT0gMSAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbiA+IDApIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluTG9jYWxseX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlBpbiBsb2NhbGx5XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA+IDAgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW4gPiAwKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVucGlufT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW5cIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNb3ZlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21vdmUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tZXJnZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5tZXJnZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXBwcm92ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jbG9zZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vcGVufT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT3BlblwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2V9PlxuICAgICAgICAgICAge2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5faGlkZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51bmhpZGV9PlxuICAgICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5faGlkZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oaWRlfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlID09IDIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICB7dGhpcy5nZXRQaW5HbG9iYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRQaW5Mb2NhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVucGluQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1vdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TWVyZ2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0QXBwcm92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRPcGVuQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldENsb3NlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVuaGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRIaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IE1vZGVyYXRpb25Db250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcbmltcG9ydCBpc01vZGVyYXRpb25WaXNpYmxlIGZyb20gJy4vaXMtdmlzaWJsZSc7XG5cbmV4cG9ydCB7IE1vZGVyYXRpb25Db250cm9scywgaXNNb2RlcmF0aW9uVmlzaWJsZSB9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRocmVhZCkge1xuICByZXR1cm4gKFxuICAgICh0aHJlYWQuYWNsLmNhbl9hcHByb3ZlICYmIHRocmVhZC5pc191bmFwcHJvdmVkKSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX2Nsb3NlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5faGlkZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX21vdmUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9waW5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVybC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgbGluayB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIC8vIGZyZWV6ZSB0aHJlYWRcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKTtcblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLm1lcmdlLCB7XG4gICAgICB0aHJlYWRfdXJsOiB0aGlzLnN0YXRlLnVybFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1lcmdlZCB3aXRoIG90aGVyIG9uZS5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uVXJsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndXJsJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtZXJnZSB3aXRoXCIpfVxuICAgICAgICAgICAgICAgIGhlbHBfdGV4dD17Z2V0dGV4dChcIk1lcmdlIHdpbGwgZGVsZXRlIGN1cnJlbnQgdGhyZWFkIGFuZCBtb3ZlIGl0cyBjb250ZW50cyB0byB0aGUgdGhyZWFkIHNwZWNpZmllZCBoZXJlLlwiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3RzJztcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IFtdLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdUSFJFQURfRURJVE9SX1VSTCcpKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBsZXQgY2F0ZWdvcnkgPSBudWxsO1xuXG4gICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgLy8gcGljayBmaXJzdCBjYXRlZ29yeSB0aGF0IGFsbG93cyBwb3N0aW5nIGFuZCBpZiBpdCBtYXksIG92ZXJyaWRlIGl0IHdpdGggaW5pdGlhbCBvbmVcbiAgICAgICAgaWYgKGl0ZW0ucG9zdCAhPT0gZmFsc2UgJiYgIWNhdGVnb3J5KSB7XG4gICAgICAgICAgY2F0ZWdvcnkgPSBpdGVtLmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUmVhZHk6IHRydWUsXG5cbiAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgIGNhdGVnb3JpZXNcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0Vycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgLy8gZnJlZXplIHRocmVhZFxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpO1xuXG4gICAgcmV0dXJuIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ2NhdGVnb3J5JywgdmFsdWU6IHRoaXMuc3RhdGUuY2F0ZWdvcnl9LFxuICAgIF0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICAvLyByZWZyZXNoIHRocmVhZCBhbmQgZGlzcGxheWVkIHBvc3RzXG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLCB7cGFnZTogdGhpcy5wcm9wcy5wb3N0cy5wYWdlfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlcGxhY2UoZGF0YSkpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1vdmVkLlwiKSk7XG4gICAgICBtb2RhbC5oaWRlKCk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSk7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgnY2F0ZWdvcnknLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwIGZvcj1cImlkX2NhdGVnb3J5XCIgbGFiZWw9e2dldHRleHQoXCJOZXcgY2F0ZWdvcnlcIil9PlxuICAgICAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9PlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsTWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxMb2FkaW5nIC8+XG4gICAgICApO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgdGhyZWFkXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbExvYWRpbmcocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxNZXNzYWdlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aGlzIHRocmVhZCBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIDxuYXYgY2xhc3NOYW1lPVwibWlzYWdvLXBhZ2luYXRpb24gcHVsbC1sZWZ0XCI+XG4gICAgPFBhZ2VyIHsuLi5wcm9wc30gLz5cbiAgICA8TW9yZSBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfSAvPlxuICA8L25hdj47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlcihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMucGFnZXMgPiAxKSB7XG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJwYWdpbmF0aW9uXCI+XG4gICAgICA8Rmlyc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcmV2aW91c1BhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPE5leHRQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxMYXN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpcnN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMuZmlyc3QpIHtcbiAgICByZXR1cm4gPGxpPlxuICAgICAgPExpbmsgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXh9IHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgIDxzcGFuIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aW91c1BhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLnBhZ2UgPiAxKSB7XG4gICAgbGV0IHByZXZpb3VzVXJsID0gJyc7XG4gICAgaWYgKHByb3BzLnBvc3RzLnByZXZpb3VzKSB7XG4gICAgICBwcmV2aW91c1VybCA9IHByb3BzLnBvc3RzLnByZXZpb3VzICsgJy8nO1xuICAgIH1cblxuICAgIHJldHVybiA8bGk+XG4gICAgICA8TGluayB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIHByZXZpb3VzVXJsfSB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgIDxzcGFuIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5leHRQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5tb3JlKSB7XG4gICAgbGV0IG5leHRVcmwgPSAnJztcbiAgICBpZiAocHJvcHMucG9zdHMubmV4dCkge1xuICAgICAgbmV4dFVybCA9IHByb3BzLnBvc3RzLm5leHQgKyAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIDxsaT5cbiAgICAgIDxMaW5rIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgbmV4dFVybH0gdGl0bGU9e2dldHRleHQoXCJHbyB0byBuZXh0IHBhZ2VcIil9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImRpc2FibGVkXCI+XG4gICAgICA8c3BhbiB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubGFzdCkge1xuICAgIHJldHVybiA8bGk+XG4gICAgICA8TGluayB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIHByb3BzLnBvc3RzLmxhc3QgKyAnLyd9IHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImRpc2FibGVkXCI+XG4gICAgICA8c3BhbiB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vcmUocHJvcHMpIHtcbiAgbGV0IG1lc3NhZ2UgPSBudWxsO1xuICBpZiAocHJvcHMubW9yZSkge1xuICAgIG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhlcmUgaXMgJShtb3JlKXMgbW9yZSBwb3N0IGluIHRoaXMgdGhyZWFkLlwiLFxuICAgICAgXCJUaGVyZSBhcmUgJShtb3JlKXMgbW9yZSBwb3N0cyBpbiB0aGlzIHRocmVhZC5cIixcbiAgICAgIHByb3BzLm1vcmUpO1xuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7J21vcmUnOiBwcm9wcy5tb3JlfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gbW9yZSBwb3N0cyBpbiB0aGlzIHRocmVhZC5cIik7XG4gIH1cblxuICByZXR1cm4gPHA+e21lc3NhZ2V9PC9wPjtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8ICdidG4gYnRuLXN1Y2Nlc3MnfVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgY2hhdFxuICAgICAgPC9zcGFuPlxuICAgICAge2dldHRleHQoXCJSZXBseVwiKX1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUm91dGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkL3JvdXRlJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgICdwb3N0cyc6IHN0b3JlLnBvc3RzLFxuICAgICd0aHJlYWQnOiBzdG9yZS50aHJlYWQsXG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXJcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBjb25zdCB0aHJlYWQgPSBtaXNhZ28uZ2V0KCdUSFJFQUQnKTtcbiAgY29uc3QgYmFzZVBhdGggPSB0aHJlYWQudXJsLmluZGV4LnJlcGxhY2UodGhyZWFkLnNsdWcgKyAnLScgKyB0aHJlYWQucGssICc6c2x1ZycpO1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHBhdGg6IGJhc2VQYXRoLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUm91dGUpXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCArICc6cGFnZS8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUm91dGUpXG4gICAgfVxuICBdO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQb3N0c0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBhZ2luYXRvciBmcm9tICcuL3BhZ2luYXRvcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlcGx5QnV0dG9uIGZyb20gJy4vcmVwbHktYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gJy4vc3Vic2NyaXB0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVG9vbGJhclRvcCBmcm9tICcuL3Rvb2xiYXItdG9wJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdHNNb2RlcmF0aW9uIGZyb20gJy4vbW9kZXJhdGlvbi9wb3N0cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3RzJztcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRGZXRjaERhdGEoKSkge1xuICAgICAgdGhpcy5mZXRjaERhdGEoKTtcbiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRGZXRjaERhdGEoKSkge1xuICAgICAgdGhpcy5mZXRjaERhdGEoKTtcbiAgICAgIHRoaXMuc3RhcnRQb2xsaW5nQXBpKCk7XG4gICAgICB0aGlzLnNldFBhZ2VUaXRsZSgpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RvcFBvbGxpbmdBcGkoKTtcbiAgfVxuXG4gIHNob3VsZEZldGNoRGF0YSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgICAgY29uc3QgcGFnZSA9ICh0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IDEpICogMTtcbiAgICAgIHJldHVybiBwYWdlICE9IHRoaXMucHJvcHMucG9zdHMucGFnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YSgpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy51bmxvYWQoKSk7XG5cbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsIHtcbiAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgIH0sICdwb3N0cycpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlKGRhdGEpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydFBvbGxpbmdBcGkoKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ3RocmVhZC1wb3N0cycsXG5cbiAgICAgIHVybDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LFxuICAgICAgZGF0YToge1xuICAgICAgICBwYWdlOiB0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IDFcbiAgICAgIH0sXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuXG4gICAgICBmcmVxdWVuY3k6IDEyMCAqIDEwMDAsXG4gICAgICBkZWxheWVkOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBzdG9wUG9sbGluZ0FwaSgpIHtcbiAgICBwb2xscy5zdG9wKCd0aHJlYWQtcG9zdHMnKTtcbiAgfVxuXG4gIHNldFBhZ2VUaXRsZSgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGhyZWFkLnRpdGxlLFxuICAgICAgcGFnZTogKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlcGxhY2UoZGF0YSkpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmxvYWQoZGF0YS5wb3N0X3NldCkpO1xuXG4gICAgdGhpcy5zZXRQYWdlVGl0bGUoKTtcbiAgfTtcblxuICBvcGVuUmVwbHlGb3JtID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiAnUkVQTFknLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleFxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXRocmVhZFwiPlxuICAgICAgPEhlYWRlciB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgPFRvb2xiYXJUb3Agb3BlblJlcGx5Rm9ybT17dGhpcy5vcGVuUmVwbHlGb3JtfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPFBvc3RzTGlzdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWJvdHRvbVwiPlxuICAgICAgICAgIDxQYWdpbmF0b3Igey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFJlcGx5IG9uQ2xpY2s9e3RoaXMub3BlblJlcGx5Rm9ybX0gdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8U3Vic2NyaXB0aW9uIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHQgZHJvcHVwXCIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFBvc3RzTW9kZXJhdGlvbiB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyLWZpeFwiIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbHkocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8UmVwbHlCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIHRvb2xiYXItcmlnaHRcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7Z2V0SWNvbihwcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0TGFiZWwocHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbil9XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKHN1YnNjcmlwdGlvbikge1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuICdzdGFyJztcbiAgfSBlbHNlIGlmIChzdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuICdzdGFyX2hhbGYnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnc3Rhcl9ib3JkZXInO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYWJlbChzdWJzY3JpcHRpb24pIHtcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRS1tYWlsXCIpO1xuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkVuYWJsZWRcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJEaXNhYmxlZFwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRHJvcGRvd24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICA8RGlzYWJsZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RW5hYmxlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFbWFpbCB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIERpc2FibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIG51bGwsICd1bnN1YnNjcmliZScpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2JvcmRlclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuc3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbmFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCBmYWxzZSwgJ25vdGlmeScpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2hhbGZcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVtYWlsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCB0cnVlLCAnZW1haWwnKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3RhclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZSB3aXRoIGUtbWFpbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHRocmVhZCwgbmV3U3RhdGUsIHZhbHVlKSB7XG4gIGNvbnN0IG9sZFN0YXRlID0ge1xuICAgIHN1YnNjcmlwdGlvbjogdGhyZWFkLnN1YnNjcmlwdGlvblxuICB9O1xuXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKHtcbiAgICBzdWJzY3JpcHRpb246IG5ld1N0YXRlXG4gIH0pKTtcblxuICBhamF4LnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ3N1YnNjcmlwdGlvbicsIHZhbHVlOiB2YWx1ZX1cbiAgXSkudGhlbigoZmluYWxTdGF0ZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKGZpbmFsU3RhdGUpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKG9sZFN0YXRlKSk7XG4gIH0pO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVwbHlCdXR0b24gZnJvbSAnLi9yZXBseS1idXR0b24nO1xuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tICcuL3N1YnNjcmlwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgPEdvdG9OZXcgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxHb3RvVW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9MYXN0IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8UmVwbHkgb3BlblJlcGx5Rm9ybT17cHJvcHMub3BlblJlcGx5Rm9ybX0gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxTdWJzY3JpcHRpb25NZW51IHsuLi5wcm9wc30gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfbmV3KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdH0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgdGl0bGU9e2dldHRleHQoJ0dvIHRvIGZpcnN0IG5ldyBwb3N0Jyl9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTmV3XCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9VbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMgJiYgcHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxhIGhyZWY9e3Byb3BzLnRocmVhZC51cmwudW5hcHByb3ZlZF9wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiB0aXRsZT17Z2V0dGV4dCgnR28gdG8gZmlyc3QgdW5hcHByb3ZlZCBwb3N0Jyl9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTGFzdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiB0aXRsZT17Z2V0dGV4dCgnR28gdG8gbGFzdCBwb3N0Jyl9PlxuICAgICAgICB7Z2V0dGV4dChcIkxhc3RcIil9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN1YnNjcmlwdGlvbk1lbnUocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0XCI+XG4gICAgICA8U3Vic2NyaXB0aW9uIGNsYXNzTmFtZT1cImRyb3Bkb3duIHRvb2xiYXItcmlnaHRcIiB7Li4ucHJvcHN9IC8+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbHkocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0XCI+XG4gICAgICAgIDxSZXBseUJ1dHRvbiBvbkNsaWNrPXtwcm9wcy5vcGVuUmVwbHlGb3JtfSAvPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIGxldCBsYWJlbCA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKHRocmVhZHMpcyBuZXcgb3IgdXBkYXRlZCB0aHJlYWQuIENsaWNrIHRoaXMgbWVzc2FnZSB0byBzaG93IGl0LlwiLFxuICAgICAgXCJUaGVyZSBhcmUgJSh0aHJlYWRzKXMgbmV3IG9yIHVwZGF0ZWQgdGhyZWFkcy4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgdGhlbS5cIixcbiAgICAgIHRoaXMucHJvcHMuZGlmZlNpemUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKGxhYmVsLCB7XG4gICAgICB0aHJlYWRzOiB0aGlzLnByb3BzLmRpZmZTaXplXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSB0aHJlYWRzLWRpZmYtbWVzc2FnZVwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuYXBwbHlEaWZmfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGNhY2hlZFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpZmYtbWVzc2FnZVwiPlxuICAgICAgICAgIHt0aGlzLmdldE1lc3NhZ2UoKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGlmZk1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RGlmZk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlmZlNpemUgPiAwKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPERpZmZNZXNzYWdlIGRpZmZTaXplPXt0aGlzLnByb3BzLmRpZmZTaXplfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseURpZmY9e3RoaXMucHJvcHMuYXBwbHlEaWZmfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAge3RoaXMuZ2V0RGlmZk1lc3NhZ2UoKX1cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUaHJlYWRQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAge1swLCAxLCAyXS5tYXAoKGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPFRocmVhZFByZXZpZXcgaGlkZGVuT25Nb2JpbGU9e2kgPiAwfSBrZXk9e2l9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGlmZk1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVGhyZWFkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcmVhZHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXREaWZmTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaWZmU2l6ZSA+IDApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8RGlmZk1lc3NhZ2UgZGlmZlNpemU9e3RoaXMucHJvcHMuZGlmZlNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RGlmZj17dGhpcy5wcm9wcy5hcHBseURpZmZ9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkcy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7dGhpcy5nZXREaWZmTWVzc2FnZSgpfVxuICAgICAgICB7dGhpcy5wcm9wcy50aHJlYWRzLm1hcCgodGhyZWFkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxUaHJlYWQgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMubGlzdH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dPcHRpb25zPXt0aGlzLnByb3BzLnNob3dPcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RoaXMucHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgaXNCdXN5PXt0aGlzLnByb3BzLmJ1c3lUaHJlYWRzLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGhyZWFkLmlkfSAvPlxuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9lbXB0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RSZWFkeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9yZWFkeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3ByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMudGhyZWFkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiA8TGlzdFJlYWR5IHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlNpemU9e3RoaXMucHJvcHMuZGlmZlNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RGlmZj17dGhpcy5wcm9wcy5hcHBseURpZmZ9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd09wdGlvbnM9e3RoaXMucHJvcHMuc2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzeVRocmVhZHM9e3RoaXMucHJvcHMuYnVzeVRocmVhZHN9IC8+O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDxMaXN0RW1wdHkgZGlmZlNpemU9e3RoaXMucHJvcHMuZGlmZlNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RGlmZj17dGhpcy5wcm9wcy5hcHBseURpZmZ9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L0xpc3RFbXB0eT47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz47XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmwgKyB0aGlzLnByb3BzLmxpc3QucGF0aDtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAndGhyZWFkLWNhdGVnb3J5IHRocmVhZC1jYXRlZ29yeS0nICsgdGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAndGhyZWFkLWNhdGVnb3J5JztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8TGluayB0bz17dGhpcy5nZXRVcmwoKX0gY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgPC9MaW5rPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2NhdGVnb3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0UGF0aCgpIHtcbiAgICBsZXQgdG9wID0gdGhpcy5wcm9wcy5jYXRlZ29yaWVzW3RoaXMucHJvcHMudGhyZWFkLnRvcF9jYXRlZ29yeV07XG4gICAgbGV0IGJvdHRvbSA9IHRoaXMucHJvcHMuY2F0ZWdvcmllc1t0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeV07XG5cbiAgICBpZiAodG9wICYmIGJvdHRvbSAmJiB0b3AuaWQgIT09IGJvdHRvbS5pZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGF0aFwiPlxuICAgICAgICA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e2JvdHRvbX0gbGlzdD17dGhpcy5wcm9wcy5saXN0fSAvPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodG9wKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1wYXRoXCI+XG4gICAgICAgIDxDYXRlZ29yeSBjYXRlZ29yeT17dG9wfSBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFJlcGxpZXNDb3VudCgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcmVwbGllcy1jb3VudFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3J1bVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge3RoaXMucHJvcHMudGhyZWFkLnJlcGxpZXN9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldExhc3RSZXBseSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseS1jbG9ja1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBzY2hlZHVsZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge3RoaXMucHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mcm9tTm93KCl9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtY29tcGFjdCBsaXN0LWlubGluZVwiPlxuICAgICAge3RoaXMuZ2V0UGF0aCgpfVxuICAgICAge3RoaXMuZ2V0UmVwbGllc0NvdW50KCl9XG4gICAgICB7dGhpcy5nZXRMYXN0UmVwbHkoKX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2NhdGVnb3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBMQVNUX1BPU1RFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9hPic7XG5jb25zdCBMQVNUX1BPU1RFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IExBU1RfUkVQTFlfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXROZXdMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmlzX3JlYWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLW5ldy1wb3N0c1wiXG4gICAgICAgICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgdW5yZWFkIHBvc3RcIil9PlxuICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnRocmVhZC51cmwubmV3X3Bvc3R9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNvbW1lbnRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiTmV3IHBvc3RzXCIpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRQaW5uZWRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAyKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGJvb2ttYXJrXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtbG9jYWxseVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYm9va21hcmtfYm9yZGVyXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuYXBwcm92ZWRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtdW5hcHByb3ZlZFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgcmVtb3ZlX2NpcmNsZVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkXCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtdW5hcHByb3ZlZC1wb3N0c1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgcmVtb3ZlX2NpcmNsZV9vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuYXBwcm92ZWQgcG9zdHNcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0SGlkZGVuTGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2hpZGRlbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtaGlkZGVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRkZW5cIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xvc2VkTGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2Nsb3NlZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtY2xvc2VkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBsb2NrX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2VkXCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFBhdGgoKSB7XG4gICAgbGV0IHRvcCA9IHRoaXMucHJvcHMuY2F0ZWdvcmllc1t0aGlzLnByb3BzLnRocmVhZC50b3BfY2F0ZWdvcnldO1xuICAgIGxldCBib3R0b20gPSB0aGlzLnByb3BzLmNhdGVnb3JpZXNbdGhpcy5wcm9wcy50aHJlYWQuY2F0ZWdvcnldO1xuXG4gICAgaWYgKHRvcCAmJiBib3R0b20gJiYgdG9wLmlkICE9PSBib3R0b20uaWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBhdGhcIj5cbiAgICAgICAgPENhdGVnb3J5IGNhdGVnb3J5PXt0b3B9IGxpc3Q9e3RoaXMucHJvcHMubGlzdH0gLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGF0aC1zZXBhcmF0b3IgbWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e2JvdHRvbX0gbGlzdD17dGhpcy5wcm9wcy5saXN0fSAvPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodG9wKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1wYXRoXCI+XG4gICAgICAgIDxDYXRlZ29yeSBjYXRlZ29yeT17dG9wfSBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFJlcGxpZXNDb3VudCgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHJlcGxpZXMpcyByZXBseVwiLFxuICAgICAgICBcIiUocmVwbGllcylzIHJlcGxpZXNcIixcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWQucmVwbGllcyk7XG5cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1yZXBsaWVzXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZvcnVtXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7aW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAgIHJlcGxpZXM6IHRoaXMucHJvcHMudGhyZWFkLnJlcGxpZXMsXG4gICAgICAgIH0sIHRydWUpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRMYXN0UmVwbHlEYXRlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShMQVNUX1JFUExZX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3QpLFxuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZvcm1hdCgnTExMJykpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZyb21Ob3coKSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldExhc3RQb3N0ZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3Rlcikge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUE9TVEVSX1VSTCwge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShMQVNUX1BPU1RFUl9TUEFOLCB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldExhc3RSZXBseSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseVwiXG4gICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogaW50ZXJwb2xhdGUoXG4gICAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJsYXN0IHJlcGx5IGJ5ICUodXNlcilzICUoZGF0ZSlzXCIpKSwge1xuICAgICAgICBkYXRlOiB0aGlzLmdldExhc3RSZXBseURhdGUoKSxcbiAgICAgICAgdXNlcjogdGhpcy5nZXRMYXN0UG9zdGVyKClcbiAgICAgIH0sIHRydWUpfX0gLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtZnVsbCBsaXN0LWlubGluZVwiPlxuICAgICAge3RoaXMuZ2V0TmV3TGFiZWwoKX1cbiAgICAgIHt0aGlzLmdldFBpbm5lZExhYmVsKCl9XG4gICAgICB7dGhpcy5nZXRVbmFwcHJvdmVkTGFiZWwoKX1cbiAgICAgIHt0aGlzLmdldEhpZGRlbkxhYmVsKCl9XG4gICAgICB7dGhpcy5nZXRDbG9zZWRMYWJlbCgpfVxuICAgICAge3RoaXMuZ2V0UGF0aCgpfVxuICAgICAge3RoaXMuZ2V0UmVwbGllc0NvdW50KCl9XG4gICAgICB7dGhpcy5nZXRMYXN0UmVwbHkoKX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRQaW5uZWRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDIpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtcGlubmVkLWdsb2JhbGx5XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBib29rbWFya1xuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtbG9jYWxseVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYm9va21hcmtfYm9yZGVyXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVbmFwcHJvdmVkSWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtdW5hcHByb3ZlZC1wb3N0c1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgcmVtb3ZlX2NpcmNsZV9vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIaWRkZW5JY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19oaWRkZW4pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtaGlkZGVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xvc2VkSWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWNsb3NlZFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZmxhZ3NcIj5cbiAgICAgIHt0aGlzLmdldFBpbm5lZEljb24oKX1cbiAgICAgIHt0aGlzLmdldFVuYXBwcm92ZWRJY29uKCl9XG4gICAgICB7dGhpcy5nZXRIaWRkZW5JY29uKCl9XG4gICAgICB7dGhpcy5nZXRDbG9zZWRJY29uKCl9XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfcmVhZCkge1xuICAgICAgcmV0dXJuICdyZWFkLXN0YXR1cyBpdGVtLXJlYWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3JlYWQtc3RhdHVzIGl0ZW0tbmV3JztcbiAgICB9XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfcmVhZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIHRocmVhZCBoYXMgbm8gbmV3IHBvc3RzLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIHRocmVhZCBoYXMgbmV3IHBvc3RzLlwiKTtcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gJ2NoYXRfYnViYmxlX291dGxpbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2NoYXRfYnViYmxlJztcbiAgICB9XG4gIH1cblxuICBnZXRVcmwoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfcmVhZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnRocmVhZC51cmwubmV3X3Bvc3Q7XG4gICAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IGhyZWY9e3RoaXMuZ2V0VXJsKCl9IHRpdGxlPXt0aGlzLmdldFRpdGxlKCl9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICA8L3NwYW4+XG4gICAgPC9hPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdWJzY3JpcHRpb25Db21wYWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2NvbXBhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB0b2dnbGVTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lml0ZW0odGhpcy5wcm9wcy50aHJlYWQuaWQpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRTZWxlY3RUb2dnbGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc1NlbGVjdGVkXG4gICAgICAgICAgICAgID8gJ2NoZWNrX2JveCdcbiAgICAgICAgICAgICAgOiAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNTZWxlY3RlZFxuICAgICAgICAgICAgICA/IGdldHRleHQoXCJTZWxlY3RlZFwiKVxuICAgICAgICAgICAgICA6IGdldHRleHQoXCJTZWxlY3RcIil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtb3B0aW9uc1wiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgIHt0aGlzLmdldFNlbGVjdFRvZ2dsZSgpfVxuICAgICAgICA8U3Vic2NyaXB0aW9uRnVsbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gLz5cbiAgICAgICAgPFN1YnNjcmlwdGlvbkNvbXBhY3QgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9IC8+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkLXByZXZpZXcgaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtIHRocmVhZC1wcmV2aWV3JztcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJlYWQtc3RhdHVzIGl0ZW0tcmVhZFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNoYXRfYnViYmxlX291dGxpbmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1tYWluXCI+XG5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDYwLCAyMDApICsgXCJweFwifX0+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cblxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtY29tcGFjdCBsaXN0LWlubGluZVwiPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgyMCwgNzApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuXG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1mdWxsIGxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAxNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDEwMCwgMjUwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IERldGFpbHNDb21wYWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy9jb21wYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGV0YWlsc0Z1bGwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2Z1bGwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGbGFncyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2ZsYWdzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgSWNvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2ljb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWRPcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvb3B0aW9ucyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNCdXN5KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8SWNvbiB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0T3B0aW9ucygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zaG93T3B0aW9ucykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxUaHJlYWRPcHRpb25zIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuaXNCdXN5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RoaXMucHJvcHMuaXNTZWxlY3RlZH0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IHN0eWxlcyA9IFsnbGlzdC1ncm91cC1pdGVtJ107XG5cbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfcmVhZCkge1xuICAgICAgc3R5bGVzLnB1c2goJ3RocmVhZC1yZWFkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlcy5wdXNoKCd0aHJlYWQtbmV3Jyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuaXNCdXN5KSB7XG4gICAgICBzdHlsZXMucHVzaCgndGhyZWFkLWJ1c3knKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuaXNTZWxlY3RlZCkge1xuICAgICAgc3R5bGVzLnB1c2goJ3RocmVhZC1zZWxlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnNob3dPcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgc3R5bGVzLnB1c2goJ3RocmVhZC1vcHMtdHdvJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZXMucHVzaCgndGhyZWFkLW9wcy1vbmUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtaWNvblwiPlxuICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICAgIDxGbGFncyB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt0aGlzLmdldE9wdGlvbnMoKX1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtbWFpblwiPlxuXG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudGhyZWFkLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy50aHJlYWQudGl0bGV9XG4gICAgICAgIDwvYT5cblxuICAgICAgICA8RGV0YWlsc0Z1bGwgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fVxuICAgICAgICAgICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cblxuICAgICAgICA8RGV0YWlsc0NvbXBhY3QgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cblxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBPcHRpb25zTW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBTdWJzY3JpcHRpb25GdWxsIHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93T3B0aW9ucyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxPcHRpb25zTW9kYWwgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz4pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJoaWRkZW4tbWQgaGlkZGVuLWxnXCI+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dPcHRpb25zfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHt0aGlzLmdldExlZ2VuZCgpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBPcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnc3Rhcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gJ3N0YXJfaGFsZic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnc3Rhcl9ib3JkZXInO1xuICAgIH1cbiAgfVxuXG4gIGdldExlZ2VuZCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkUtbWFpbFwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiRW5hYmxlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJEaXNhYmxlZFwiKTtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zdWJzY3JpYmUgYnRuLXN1YnNjcmliZS1mdWxsIGRyb3Bkb3duLXRvZ2dsZVwiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zdWJzY3JpYmUgYnRuLXN1YnNjcmliZS1oYWxmIGRyb3Bkb3duLXRvZ2dsZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLXN1YnNjcmliZSBkcm9wZG93bi10b2dnbGVcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldExlZ2VuZCgpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPE9wdGlvbnMgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cblxuICAgICAgPC9kaXY+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgT3B0aW9ucyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIlxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBzdWJzY3JpcHRpb25cIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPE9wdGlvbnMgY2xhc3NOYW1lPVwibW9kYWwtbWVudVwiIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9Lz5cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmNvbnN0IFNUQVRFX1VQREFURVMgPSB7XG4gICd1bnN1YnNjcmliZSc6IG51bGwsXG4gICdub3RpZnknOiBmYWxzZSxcbiAgJ2VtYWlsJzogdHJ1ZVxufTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNldFN1YnNjcmlwdGlvbiA9IChuZXdTdGF0ZSkgPT4ge1xuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSk7XG5cbiAgICBsZXQgb2xkU3RhdGUgPSB0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb247XG5cbiAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh0aGlzLnByb3BzLnRocmVhZCwge1xuICAgICAgc3Vic2NyaXB0aW9uOiBTVEFURV9VUERBVEVTW25ld1N0YXRlXVxuICAgIH0pKTtcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ3N1YnNjcmlwdGlvbicsIHZhbHVlOiBuZXdTdGF0ZX1cbiAgICBdKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh0aGlzLnByb3BzLnRocmVhZCwge1xuICAgICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbb2xkU3RhdGVdXG4gICAgICB9KSk7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKCd1bnN1YnNjcmliZScpO1xuICB9O1xuXG4gIG5vdGlmeSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbignbm90aWZ5Jyk7XG4gIH07XG5cbiAgZW1haWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oJ2VtYWlsJyk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy51bnN1YnNjcmliZX0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3Rhcl9ib3JkZXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5ub3RpZnl9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHN0YXJfaGFsZlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5lbWFpbH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3RhclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZSB3aXRoIGUtbWFpbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgU3ViY2F0ZWdvcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRVcmwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubGlzdFBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybCArIHRoaXMucHJvcHMubGlzdFBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGk+XG4gICAgICA8TGluayB0bz17dGhpcy5nZXRVcmwoKX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgICA8L0xpbms+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGNhdGVnb3J5LXBpY2tlclwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgbW9yZV92ZXJ0XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAge2dldHRleHQoXCJHbyB0b1wiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgY2F0ZWdvcmllcy1tZW51XCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNob2ljZXMubWFwKChpZCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3JpZXNbaWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gPFN1YmNhdGVnb3J5IGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3JpZXNbaWRdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0UGF0aD17dGhpcy5wcm9wcy5saXN0LnBhdGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR9IC8+O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYikge1xuICBpZiAoYS5sYXN0X3Bvc3QgPiBiLmxhc3RfcG9zdCkge1xuICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIGlmIChhLmxhc3RfcG9zdCA8IGIubGFzdF9wb3N0KSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVHbG9iYWxXZWlnaHQoYSwgYikge1xuICBpZiAoYS53ZWlnaHQgPT09IDIgJiYgYS53ZWlnaHQgPiBiLndlaWdodCkge1xuICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIGlmIChiLndlaWdodCA9PT0gMiAmJiBhLndlaWdodCA8IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVdlaWdodChhLCBiKSB7XG4gIGlmIChhLndlaWdodCA+IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGEud2VpZ2h0IDwgYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYWdlTGVhZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYWdlLWxlYWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUb29sYmFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvdG9vbGJhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENhdGVnb3J5RGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgIDxQYWdlTGVhZCBjb3B5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWx9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRUb29sYmFyTGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIGxldCBsYWJlbCA9IG51bGw7XG4gICAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgICAgbGFiZWwgPSBuZ2V0dGV4dChcbiAgICAgICAgICBcIiUodGhyZWFkcylzIHRocmVhZCBmb3VuZC5cIixcbiAgICAgICAgICBcIiUodGhyZWFkcylzIHRocmVhZHMgZm91bmQuXCIsXG4gICAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzQ291bnQpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudCkge1xuICAgICAgICBsYWJlbCA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiVGhlcmUgaXMgJSh0aHJlYWRzKXMgdGhyZWFkIGluIHRoaXMgY2F0ZWdvcnkuXCIsXG4gICAgICAgICAgXCJUaGVyZSBhcmUgJSh0aHJlYWRzKXMgdGhyZWFkcyBpbiB0aGlzIGNhdGVnb3J5LlwiLFxuICAgICAgICAgIHRoaXMucHJvcHMudGhyZWFkc0NvdW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhYmVsID0gbmdldHRleHQoXG4gICAgICAgICAgXCJUaGVyZSBpcyAlKHRocmVhZHMpcyB0aHJlYWQgb24gb3VyIGZvcnVtcy5cIixcbiAgICAgICAgICBcIlRoZXJlIGFyZSAlKHRocmVhZHMpcyB0aHJlYWRzIG9uIG91ciBmb3J1bXMuXCIsXG4gICAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzQ291bnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobGFiZWwsIHtcbiAgICAgICAgdGhyZWFkczogdGhpcy5wcm9wcy50aHJlYWRzQ291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkxvYWRpbmcgdGhyZWFkcy4uLlwiKTtcbiAgICB9XG4gIH1cblxuICBnZXREaXNhYmxlVG9vbGJhcigpIHtcbiAgICByZXR1cm4gIXRoaXMucHJvcHMuaXNMb2FkZWQgfHwgdGhpcy5wcm9wcy5pc0J1c3kgfHwgdGhpcy5wcm9wcy5idXN5VGhyZWFkcy5sZW5ndGg7XG4gIH1cblxuICBnZXRUb29sYmFyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXMubGVuZ3RoIHx8IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxUb29sYmFyIHN1YmNhdGVnb3JpZXM9e3RoaXMucHJvcHMuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc01hcD17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cblxuICAgICAgICAgICAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICAgICAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnByb3BzLm1vZGVyYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGxUaHJlYWRzPXt0aGlzLnByb3BzLnNlbGVjdEFsbFRocmVhZHN9XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0Tm9uZVRocmVhZHM9e3RoaXMucHJvcHMuc2VsZWN0Tm9uZVRocmVhZHN9XG5cbiAgICAgICAgICAgICAgICAgICAgICBhZGRUaHJlYWRzPXt0aGlzLnByb3BzLmFkZFRocmVhZHN9XG4gICAgICAgICAgICAgICAgICAgICAgZnJlZXplVGhyZWFkPXt0aGlzLnByb3BzLmZyZWV6ZVRocmVhZH1cbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRocmVhZD17dGhpcy5wcm9wcy51cGRhdGVUaHJlYWR9XG5cbiAgICAgICAgICAgICAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5nZXREaXNhYmxlVG9vbGJhcigpfVxuICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn0+XG4gICAgICAgIHt0aGlzLmdldFRvb2xiYXJMYWJlbCgpfVxuICAgICAgPC9Ub29sYmFyPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgIHt0aGlzLmdldENhdGVnb3J5RGVzY3JpcHRpb24oKX1cbiAgICAgIHt0aGlzLmdldFRvb2xiYXIoKX1cblxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBUYWJzTmF2IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9uYXZzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyByZWFkIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbWFya0FzUmVhZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuYXBpX3VybC5yZWFkKS50aGVuKCgpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHJlYWQodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwLCB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5KSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkcyBoYXZlIGJlZW4gbWFya2VkIGFzIHJlYWQuXCIpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgc3RhcnRUaHJlYWQgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6ICdTVEFSVCcsXG5cbiAgICAgIGNvbmZpZzogbWlzYWdvLmdldCgnVEhSRUFEX0VESVRPUl9BUEknKSxcbiAgICAgIHN1Ym1pdDogbWlzYWdvLmdldCgnVEhSRUFEU19BUEknKSxcblxuICAgICAgY2F0ZWdvcnk6IHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWRcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRHb0JhY2tCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnByb3BzLmNhdGVnb3JpZXNbdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnRdO1xuXG4gICAgICByZXR1cm4gPExpbmsgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1nby1iYWNrIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgdG89e3BhcmVudC5hYnNvbHV0ZV91cmwgKyB0aGlzLnByb3BzLnJvdXRlLmxpc3QucGF0aH0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBrZXlib2FyZF9hcnJvd19sZWZ0XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvTGluaz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTdGFydFRocmVhZEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWFsaWduZWQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnN0YXJ0VGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgY2hhdFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiU3RhcnQgdGhyZWFkXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWFya0FzUmVhZEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm1hcmtBc1JlYWR9XG4gICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHBsYXlsaXN0X2FkZF9jaGVja1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiTWFyayBhcyByZWFkXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29tcGFjdE5hdlRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5saXN0cy5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPERyb3Bkb3duVG9nZ2xlIHRvZ2dsZU5hdj17dGhpcy5wcm9wcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duPXt0aGlzLnByb3BzLmRyb3Bkb3dufSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFRhYnNOYXYoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUubGlzdHMubGVuZ3RoID4gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxUYWJzTmF2IGJhc2VVcmw9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgICAgICAgICAgICBsaXN0cz17dGhpcy5wcm9wcy5yb3V0ZS5saXN0c30gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUubGlzdHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuICdwYWdlLWhlYWRlciB0YWJiZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3BhZ2UtaGVhZGVyJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICB7dGhpcy5nZXRHb0JhY2tCdXR0b24oKX1cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInB1bGwtbGVmdFwiPnt0aGlzLnByb3BzLnRpdGxlfTwvaDE+XG5cbiAgICAgICAge3RoaXMuZ2V0U3RhcnRUaHJlYWRCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TWFya0FzUmVhZEJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRDb21wYWN0TmF2VG9nZ2xlKCl9XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RoaXMuZ2V0VGFic05hdigpfVxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubGlzdC50eXBlID09PSAnYWxsJykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkuc3BlY2lhbF9yb2xlXG4gICAgICAgICAgICA/IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBvbiB0aGlzIGZvcnVtLi4uIHlldCFcIilcbiAgICAgICAgICAgIDogZ2V0dGV4dChcIlRoZXJlIGFyZSBubyB0aHJlYWRzIGluIHRoaXMgY2F0ZWdvcnkuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiV2h5IG5vdCBzdGFydCBvbmUgeW91cnNlbGY/XCIpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAge2dldHRleHQoXCJObyB0aHJlYWRzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYSB3ZXJlIGZvdW5kLlwiKX1cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEVycm9yc01vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lcmdlVGhyZWFkcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbWVyZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb3ZlVGhyZWFkcyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbW92ZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ291bnRkb3duIGZyb20gJ21pc2Fnby91dGlscy9jb3VudGRvd24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNhbGxBcGkgPSAob3BzLCBzdWNjZXNzTWVzc2FnZSwgb25TdWNjZXNzPW51bGwpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCBjb3VudGRvd24gPSBuZXcgQ291bnRkb3duKCgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSk7XG4gICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMucHJvcHMudGhyZWFkcy5sZW5ndGgpO1xuXG4gICAgLy8gdXBkYXRlIHRocmVhZCBhY2wgdG9nZXRoZXIgd2l0aCBpdHMgc3RhdGVcbiAgICBvcHMucHVzaCh7b3A6ICdhZGQnLCBwYXRoOiAnYWNsJywgdmFsdWU6IHRydWV9KTtcblxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG5cbiAgICAgIGFqYXgucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgb3BzKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMudXBkYXRlVGhyZWFkKGRhdGEpO1xuICAgICAgICBjb3VudGRvd24uY291bnQoKTtcbiAgICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgIHRocmVhZDogdGhyZWFkLFxuICAgICAgICAgIGVycm9yczogW3JlamVjdGlvbi5kZXRhaWxdXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvdW50ZG93bi5jb3VudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAyXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBwaW5uZWQgZ2xvYmFsbHkuXCIpKTtcbiAgfTtcblxuICBwaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgcGlubmVkIGxvY2FsbHkuXCIpKTtcbiAgfTtcblxuICB1bnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHVucGlubmVkLlwiKSk7XG4gIH07XG5cbiAgYXBwcm92ZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtdW5hcHByb3ZlZCcsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgYXBwcm92ZWQuXCIpKTtcbiAgfTtcblxuICBvcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIG9wZW5lZC5cIikpO1xuICB9O1xuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1jbG9zZWQnLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgY2xvc2VkLlwiKSk7XG4gIH07XG5cbiAgdW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1oaWRkZW4nLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHVuaGlkZGVuLlwiKSk7XG4gIH07XG5cbiAgaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtaGlkZGVuJyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGhpZGRlbi5cIikpO1xuICB9O1xuXG4gIG1vdmUgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlVGhyZWFkcyBjYWxsQXBpPXt0aGlzLmNhbGxBcGl9XG4gICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgKTtcbiAgfTtcblxuICBtZXJnZSA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21lcmdlKSB7XG4gICAgICAgIGVycm9ycy5hcHBlbmQoe1xuICAgICAgICAgICdpZCc6IHRocmVhZC5pZCxcbiAgICAgICAgICAndGl0bGUnOiB0aHJlYWQudGl0bGUsXG4gICAgICAgICAgJ2Vycm9ycyc6IFtcbiAgICAgICAgICAgIGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIG1lcmdlIHRoaXMgdGhyZWFkIHdpdGggb3RoZXJzLlwiKVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oXG4gICAgICAgIGdldHRleHQoXCJZb3UgaGF2ZSB0byBzZWxlY3QgYXQgbGVhc3QgdHdvIHRocmVhZHMgdG8gbWVyZ2UuXCIpKTtcbiAgICB9IGVsc2UgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17ZXJyb3JzfSAvPik7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGFsLnNob3coPE1lcmdlVGhyZWFkcyB7Li4udGhpcy5wcm9wc30gLz4pO1xuICAgIH1cbiAgfTtcblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHNlbGVjdGVkIHRocmVhZHM/XCIpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGNvdW50ZG93biA9IG5ldyBDb3VudGRvd24oKCkgPT4ge1xuICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBkZWxldGVkLlwiKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVuZnJlZXplIG5vbi1kZWxldGVkIHRocmVhZHNcbiAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZWR1Y2Ugc2VsZWN0aW9uIHRvIG5vbi1kZWxldGVkIHRocmVhZHNcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwodGhpcy5wcm9wcy50aHJlYWRzLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgICAgfSkpKTtcbiAgICB9LCB0aGlzLnByb3BzLnRocmVhZHMubGVuZ3RoKTtcblxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG5cbiAgICAgIGFqYXguZGVsZXRlKHRocmVhZC5hcGkuaW5kZXgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICAgICAgY291bnRkb3duLmNvdW50KCk7XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0aHJlYWQ6IHRocmVhZCxcbiAgICAgICAgICBlcnJvcnM6IFtyZWplY3Rpb24uZGV0YWlsXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb3VudGRvd24uY291bnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFBpbkdsb2JhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbiA9PSAyKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX0+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gdGhyZWFkcyBnbG9iYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluID4gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluTG9jYWxseX0+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gdGhyZWFkcyBsb2NhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluID4gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudW5waW59PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fbW92ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZX0+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9tZXJnZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubWVyZ2V9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fYXBwcm92ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX0+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vcGVufT5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9wZW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZX0+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5oaWRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2hpZGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVuaGlkZX0+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEhpZGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5faGlkZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGlkZX0+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5faGlkZSA9PSAyKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5kZWxldGV9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICB7dGhpcy5nZXRQaW5HbG9iYWxseUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0UGluTG9jYWxseUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0VW5waW5CdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE1vdmVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE1lcmdlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRBcHByb3ZlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRPcGVuQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRDbG9zZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0VW5oaWRlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRIaWRlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXREZWxldGVCdXR0b24oKX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZEVycm9ycyhwcm9wcykge1xuICByZXR1cm4gPGxpPlxuICAgIDxoNT57cHJvcHMudGhyZWFkLnRpdGxlfTwvaDU+XG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pdGVtLWVycm9yc1wiPlxuICAgICAge3Byb3BzLmVycm9ycy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxsaSBrZXk9e2l9PntpdGVtfTwvbGk+XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICA8L2xpPjtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIlxuICAgICAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlRocmVhZHMgbW9kZXJhdGlvblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkVycm9ycyB3ZXJlIGVuY291bnRlcmVkIHdoZW4gcGVyZm9ybWluZyBtb2RlcmF0aW9uIGFjdGlvbiBvbiBvbmUgb3IgbW9yZSB0aHJlYWRzOlwiKX1cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWVycm9yZWQtaXRlbXNcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmVycm9ycy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIDxUaHJlYWRFcnJvcnNcbiAgICAgICAgICAgICAgICBlcnJvcnM9e2l0ZW0uZXJyb3JzfVxuICAgICAgICAgICAgICAgIGtleT17aXRlbS50aHJlYWQuaWR9XG4gICAgICAgICAgICAgICAgdGhyZWFkPXtpdGVtLnRocmVhZH1cbiAgICAgICAgICAgICAgLz47XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3VsPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGZpbHRlclRocmVhZHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBFcnJvcnNNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkKClcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLmFjbCA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzKSB7XG4gICAgICBpZiAoIXByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjbCA9IHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXNbaV07XG4gICAgICB0aGlzLmFjbFthY2wuaWRdID0gYWNsO1xuICAgIH1cblxuICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzID0gW107XG4gICAgcHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LmxldmVsID4gMCkge1xuICAgICAgICBjb25zdCBhY2wgPSB0aGlzLmFjbFtjYXRlZ29yeS5pZF07XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fCAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsIC0gMSxcbiAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eV9vZmYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogZmFsc2UsXG4gICAgICAgICdpY29uJzogJ2xvY2tfb3V0bGluZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogdHJ1ZSxcbiAgICAgICAgJ2ljb24nOiAnbG9jaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnTUVSR0VfVEhSRUFEU19BUEknKSwge1xuICAgICAgdG9wX2NhdGVnb3J5OiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkLFxuICAgICAgdGhyZWFkczogdGhpcy5wcm9wcy50aHJlYWRzLm1hcCgodGhyZWFkKSA9PiB0aHJlYWQuaWQpLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIC8vIHVuZnJlZXplIGFuZCByZW1vdmUgbWVyZ2VkIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICB9KTtcblxuICAgIC8vIGRlc2VsZWN0IGFsbCB0aHJlYWRzXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSk7XG5cbiAgICAvLyBhcHBlbmQgbWVyZ2VkIHRocmVhZCwgZmlsdGVyIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLmFkZFRocmVhZHMoW2FwaVJlc3BvbnNlXSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApKTtcblxuICAgIC8vIGhpZGUgbW9kYWxcbiAgICBtb2RhbC5oaWRlKCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAncmVtb3ZlJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIiksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdib29rbWFya19ib3JkZXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIiksXG4gICAgICB9XG4gICAgXTtcblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmsnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXM7XG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3ZWlnaHQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGRlbicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19jbG9zZWQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJGb3JtKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX0+XG4gICAgICAgICAgPGlucHV0IGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndGl0bGUnKX1cbiAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9PlxuICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuY2F0ZWdvcnlDaG9pY2VzfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyQ2FudE1lcmdlTWVzc2FnZSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRocmVhZHMgYmVjYXVzZSB0aGVyZSBhcmUgbm8gY2F0ZWdvcmllcyB5b3UgYXJlIGFsbG93ZWQgdG8gbW92ZSB0aGVtIHRvLlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBuZWVkIHBlcm1pc3Npb24gdG8gc3RhcnQgdGhyZWFkcyBpbiBjYXRlZ29yeSB0byBiZSBhYmxlIHRvIG1lcmdlIHRocmVhZHMgdG8gaXQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiAnbW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9PlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3J5ID8gdGhpcy5yZW5kZXJGb3JtKCkgOiB0aGlzLnJlbmRlckNhbnRNZXJnZU1lc3NhZ2UoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZmlsdGVyVGhyZWFkcyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgIH07XG5cbiAgICBjb25zdCBhY2xzID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWNsID0gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllc1tpXTtcbiAgICAgIGFjbHNbYWNsLmlkXSA9IGFjbDtcbiAgICB9XG5cbiAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcyA9IFtdO1xuICAgIHByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5sZXZlbCA+IDApIHtcbiAgICAgICAgY29uc3QgYWNsID0gYWNsc1tjYXRlZ29yeS5pZF07XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fCAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsIC0gMSxcbiAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGhhbmRsZVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgIC8vIHdlIGRvbid0IHJlbG9hZCBwYWdlIG9uIHN1Ym1pc3Npb25zXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIGNvbnN0IG9uU3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBmaWx0ZXJUaHJlYWRzKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnksIHRoaXMucHJvcHMuY2F0ZWdvcmllc01hcCkpO1xuXG4gICAgICAvLyBkZXNlbGVjdCB0aHJlYWRzIG1vdmVkIG91dHNpZGUgb2YgdmlzaWJsZSBzY29wZVxuICAgICAgY29uc3Qgc3RvcmVTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBjb25zdCBsZWZ0VGhyZWFkcyA9IHN0b3JlU3RhdGUudGhyZWFkcy5tYXAoKHRocmVhZCkgPT4gKHRocmVhZC5pZCkpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0LmFsbChzdG9yZVN0YXRlLnNlbGVjdGlvbi5maWx0ZXIoKHRocmVhZCkgPT4ge1xuICAgICAgICByZXR1cm4gbGVmdFRocmVhZHMuaW5kZXhPZih0aHJlYWQpICE9PSAtMTtcbiAgICAgIH0pKSk7XG4gICAgfTtcblxuICAgIHRoaXMucHJvcHMuY2FsbEFwaShbXG4gICAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ2NhdGVnb3J5JywgdmFsdWU6IHRoaXMuc3RhdGUuY2F0ZWdvcnl9LFxuICAgICAge29wOiAnYWRkJywgcGF0aDogJ3RvcC1jYXRlZ29yeScsIHZhbHVlOiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkfSxcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnZmxhdHRlbi1jYXRlZ29yaWVzJywgdmFsdWU6IG51bGx9LFxuICAgICAge29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiB0cnVlfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgbW92ZWQuXCIpLCBvblN1Y2Nlc3MpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiAnbW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRm9ybSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX25ld19jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9uZXdfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2NhdGVnb3J5Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmNhdGVnb3J5Q2hvaWNlc30gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXJDYW50TW92ZU1lc3NhZ2UoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aHJlYWRzIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGNhdGVnb3JpZXMgeW91IGFyZSBhbGxvd2VkIHRvIG1vdmUgdGhlbSB0by5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIHN0YXJ0IHRocmVhZHMgaW4gY2F0ZWdvcnkgdG8gYmUgYWJsZSB0byBtb3ZlIHRocmVhZHMgdG8gaXQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3J5ID8gdGhpcy5yZW5kZXJGb3JtKCkgOiB0aGlzLnJlbmRlckNhbnRNb3ZlTWVzc2FnZSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2VsZWN0QWxsID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwodGhpcy5wcm9wcy50aHJlYWRzLm1hcChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICAgIHJldHVybiB0aHJlYWQuaWQ7XG4gICAgfSkpKTtcbiAgfTtcblxuICBzZWxlY3ROb25lID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0QWxsfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGFsbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3ROb25lfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94X291dGxpbmVfYmxhbms8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTZWxlY3Qgbm9uZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xpJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuLy8ganNoaW50IGlnbm9yZTpzdGFydFxubGV0IG5hdkxpbmtzID0gZnVuY3Rpb24oYmFzZVVybCwgYWN0aXZlLCBsaXN0cywgaGlkZU5hdikge1xuICAgIHJldHVybiBsaXN0cy5tYXAoZnVuY3Rpb24obGlzdCkge1xuICAgICAgcmV0dXJuIDxMaSBpc0NvbnRyb2xsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtsaXN0LnBhdGggPT09IGFjdGl2ZS5wYXRofVxuICAgICAgICAgICAgICAgICBrZXk9e2Jhc2VVcmwgKyBsaXN0LnBhdGh9PlxuICAgICAgICA8TGluayB0bz17YmFzZVVybCArIGxpc3QucGF0aH0gb25DbGljaz17aGlkZU5hdn0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGhpZGRlbi1zbVwiPntsaXN0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi1tZCBoaWRkZW4tbGdcIj57bGlzdC5sb25nTmFtZX08L3NwYW4+XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvTGk+O1xuICB9KTtcbn07XG4vLyBqc2hpbnQgaWdub3JlOmVuZFxuXG5leHBvcnQgY2xhc3MgVGFic05hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCI+XG4gICAgICAgICAge25hdkxpbmtzKHRoaXMucHJvcHMuYmFzZVVybCwgdGhpcy5wcm9wcy5saXN0LCB0aGlzLnByb3BzLmxpc3RzLCB0aGlzLnByb3BzLmhpZGVOYXYpfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3ROYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICB7bmF2TGlua3ModGhpcy5wcm9wcy5iYXNlVXJsLCB0aGlzLnByb3BzLmxpc3QsIHRoaXMucHJvcHMubGlzdHMsIHRoaXMucHJvcHMuaGlkZU5hdil9XG4gICAgPC91bD47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufSIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUm91dGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb3V0ZSc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAnc2VsZWN0aW9uJzogc3RvcmUuc2VsZWN0aW9uLFxuICAgICd0aHJlYWRzJzogc3RvcmUudGhyZWFkcyxcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdHModXNlcikge1xuICBsZXQgbGlzdHMgPSBbXG4gICAge1xuICAgICAgdHlwZTogJ2FsbCcsXG4gICAgICBwYXRoOiAnJyxcbiAgICAgIG5hbWU6IGdldHRleHQoXCJBbGxcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIkFsbCB0aHJlYWRzXCIpXG4gICAgfVxuICBdO1xuXG4gIGlmICh1c2VyLmlkKSB7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAnbXknLFxuICAgICAgcGF0aDogJ215LycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiTXlcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIk15IHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICduZXcnLFxuICAgICAgcGF0aDogJ25ldy8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIk5ld1wiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiTmV3IHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICd1bnJlYWQnLFxuICAgICAgcGF0aDogJ3VucmVhZC8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIlVucmVhZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiVW5yZWFkIHRocmVhZHNcIilcbiAgICB9KTtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICdzdWJzY3JpYmVkJyxcbiAgICAgIHBhdGg6ICdzdWJzY3JpYmVkLycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZCB0aHJlYWRzXCIpXG4gICAgfSk7XG5cbiAgICBpZiAodXNlci5hY2wuY2FuX3NlZV91bmFwcHJvdmVkX2NvbnRlbnRfbGlzdHMpIHtcbiAgICAgIGxpc3RzLnB1c2goe1xuICAgICAgICB0eXBlOiAndW5hcHByb3ZlZCcsXG4gICAgICAgIHBhdGg6ICd1bmFwcHJvdmVkLycsXG4gICAgICAgIG5hbWU6IGdldHRleHQoXCJVbmFwcHJvdmVkXCIpLFxuICAgICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlVuYXBwcm92ZWQgY29udGVudFwiKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxpc3RzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHModXNlcikge1xuICBsZXQgbGlzdHMgPSBnZXRMaXN0cyh1c2VyKTtcbiAgbGV0IHJvdXRlcyA9IFtdO1xuICBsZXQgY2F0ZWdvcmllc01hcCA9IHt9O1xuXG4gIG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVMnKS5mb3JFYWNoKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgbGlzdHMuZm9yRWFjaChmdW5jdGlvbihsaXN0KSB7XG4gICAgICBjYXRlZ29yaWVzTWFwW2NhdGVnb3J5LmlkXSA9IGNhdGVnb3J5O1xuICAgICAgcm91dGVzLnB1c2goe1xuICAgICAgICBwYXRoOiBjYXRlZ29yeS5hYnNvbHV0ZV91cmwgKyBsaXN0LnBhdGgsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKSxcblxuICAgICAgICBjYXRlZ29yaWVzOiBtaXNhZ28uZ2V0KCdDQVRFR09SSUVTJyksXG4gICAgICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgICAgIGNhdGVnb3J5LFxuXG4gICAgICAgIGxpc3RzLFxuICAgICAgICBsaXN0XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvdXRlcztcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbXBhcmVHbG9iYWxXZWlnaHQsIGNvbXBhcmVXZWlnaHQgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDb250YWluZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb250YWluZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IENvbXBhY3ROYXYgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL25hdnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGRpZmZUaHJlYWRzLCBnZXRNb2RlcmF0aW9uQWN0aW9ucywgZ2V0UGFnZVRpdGxlLCBnZXRUaXRsZSB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvdXRpbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWRzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3Qvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRocmVhZHNMaXN0RW1wdHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBhcHBlbmQsIGRlbGV0ZVRocmVhZCwgaHlkcmF0ZSwgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCAqIGFzIHNldHMgZnJvbSAnbWlzYWdvL3V0aWxzL3NldHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc01vdW50ZWQ6IHRydWUsXG5cbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIGRpZmY6IHtcbiAgICAgICAgcmVzdWx0czogW11cbiAgICAgIH0sXG5cbiAgICAgIG1vZGVyYXRpb246IFtdLFxuICAgICAgYnVzeVRocmVhZHM6IFtdLFxuXG4gICAgICBkcm9wZG93bjogZmFsc2UsXG4gICAgICBzdWJjYXRlZ29yaWVzOiBbXSxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9O1xuXG4gICAgbGV0IGNhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeSgpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1RIUkVBRFMnKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEoY2F0ZWdvcnksIG1pc2Fnby5nZXQoJ1RIUkVBRFMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKGNhdGVnb3J5KTtcbiAgICB9XG4gIH1cblxuICBnZXRDYXRlZ29yeSgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuc3BlY2lhbF9yb2xlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGNhdGVnb3J5LCBkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZSwge1xuICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoZGF0YS5yZXN1bHRzKSxcblxuICAgICAgc3ViY2F0ZWdvcmllczogZGF0YS5zdWJjYXRlZ29yaWVzLFxuXG4gICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKGNhdGVnb3J5KTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YShjYXRlZ29yeSkge1xuICAgIHRoaXMubG9hZFRocmVhZHMoY2F0ZWdvcnkpO1xuICB9XG5cbiAgbG9hZFRocmVhZHMoY2F0ZWdvcnksIHBhZ2U9MSkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRFNfQVBJJyksIHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgIGxpc3Q6IHRoaXMucHJvcHMucm91dGUubGlzdC50eXBlLFxuICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgfSwgJ3RocmVhZHMnKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIC8vIHVzZXIgY2hhbmdlZCByb3V0ZSBiZWZvcmUgbG9hZGluZyBjb21wbGV0aW9uXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMsIHRoaXMuZ2V0U29ydGluZygpKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgICBtb2RlcmF0aW9uOiBnZXRNb2RlcmF0aW9uQWN0aW9ucyhzdG9yZS5nZXRTdGF0ZSgpLnRocmVhZHMpLFxuXG4gICAgICAgIHN1YmNhdGVnb3JpZXM6IGRhdGEuc3ViY2F0ZWdvcmllcyxcblxuICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZyhjYXRlZ29yeSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhjYXRlZ29yeSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICd0aHJlYWRzJyxcbiAgICAgIHVybDogbWlzYWdvLmdldCgnVEhSRUFEU19BUEknKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICBsaXN0OiB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZVxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy5wb2xsUmVzcG9uc2VcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVEhSRUFEUycpKSB7XG4gICAgICAvLyB1bmxpa2UgaW4gb3RoZXIgY29tcG9uZW50cywgcm91dGVzIGFyZSByb290IGNvbXBvbmVudHMgZm9yIHRocmVhZHNcbiAgICAgIC8vIHNvIHdlIGNhbid0IGRpc3BhdGNoIHN0b3JlIGFjdGlvbiBmcm9tIGNvbnN0cnVjdG9yXG4gICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKG1pc2Fnby5wb3AoJ1RIUkVBRFMnKS5yZXN1bHRzKSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0YXRlLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgIHBvbGxzLnN0b3AoJ3RocmVhZHMnKTtcbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIHJldHVybiBnZXRUaXRsZSh0aGlzLnByb3BzLnJvdXRlKTtcbiAgfVxuXG4gIHNldFBhZ2VUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCB8fCAhbWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgICB0aXRsZS5zZXQoZ2V0UGFnZVRpdGxlKHRoaXMucHJvcHMucm91dGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0U29ydGluZygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5zcGVjaWFsX3JvbGUpIHtcbiAgICAgIHJldHVybiBjb21wYXJlR2xvYmFsV2VpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29tcGFyZVdlaWdodDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cbiAgLy8gQUpBWFxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRUaHJlYWRzKHRoaXMuZ2V0Q2F0ZWdvcnkoKSwgdGhpcy5zdGF0ZS5wYWdlICsgMSk7XG4gIH07XG5cbiAgcG9sbFJlc3BvbnNlID0gKGRhdGEpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRpZmY6IE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIHtcbiAgICAgICAgcmVzdWx0czogZGlmZlRocmVhZHModGhpcy5wcm9wcy50aHJlYWRzLCBkYXRhLnJlc3VsdHMpXG4gICAgICB9KVxuICAgIH0pO1xuICB9O1xuXG4gIGFkZFRocmVhZHMgPSAodGhyZWFkcykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZCh0aHJlYWRzLCB0aGlzLmdldFNvcnRpbmcoKSkpO1xuICB9O1xuXG4gIGFwcGx5RGlmZiA9ICgpID0+IHtcbiAgICB0aGlzLmFkZFRocmVhZHModGhpcy5zdGF0ZS5kaWZmLnJlc3VsdHMpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZShPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmRpZmYsIHtcbiAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKHN0b3JlLmdldFN0YXRlKCkudGhyZWFkcyksXG5cbiAgICAgIGRpZmY6IHtcbiAgICAgICAgcmVzdWx0czogW11cbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgLy8gVGhyZWFkIHN0YXRlIHV0aWxzXG5cbiAgZnJlZXplVGhyZWFkID0gKHRocmVhZCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24oY3VycmVudFN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXN5VGhyZWFkczogc2V0cy50b2dnbGUoY3VycmVudFN0YXRlLmJ1c3lUaHJlYWRzLCB0aHJlYWQpXG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIHVwZGF0ZVRocmVhZCA9ICh0aHJlYWQpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh0aHJlYWQsIHRocmVhZCwgdGhpcy5nZXRTb3J0aW5nKCkpKTtcbiAgfTtcblxuICBkZWxldGVUaHJlYWQgPSAodGhyZWFkKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZGVsZXRlVGhyZWFkKHRocmVhZCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENvbXBhY3ROYXYoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUubGlzdHMubGVuZ3RoID4gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENvbXBhY3ROYXZDbGFzc05hbWUoKX0+XG4gICAgICAgIDxDb21wYWN0TmF2IGJhc2VVcmw9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgIGxpc3RzPXt0aGlzLnByb3BzLnJvdXRlLmxpc3RzfVxuICAgICAgICAgICAgICAgICAgICBoaWRlTmF2PXt0aGlzLmhpZGVOYXZ9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1vcmUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvbiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeSB8fCB0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNob3cgbW9yZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9ICdwYWdlIHBhZ2UtdGhyZWFkcyc7XG4gICAgY2xhc3NOYW1lICs9ICcgcGFnZS10aHJlYWRzLScgKyB0aGlzLnByb3BzLnJvdXRlLmxpc3Q7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBwYWdlLScgKyB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cblxuICAgICAgPEhlYWRlciBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgICAgICB0b2dnbGVOYXY9e3RoaXMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuXG4gICAgICB7dGhpcy5nZXRDb21wYWN0TmF2KCl9XG5cbiAgICAgIDxDb250YWluZXIgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuXG4gICAgICAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICAgICAgICAgdGhyZWFkc0NvdW50PXt0aGlzLnN0YXRlLmNvdW50fVxuXG4gICAgICAgICAgICAgICAgIG1vZGVyYXRpb249e3RoaXMuc3RhdGUubW9kZXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cblxuICAgICAgICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc31cbiAgICAgICAgICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5hZGRUaHJlYWRzfVxuICAgICAgICAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMudXBkYXRlVGhyZWFkfVxuXG4gICAgICAgICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fT5cblxuICAgICAgICA8VGhyZWFkc0xpc3QgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cblxuICAgICAgICAgICAgICAgICAgICAgZGlmZlNpemU9e3RoaXMuc3RhdGUuZGlmZi5yZXN1bHRzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgIGFwcGx5RGlmZj17dGhpcy5hcHBseURpZmZ9XG5cbiAgICAgICAgICAgICAgICAgICAgIHNob3dPcHRpb25zPXshIXRoaXMucHJvcHMudXNlci5pZH1cblxuICAgICAgICAgICAgICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc30+XG4gICAgICAgICAgPFRocmVhZHNMaXN0RW1wdHkgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fSAvPlxuICAgICAgICA8L1RocmVhZHNMaXN0PlxuXG4gICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cblxuICAgICAgPC9Db250YWluZXI+XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5UGlja2VyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY2F0ZWdvcnktcGlja2VyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kZXJhdGlvbkNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9jb250cm9scyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdGlvbkNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDYXRlZ29yeVBpY2tlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+XG4gICAgICAgIDxDYXRlZ29yeVBpY2tlciBjaG9pY2VzPXt0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzaG93TW9kZXJhdGlvbk9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudXNlci5pZCAmJiB0aGlzLnByb3BzLm1vZGVyYXRpb24uYWxsb3c7XG4gIH1cblxuICBnZXRTZWxlY3Rpb25CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHQgZHJvcGRvd25cIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc2VsZWN0X2FsbFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPFNlbGVjdGlvbkNvbnRyb2xzIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9IC8+XG5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFNlbGVjdGVkVGhyZWFkcygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy50aHJlYWRzLmZpbHRlcigodGhyZWFkKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3Rpb24uaW5kZXhPZih0aHJlYWQuaWQpID49IDA7XG4gICAgfSk7XG4gIH1cblxuICBnZXRNb2RlcmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnNob3dNb2RlcmF0aW9uT3B0aW9ucygpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgIXRoaXMucHJvcHMuc2VsZWN0aW9uLmxlbmd0aH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc2V0dGluZ3NcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5wcm9wcy5mcmVlemVUaHJlYWR9XG4gICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5wcm9wcy5tb2RlcmF0aW9ufVxuICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMuZ2V0U2VsZWN0ZWRUaHJlYWRzKCl9XG4gICAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnByb3BzLnVwZGF0ZVRocmVhZH1cbiAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgIC8+XG5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhciB3aXRoLWpzXCI+XG4gICAgICB7dGhpcy5nZXRDYXRlZ29yeVBpY2tlcigpfVxuICAgICAgPHAgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0IGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L3A+XG4gICAgICB7dGhpcy5nZXRTZWxlY3Rpb25CdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VUaXRsZShyb3V0ZSkge1xuICBpZiAocm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZSxcbiAgICAgICAgcGFyZW50OiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUuY2F0ZWdvcnkubmFtZVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZSxcbiAgICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVGhyZWFkc1wiKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IGdldHRleHQoXCJUaHJlYWRzXCIpXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGUocm91dGUpIHtcbiAgaWYgKHJvdXRlLmNhdGVnb3J5LmxldmVsKSB7XG4gICAgcmV0dXJuIHJvdXRlLmNhdGVnb3J5Lm5hbWU7XG4gIH0gZWxzZSBpZiAobWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGUpIHtcbiAgICAgIHJldHVybiBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9uYW1lO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIlRocmVhZHNcIik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGhyZWFkQ2hhbmdlZChjdXJyZW50LCBmcm9tRGIpIHtcbiAgcmV0dXJuIFtcbiAgICBjdXJyZW50LnRpdGxlID09PSBmcm9tRGIudGl0bGUsXG4gICAgY3VycmVudC53ZWlnaHQgPT09IGZyb21EYi53ZWlnaHQsXG4gICAgY3VycmVudC5jYXRlZ29yeSA9PT0gZnJvbURiLmNhdGVnb3J5LFxuICAgIGN1cnJlbnQudG9wX2NhdGVnb3J5ID09PSBmcm9tRGIudG9wX2NhdGVnb3J5LFxuICAgIGN1cnJlbnQubGFzdF9wb3N0ID09PSBmcm9tRGIubGFzdF9wb3N0LFxuICAgIGN1cnJlbnQubGFzdF9wb3N0ZXJfbmFtZSA9PT0gZnJvbURiLmxhc3RfcG9zdGVyX25hbWVcbiAgXS5pbmRleE9mKGZhbHNlKSA+PSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlmZlRocmVhZHMoY3VycmVudCwgZnJvbURiKSB7XG4gIGxldCBjdXJyZW50TWFwID0ge307XG4gIGN1cnJlbnQuZm9yRWFjaChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBjdXJyZW50TWFwW3RocmVhZC5pZF0gPSB0aHJlYWQ7XG4gIH0pO1xuXG4gIHJldHVybiBmcm9tRGIuZmlsdGVyKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGlmIChjdXJyZW50TWFwW3RocmVhZC5pZF0pIHtcbiAgICAgIHJldHVybiBpc1RocmVhZENoYW5nZWQoY3VycmVudE1hcFt0aHJlYWQuaWRdLCB0aHJlYWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZXJhdGlvbkFjdGlvbnModGhyZWFkcykge1xuICBsZXQgbW9kZXJhdGlvbiA9IHtcbiAgICBhbGxvdzogZmFsc2UsXG5cbiAgICBjYW5fYXBwcm92ZTogMCxcbiAgICBjYW5fY2xvc2U6IDAsXG4gICAgY2FuX2hpZGU6IDAsXG4gICAgY2FuX21lcmdlOiAwLFxuICAgIGNhbl9tb3ZlOiAwLFxuICAgIGNhbl9waW46IDBcbiAgfTtcblxuICB0aHJlYWRzLmZvckVhY2goZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgaWYgKHRocmVhZC5pc191bmFwcHJvdmVkICYmIHRocmVhZC5hY2wuY2FuX2FwcHJvdmUgPiBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlID0gdGhyZWFkLmFjbC5jYW5fYXBwcm92ZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fY2xvc2UgPiBtb2RlcmF0aW9uLmNhbl9jbG9zZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fY2xvc2UgPSB0aHJlYWQuYWNsLmNhbl9jbG9zZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5faGlkZSA+IG1vZGVyYXRpb24uY2FuX2hpZGUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2hpZGUgPSB0aHJlYWQuYWNsLmNhbl9oaWRlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9tZXJnZSA+IG1vZGVyYXRpb24uY2FuX21lcmdlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSA9IHRocmVhZC5hY2wuY2FuX21lcmdlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9tb3ZlID4gbW9kZXJhdGlvbi5jYW5fbW92ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fbW92ZSA9IHRocmVhZC5hY2wuY2FuX21vdmU7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX3BpbiA+IG1vZGVyYXRpb24uY2FuX3Bpbikge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluID0gdGhyZWFkLmFjbC5jYW5fcGluO1xuICAgIH1cblxuICAgIG1vZGVyYXRpb24uYWxsb3cgPSAoXG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5faGlkZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fbWVyZ2UgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX21vdmUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX3BpblxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiBtb2RlcmF0aW9uO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlZ2lzdGVyQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3JlZ2lzdGVyLWJ1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNpZ25Jbk1vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NpZ24taW4uanMnO1xuaW1wb3J0IGRyb3Bkb3duIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgY2xhc3MgR3Vlc3RNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd1NpZ25Jbk1vZGFsKCkge1xuICAgIG1vZGFsLnNob3coU2lnbkluTW9kYWwpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgdXNlci1kcm9wZG93biBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgICAgICAgIHJvbGU9XCJtZW51XCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZ3Vlc3QtcHJldmlld1wiPlxuICAgICAgICA8aDQ+e2dldHRleHQoXCJZb3UgYXJlIGJyb3dzaW5nIGFzIGd1ZXN0LlwiKX08L2g0PlxuICAgICAgICA8cD5cbiAgICAgICAgICB7Z2V0dGV4dCgnU2lnbiBpbiBvciByZWdpc3RlciB0byBzdGFydCBhbmQgcGFydGljaXBhdGUgaW4gZGlzY3Vzc2lvbnMuJyl9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH0+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuXG4gICAgICAgICAgICA8UmVnaXN0ZXJCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICAgICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHdWVzdE5hdiBleHRlbmRzIEd1ZXN0TWVudSB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibmF2IG5hdi1ndWVzdFwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIG5hdmJhci1idG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH0+XG4gICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPFJlZ2lzdGVyQnV0dG9uIGNsYXNzTmFtZT1cIm5hdmJhci1idG4gYnRuLXByaW1hcnlcIj5cbiAgICAgICAge2dldHRleHQoXCJSZWdpc3RlclwiKX1cbiAgICAgIDwvUmVnaXN0ZXJCdXR0b24+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RHdWVzdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dHdWVzdE1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvdyhHdWVzdE1lbnUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93R3Vlc3RNZW51fT5cbiAgICAgIDxBdmF0YXIgc2l6ZT1cIjY0XCIgLz5cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEd1ZXN0TmF2LCBDb21wYWN0R3Vlc3ROYXYgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLW1lbnUvZ3Vlc3QtbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBVc2VyTmF2LCBDb21wYWN0VXNlck5hdn0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1tZW51L3VzZXItbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gPFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxHdWVzdE5hdiAvPjtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiA8Q29tcGFjdFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxDb21wYWN0R3Vlc3ROYXYgLz47XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuYXV0aDtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VBdmF0YXJNb2RhbCwgeyBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgZHJvcGRvd24gZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24nO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5cbmV4cG9ydCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGxvZ291dCgpIHtcbiAgICBsZXQgZGVjaXNpb24gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2lnbiBvdXQ/XCIpKTtcbiAgICBpZiAoZGVjaXNpb24pIHtcbiAgICAgICQoJyNoaWRkZW4tbG9nb3V0LWZvcm0nKS5zdWJtaXQoKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VBdmF0YXIoKSB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQ2hhbmdlQXZhdGFyTW9kYWwpKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHVzZXItZHJvcGRvd24gZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgICAgICAgICByb2xlPVwibWVudVwiPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWhlYWRlclwiPlxuICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIudXNlcm5hbWV9PC9zdHJvbmc+XG4gICAgICA8L2xpPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YWNjb3VudF9jaXJjbGU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTZWUgeW91ciBwcm9maWxlXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyl9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lX2FsbDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBvcHRpb25zXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuY2hhbmdlQXZhdGFyfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cG9ydHJhaXQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2dvdXR9PlxuICAgICAgICAgICAge2dldHRleHQoXCJMb2cgb3V0XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cInVsIG5hdiBuYXZiYXItbmF2IG5hdi11c2VyXCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cbiAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgcm9sZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNjRcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICAgIDxVc2VyTWVudSB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFVzZXJNZW51KHN0YXRlKSB7XG4gIHJldHVybiB7dXNlcjogc3RhdGUuYXV0aC51c2VyfTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RVc2VyTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd1VzZXJNZW51KCkge1xuICAgIGRyb3Bkb3duLnNob3dDb25uZWN0ZWQoJ3VzZXItbWVudScsIGNvbm5lY3Qoc2VsZWN0VXNlck1lbnUpKFVzZXJNZW51KSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dVc2VyTWVudX0+XG4gICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT1cIjY0XCIgLz5cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzcygpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzQ2xhc3NOYW1lKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzcygpfT5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhdHVzSWNvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuICdyZW1vdmVfY2lyY2xlX291dGxpbmUnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2hlbHBfb3V0bGluZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2xhYmVsJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2xhYmVsX291dGxpbmUnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gJ2xlbnMnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgICAgcmV0dXJuICdwYW5vcmFtYV9maXNoX2V5ZSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBzdGF0dXMtaWNvblwiPlxuICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNMYWJlbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHAoKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJCYW5uZWRcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiSGlkZGVuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPbmxpbmUgKGhpZGRlbilcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPZmZsaW5lIChoaWRkZW4pXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9ubGluZVwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT2ZmbGluZVwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwic3RhdHVzLWxhYmVsXCJ9XG4gICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmdldEhlbHAoKX0+XG4gICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzQ2xhc3NOYW1lKHN0YXR1cykge1xuICBsZXQgY2xhc3NOYW1lID0gJyc7XG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgY2xhc3NOYW1lID0gJ2Jhbm5lZCc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvbmxpbmUnO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lKSB7XG4gICAgY2xhc3NOYW1lID0gJ29ubGluZSc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICBjbGFzc05hbWUgPSAnb2ZmbGluZSc7XG4gIH1cblxuICByZXR1cm4gJ3VzZXItc3RhdHVzIHVzZXItJyArIGNsYXNzTmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHVzZXIsIHN0YXR1cykge1xuICBpZiAoc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgIGlmIChzdGF0dXMuYmFubmVkX3VudGlsKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBiYW5uZWQgdW50aWwgJShiYW5fZXhwaXJlcylzXCIpLCB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICBiYW5fZXhwaXJlczogc3RhdHVzLmJhbm5lZF91bnRpbC5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgYmFubmVkXCIpLCB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGhpZGluZyBwcmVzZW5jZVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG9ubGluZSAoaGlkZGVuKVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzIChoaWRkZW4pXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBvbmxpbmVcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuT25Nb2JpbGUpIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtIGhpZGRlbi14cyBoaWRkZW4tc20nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoODAsIDE0MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyVXNlckF2YXRhcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxhIGhyZWY9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhci13cmFwcGVyXCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieX0gc2l6ZT1cIjEwMFwiIC8+XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIj5cbiAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclVzZXJuYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGEgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXNlcm5hbWV9XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnlfdXNlcm5hbWV9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCIga2V5PXt0aGlzLnByb3BzLmNoYW5nZS5pZH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj5cbiAgICAgICAge3RoaXMucmVuZGVyVXNlckF2YXRhcigpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdXRob3JcIj5cbiAgICAgICAge3RoaXMucmVuZGVyVXNlcm5hbWUoKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2VcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib2xkLXVzZXJuYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLm9sZF91c2VybmFtZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYXJyb3dfZm9yd2FyZFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ldy11c2VybmFtZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5uZXdfdXNlcm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtZGF0ZVwiPlxuICAgICAgICA8YWJiciB0aXRsZT17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mb3JtYXQoJ0xMTCcpfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mcm9tTm93KCl9XG4gICAgICAgIDwvYWJicj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmVtcHR5TWVzc2FnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJObyBuYW1lIGNoYW5nZXMgaGF2ZSBiZWVuIHJlY29yZGVkIGZvciB5b3VyIGFjY291bnQuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAge3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFuZ2VQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1wcmV2aWV3XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8Q2hhbmdlUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFuZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInVzZXJuYW1lLWhpc3RvcnkgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZXMubWFwKChjaGFuZ2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gPENoYW5nZSBjaGFuZ2U9e2NoYW5nZX0ga2V5PXtjaGFuZ2UuaWR9IC8+O1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtZW1wdHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXJlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgY2hhbmdlcz17dGhpcy5wcm9wcy5jaGFuZ2VzfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0RW1wdHkgZW1wdHlNZXNzYWdlPXt0aGlzLnByb3BzLmVtcHR5TWVzc2FnZX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVXNlckNhcmQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC91c2VyLWNhcmQnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3QvdXNlci1wcmV2aWV3JyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBiYXRjaCBmcm9tICdtaXNhZ28vdXRpbHMvYmF0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgcmV0dXJuIG5leHRQcm9wcy5pc0xvYWRlZDtcbiAgfVxuXG4gIGdldFBhZ2VyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhZ2VzID4gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxQYWdlciB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBcInVzZXJzLWNhcmRzLWxpc3QgXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIHVpLXJlYWR5XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcInVzZXJzLWNhcmRzLWxpc3QgdWktcmVhZHlcIjtcbiAgICB9XG4gIH1cblxuICBnZXRDb2xDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuIFwiY29sLW1kLVwiICsgKDEyIC8gdGhpcy5wcm9wcy5jb2xzKTtcbiAgfVxuXG4gIGdldEJvZHkoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiBiYXRjaCh0aGlzLnByb3BzLnVzZXJzLCB0aGlzLnByb3BzLmNvbHMpLm1hcCgocm93LCByKSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIGtleT17cn0+XG4gICAgICAgICAge3Jvdy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb2xDbGFzc05hbWUoKX0ga2V5PXt1c2VyLmlkfT5cbiAgICAgICAgICAgICAgPFVzZXJDYXJkIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzPXt0aGlzLnByb3BzLnNob3dTdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93UmFuaz17dGhpcy5wcm9wcy5zaG93UmFua30gLz5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+O1xuICAgICAgfSk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBsZXQgcm93ID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvcHMuY29sczsgaSArKykge1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHJvdy5wdXNoKHRoaXMuZ2V0Q29sQ2xhc3NOYW1lKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5wdXNoKHRoaXMuZ2V0Q29sQ2xhc3NOYW1lKCkgKyAnIGhpZGRlbi14cyBoaWRkZW4tc20nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge3Jvdy5tYXAoKGNsYXNzTmFtZSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBrZXk9e2l9PlxuICAgICAgICAgICAgPFVzZXJQcmV2aWV3IHNob3dTdGF0dXM9e3RoaXMucHJvcHMuc2hvd1N0YXR1c30gLz5cbiAgICAgICAgICA8L2Rpdj47XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInVzZXJzLWNhcmRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIHt0aGlzLmdldEJvZHkoKX1cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd1N0YXR1cykge1xuICAgICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPFN0YXR1cyB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30+XG4gICAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30gLz5cbiAgICAgICAgICA8U3RhdHVzTGFiZWwgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbFwiIC8+XG4gICAgICAgIDwvU3RhdHVzPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNob3dSYW5rKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VyLnJhbmsuaXNfdGFiKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5yYW5rLmFic29sdXRlX3VybH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgcmFuay1uYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMudXNlci5yYW5rLm5hbWV9XG4gICAgICAgIDwvYT47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHJhbmstbmFtZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXIucmFuay5uYW1lfVxuICAgICAgICA8L3NwYW4+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj57dGhpcy5wcm9wcy51c2VyLnRpdGxlfTwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VySm9pbmVkT24oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgb24gJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMudXNlci5qb2luZWRfb24uZm9ybWF0KCdMTCwgTFQnKVxuICAgIH0sIHRydWUpO1xuXG4gICAgbGV0IGFnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJKb2luZWQgJShqb2luZWRfb24pc1wiKSwge1xuICAgICAgJ2pvaW5lZF9vbic6IHRoaXMucHJvcHMudXNlci5qb2luZWRfb24uZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1qb2luZWQtb25cIiB0aXRsZT17dGl0bGV9PlxuICAgICAge2FnZX1cbiAgICA8L3NwYW4+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRQb3N0c0NvdW50KCkge1xuICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUocG9zdHMpcyBwb3N0XCIsXG4gICAgICBcIiUocG9zdHMpcyBwb3N0c1wiLFxuICAgICAgdGhpcy5wcm9wcy51c2VyLnBvc3RzKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAncG9zdHMnOiB0aGlzLnByb3BzLnVzZXIucG9zdHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFRocmVhZHNDb3VudCgpIHtcbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHRocmVhZHMpcyB0aHJlYWRcIixcbiAgICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkc1wiLFxuICAgICAgdGhpcy5wcm9wcy51c2VyLnRocmVhZHMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICd0aHJlYWRzJzogdGhpcy5wcm9wcy51c2VyLnRocmVhZHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldEZvbGxvd2Vyc0NvdW50KCkge1xuICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUoZm9sbG93ZXJzKXMgZm9sbG93ZXJcIixcbiAgICAgIFwiJShmb2xsb3dlcnMpcyBmb2xsb3dlcnNcIixcbiAgICAgIHRoaXMucHJvcHMudXNlci5mb2xsb3dlcnMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICdmb2xsb3dlcnMnOiB0aGlzLnByb3BzLnVzZXIuZm9sbG93ZXJzXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICd1c2VyLWNhcmQgdXNlci1jYXJkLScgKyB0aGlzLnByb3BzLnVzZXIucmFuay5jc3NfY2xhc3MgKyAnIHVpLXJlYWR5JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICd1c2VyLWNhcmQgdWktcmVhZHknO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWJnLWltYWdlXCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNDAwXCIgY2xhc3NOYW1lPVwiYmctaW1hZ2VcIiAvPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWJnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiPlxuICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2g0PlxuXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1c2VyLXN1YnNjcmlwdFwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgIHt0aGlzLmdldFJhbmtOYW1lKCl9XG4gICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VySm9pbmVkT24oKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXN0YXRzXCI+XG5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXBvc3RzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0UG9zdHNDb3VudCgpfVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci10aHJlYWRzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VGhyZWFkc0NvdW50KCl9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWZvbGxvd2Vycy1jb3VudFwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldEZvbGxvd2Vyc0NvdW50KCl9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd1N0YXR1cykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAmbmJzcDtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSd1c2VyLWNhcmQgdWktcHJldmlldyc+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1iZy1pbWFnZVwiPlxuICAgICAgICA8QXZhdGFyIHNpemU9XCI0MDBcIiBjbGFzc05hbWU9XCJiZy1pbWFnZVwiIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDYwLCAxNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVzZXItc3Vic2NyaXB0XCI+XG5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cblxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcG9zdHMtY291bnRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNDAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci10aHJlYWRzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDQwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItZm9sbG93ZXJzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDQwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJObyB1c2VycyBoYXZlIHBvc3RlZCBhbnkgbmV3IG1lc3NhZ2VzIGR1cmluZyBsYXN0ICUoZGF5cylzIGRheXMuXCIpLFxuICAgICAgeydkYXlzJzogdGhpcy5wcm9wcy50cmFja2VkUGVyaW9kfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyLWF2YXRhclwiPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0IGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwifX0+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua2VkIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsXCI+XG4gICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtcmFuay1cIiArIHRoaXMucHJvcHMucmFuay5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiO1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8U3RhdHVzIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfT5cbiAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9IC8+XG4gICAgICAgIDxTdGF0dXNMYWJlbCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgaGlkZGVuLXhzIGhpZGRlbi1zbVwiIC8+XG4gICAgICA8L1N0YXR1cz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1zdGF0dXNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJhbmsuaXNfdGFiKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBsZXQgcmFua1VybCA9IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyB0aGlzLnByb3BzLnJhbmsuc2x1ZyArICcvJztcbiAgICAgIHJldHVybiA8TGluayB0bz17cmFua1VybH0gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucmFuay5uYW1lfVxuICAgICAgPC9MaW5rPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWUgaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5yYW5rLm5hbWV9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnRpdGxlfVxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNTBcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1kZXRhaWxzXCI+XG4gICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgIHt0aGlzLmdldFJhbmtOYW1lKCl9XG4gICAgICAgICAge3RoaXMuZ2V0VXNlclRpdGxlKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICA8c3Ryb25nPiN7dGhpcy5wcm9wcy5jb3VudGVyfTwvc3Ryb25nPlxuICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLm1ldGEuc2NvcmV9PC9zdHJvbmc+XG4gICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy10b3RhbFwiPlxuICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIucG9zdHN9PC9zdHJvbmc+XG4gICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJdGVtUHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0tcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkIHVpLXByZXZpZXdcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDIyMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcHJldmlld1wiPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPEl0ZW1QcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGVhZE1lc3NhZ2UoKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHBvc3RlcnMpcyBtb3N0IGFjdGl2ZSBwb3N0ZXIgZnJvbSBsYXN0ICUoZGF5cylzIGRheXMuXCIsXG4gICAgICAgIFwiJShwb3N0ZXJzKXMgbW9zdCBhY3RpdmUgcG9zdGVycyBmcm9tIGxhc3QgJShkYXlzKXMgZGF5cy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy5jb3VudCk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgcG9zdGVyczogdGhpcy5wcm9wcy5jb3VudCxcbiAgICAgIGRheXM6IHRoaXMucHJvcHMudHJhY2tlZFBlcmlvZFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGVhZE1lc3NhZ2UoKX1cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcmVhZHlcIj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMudXNlcnMubWFwKCh1c2VyLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8TGlzdEl0ZW0gdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5rPXt1c2VyLnJhbmt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcj17aSArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfSAvPjtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtcmVhZHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVVNFUlMnKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnVVNFUlMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICB0cmFja2VkUGVyaW9kOiBkYXRhLnRyYWNrZWRfcGVyaW9kLFxuICAgICAgY291bnQ6IGRhdGEuY291bnRcbiAgICB9O1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZygpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAnYWN0aXZlLXBvc3RlcnMnLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGlzdDogJ2FjdGl2ZSdcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgdHJhY2tlZFBlcmlvZDogZGF0YS50cmFja2VkX3BlcmlvZCxcbiAgICAgIGNvdW50OiBkYXRhLmNvdW50XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLmV4dHJhLm5hbWUsXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcCgnYWN0aXZlLXBvc3RlcnMnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrZWRQZXJpb2Q9e3RoaXMuc3RhdGUudHJhY2tlZFBlcmlvZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ9e3RoaXMuc3RhdGUuY291bnR9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExpc3RQcmV2aWV3IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xpJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuLy8ganNoaW50IGlnbm9yZTpzdGFydFxubGV0IGxpc3RVcmwgPSBmdW5jdGlvbihiYXNlVXJsLCBsaXN0KSB7XG4gIGxldCB1cmwgPSBiYXNlVXJsO1xuICBpZiAobGlzdC5jb21wb25lbnQgPT09ICdyYW5rJykge1xuICAgIHVybCArPSBsaXN0LnNsdWc7XG4gIH0gZWxzZSB7XG4gICAgdXJsICs9IGxpc3QuY29tcG9uZW50O1xuICB9XG4gIHJldHVybiB1cmwgKyAnLyc7XG59O1xuXG5sZXQgbmF2TGlua3MgPSBmdW5jdGlvbihiYXNlVXJsLCBsaXN0cywgaGlkZU5hdikge1xuICAgIHJldHVybiBsaXN0cy5tYXAoZnVuY3Rpb24obGlzdCkge1xuICAgICAgbGV0IHVybCA9IGxpc3RVcmwoYmFzZVVybCwgbGlzdCk7XG4gICAgICByZXR1cm4gPExpIHBhdGg9e3VybH1cbiAgICAgICAgICAgICAgICAga2V5PXt1cmx9PlxuICAgICAgICA8TGluayB0bz17dXJsfSBvbkNsaWNrPXtoaWRlTmF2fT5cbiAgICAgICAgICB7bGlzdC5uYW1lfVxuICAgICAgICA8L0xpbms+XG4gICAgICA8L0xpPjtcbiAgfSk7XG59O1xuLy8ganNoaW50IGlnbm9yZTplbmRcblxuZXhwb3J0IGNsYXNzIFRhYnNOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiPlxuICAgICAge25hdkxpbmtzKHRoaXMucHJvcHMuYmFzZVVybCwgdGhpcy5wcm9wcy5saXN0cyl9XG4gICAgPC91bD47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgIHtuYXZMaW5rcyh0aGlzLnByb3BzLmJhc2VVcmwsIHRoaXMucHJvcHMubGlzdHMsIHRoaXMucHJvcHMuaGlkZU5hdil9XG4gICAgPC91bD47XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8VXNlcnNMaXN0IGlzTG9hZGVkPXtmYWxzZX0gY29scz17M30gc2hvd1N0YXR1cz17dHJ1ZX0gLz5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYWdlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL3BhZ2VyJyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9yb290JyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRQYWdlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYWdlcyA+IDEpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8UGFnZXIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFVzZXJzTGlzdCB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgICAgICAgICAgc2hvd1N0YXR1cz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgY29scz17M31cbiAgICAgICAgICAgICAgICAgaXNMb2FkZWQ9e3RydWV9IC8+XG5cbiAgICAgIHt0aGlzLmdldFBhZ2VyKCl9XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHJlc2V0U2Nyb2xsIGZyb20gJ21pc2Fnby91dGlscy9yZXNldC1zY3JvbGwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRQcmV2aW91c1BhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJldmlvdXMgfHwgdGhpcy5wcm9wcy5maXJzdCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgbGV0IHVybCA9IHRoaXMucHJvcHMuYmFzZVVybDtcbiAgICAgIGlmICh0aGlzLnByb3BzLnByZXZpb3VzKSB7XG4gICAgICAgIHVybCArPSB0aGlzLnByb3BzLnByZXZpb3VzICsgJy8nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInByZXZpb3VzXCI+XG4gICAgICAgIDxMaW5rIHRvPXt1cmx9IG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfT5cbiAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBhcnJvd19iYWNrXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE5leHRQYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm5leHQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIGxldCB1cmwgPSB0aGlzLnByb3BzLmJhc2VVcmwgKyB0aGlzLnByb3BzLm5leHQgKyAnLyc7XG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cIm5leHRcIj5cbiAgICAgICAgPExpbmsgdG89e3VybH0gb25DbGljaz17cmVzZXRTY3JvbGx9PlxuICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UHJvZ2Vzc0JhcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJwYWdlci1wcm9ncmVzcy1iYXJcIj5cbiAgICAgIHt0aGlzLnByb3BzLnBhZ2VfcmFuZ2UubWFwKChwYWdlKSA9PiB7XG4gICAgICAgIGxldCBjbGFzc05hbWUgPSBwYWdlID09PSB0aGlzLnByb3BzLnBhZ2UgPyAnYWN0aXZlJyA6IG51bGw7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLnByb3BzLmJhc2VVcmw7XG5cbiAgICAgICAgaWYgKHBhZ2UgPiAxKSB7XG4gICAgICAgICAgdXJsICs9IHBhZ2UgKyAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gPGxpIGtleT17cGFnZX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICAgIDxMaW5rIHRvPXt1cmx9IG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfT5cbiAgICAgICAgICAgIHtwYWdlfVxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9saT47XG4gICAgICB9KX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlci11bmRlcmNvbnRlbnRcIj5cbiAgICAgIDxuYXY+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJwYWdlclwiPlxuICAgICAgICAgIHt0aGlzLmdldFByZXZpb3VzUGFnZSgpfVxuICAgICAgICAgIHt0aGlzLmdldE5leHRQYWdlKCl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIHt0aGlzLmdldFByb2dlc3NCYXIoKX1cbiAgICAgIDwvbmF2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYWdlTGVhZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYWdlLWxlYWQnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0JyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0TG9hZGluZyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QtbG9hZGluZycgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1VTRVJTJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoJ1VTRVJTJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnBhcmFtcy5wYWdlIHx8IDEpO1xuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgIH0pO1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBzdGFydFBvbGxpbmcocGFnZSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICdyYW5rLXVzZXJzJyxcbiAgICAgIHVybDogbWlzYWdvLmdldCgnVVNFUlNfQVBJJyksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJhbms6IHRoaXMucHJvcHMucm91dGUucmFuay5pZCxcbiAgICAgICAgcGFnZTogcGFnZVxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB1cGRhdGUgPSAoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG5cbiAgICBkYXRhLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICB0aGlzLnNldFN0YXRlKGRhdGEpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLm5hbWUsXG4gICAgICBwYWdlOiB0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IG51bGwsXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcCgncmFuay11c2VycycpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSAhPT0gbmV4dFByb3BzLnBhcmFtcy5wYWdlKSB7XG4gICAgICB0aXRsZS5zZXQoe1xuICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLm5hbWUsXG4gICAgICAgIHBhZ2U6IG5leHRQcm9wcy5wYXJhbXMucGFnZSB8fCBudWxsLFxuICAgICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBwb2xscy5zdG9wKCdyYW5rLXVzZXJzJyk7XG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZyhuZXh0UHJvcHMucGFyYW1zLnBhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICdyYW5rLXVzZXJzLWxpc3QgcmFuay11c2Vycy0nICsgdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdyYW5rLXVzZXJzLWxpc3QnO1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmRlc2NyaXB0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJyYW5rLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgIDxQYWdlTGVhZCBjb3B5PXt0aGlzLnByb3BzLnJvdXRlLnJhbmsuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbXBvbmVudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgbGV0IGJhc2VVcmwgPSBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpICsgdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLnNsdWcgKyAnLyc7XG4gICAgICAgIHJldHVybiA8TGlzdCBiYXNlVXJsPXtiYXNlVXJsfVxuICAgICAgICAgICAgICAgICAgICAgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5zdGF0ZX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJUaGVyZSBhcmUgbm8gdXNlcnMgd2l0aCB0aGlzIHJhbmsgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TGlzdExvYWRpbmcgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIHt0aGlzLmdldFJhbmtEZXNjcmlwdGlvbigpfVxuICAgICAgICB7dGhpcy5nZXRDb21wb25lbnQoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgVGFic05hdiwgQ29tcGFjdE5hdiB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL25hdnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBY3RpdmVQb3N0ZXJzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSYW5rIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL3Jhbmsvcm9vdCc7XG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd24nO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXVzZXJzLWxpc3RzXCI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXIgdGFiYmVkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwicHVsbC1sZWZ0XCI+e2dldHRleHQoXCJVc2Vyc1wiKX08L2gxPlxuXG4gICAgICAgICAgPERyb3Bkb3duVG9nZ2xlIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duPXt0aGlzLnN0YXRlLmRyb3Bkb3dufSAvPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFicyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICAgICAgPFRhYnNOYXYgbGlzdHM9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RTJyl9XG4gICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpfSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCl9PlxuXG4gICAgICAgIDxDb21wYWN0TmF2IGxpc3RzPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUUycpfVxuICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpfVxuICAgICAgICAgICAgICAgICAgICBoaWRlTmF2PXt0aGlzLmhpZGVOYXZ9IC8+XG5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlcixcbiAgICAndXNlcnMnOiBzdG9yZS51c2Vyc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGxldCBwYXRocyA9IFtdO1xuXG4gIG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RTJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKGl0ZW0uY29tcG9uZW50ID09PSAncmFuaycpIHtcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpICsgaXRlbS5zbHVnICsgJy86cGFnZS8nLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSYW5rKSxcbiAgICAgICAgcmFuazogaXRlbVxuICAgICAgfSk7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSArIGl0ZW0uc2x1ZyArICcvJyxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUmFuayksXG4gICAgICAgIHJhbms6IGl0ZW1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXRlbS5jb21wb25lbnQgPT09ICdhY3RpdmUtcG9zdGVycycpe1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyBpdGVtLmNvbXBvbmVudCArICcvJyxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQWN0aXZlUG9zdGVycyksXG4gICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGhzO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkcm9wZG93bjogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB0b2dnbGVOYXYgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcm9wZG93bjogIXRoaXMuc3RhdGUuZHJvcGRvd25cbiAgICB9KTtcbiAgfTtcblxuICBoaWRlTmF2ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcGRvd246IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q29tcGFjdE5hdkNsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcm9wZG93bikge1xuICAgICAgcmV0dXJuICdjb21wYWN0LW5hdiBvcGVuJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdjb21wYWN0LW5hdic7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4teWVzLW5vIGJ0bi15ZXMtbm8tb25cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi15ZXMtbm8gYnRuLXllcy1uby1vZmZcIjtcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pY29uT24gfHwgJ2NoZWNrX2JveCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmljb25PZmYgfHwgJ2NoZWNrX2JveF9vdXRsaW5lX2JsYW5rJztcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWxPbiB8fCBnZXR0ZXh0KFwieWVzXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYWJlbE9mZiB8fCBnZXR0ZXh0KFwibm9cIik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB0b2dnbGUgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICB0YXJnZXQ6IHtcbiAgICAgICAgdmFsdWU6ICF0aGlzLnByb3BzLnZhbHVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10gfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgPC9idXR0b24+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgT3JkZXJlZExpc3QgZnJvbSAnbWlzYWdvL3V0aWxzL29yZGVyZWQtbGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBNaXNhZ28ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplcnMgPSBbXTtcbiAgICB0aGlzLl9jb250ZXh0ID0ge307XG4gIH1cblxuICBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcikge1xuICAgIHRoaXMuX2luaXRpYWxpemVycy5wdXNoKHtcbiAgICAgIGtleTogaW5pdGlhbGl6ZXIubmFtZSxcblxuICAgICAgaXRlbTogaW5pdGlhbGl6ZXIuaW5pdGlhbGl6ZXIsXG5cbiAgICAgIGFmdGVyOiBpbml0aWFsaXplci5hZnRlcixcbiAgICAgIGJlZm9yZTogaW5pdGlhbGl6ZXIuYmVmb3JlXG4gICAgfSk7XG4gIH1cblxuICBpbml0KGNvbnRleHQpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcblxuICAgIHZhciBpbml0T3JkZXIgPSBuZXcgT3JkZXJlZExpc3QodGhpcy5faW5pdGlhbGl6ZXJzKS5vcmRlcmVkVmFsdWVzKCk7XG4gICAgaW5pdE9yZGVyLmZvckVhY2goaW5pdGlhbGl6ZXIgPT4ge1xuICAgICAgaW5pdGlhbGl6ZXIodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjb250ZXh0IGFjY2Vzc29yc1xuICBoYXMoa2V5KSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY29udGV4dFtrZXldO1xuICB9XG5cbiAgZ2V0KGtleSwgZmFsbGJhY2spIHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbGxiYWNrIHx8IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwb3Aoa2V5KSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2NvbnRleHRba2V5XTtcbiAgICAgIHRoaXMuX2NvbnRleHRba2V5XSA9IG51bGw7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59XG5cbi8vIGNyZWF0ZSAgc2luZ2xldG9uXG52YXIgbWlzYWdvID0gbmV3IE1pc2FnbygpO1xuXG4vLyBleHBvc2UgaXQgZ2xvYmFsbHlcbmdsb2JhbC5taXNhZ28gPSBtaXNhZ287XG5cbi8vIGFuZCBleHBvcnQgaXQgZm9yIHRlc3RzIGFuZCBzdHVmZlxuZXhwb3J0IGRlZmF1bHQgbWlzYWdvO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgYWpheC5pbml0KG1pc2Fnby5nZXQoJ0NTUkZfQ09PS0lFX05BTUUnKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdhamF4JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICdtaXNhZ28vc2VydmljZXMvbG9jYWwtc3RvcmFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBhdXRoLmluaXQoc3RvcmUsIHN0b3JhZ2UsIG1vZGFsKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2F1dGgnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTsiLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBjYXB0Y2hhLmluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY2FwdGNoYScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEF1dGhNZXNzYWdlLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F1dGgtbWVzc2FnZSc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoQXV0aE1lc3NhZ2UpLCAnYXV0aC1tZXNzYWdlLW1vdW50Jyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YXV0aC1tZXNzYWdlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ0JBTl9NRVNTQUdFJykpIHtcbiAgICBzaG93QmFubmVkUGFnZShjb250ZXh0LmdldCgnQkFOX01FU1NBR0UnKSwgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YmFuZWQtcGFnZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBDYXRlZ29yaWVzLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXMtbW91bnQnKSkge1xuICAgIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDYXRlZ29yaWVzKSwgJ2NhdGVnb3JpZXMtbW91bnQnKTtcbiAgfVxufVxuXG4iLCJpbXBvcnQgT3B0aW9ucywgeyBwYXRocyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVVNFUl9PUFRJT05TJykpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyksXG4gICAgICBjb21wb25lbnQ6IE9wdGlvbnMsXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6b3B0aW9ucycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQcm9maWxlLCB7IHBhdGhzLCBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ1BST0ZJTEUnKSAmJiBjb250ZXh0LmhhcygnUFJPRklMRV9QQUdFUycpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcm9vdDogbWlzYWdvLmdldCgnUFJPRklMRScpLmFic29sdXRlX3VybCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFByb2ZpbGUpLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnByb2ZpbGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAncmVkdWNlcjpwcm9maWxlLWh5ZHJhdGUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBSZXF1ZXN0QWN0aXZhdGlvbkxpbmsgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXF1ZXN0LWFjdGl2YXRpb24tbGluay1tb3VudCcpKSB7XG4gICAgbW91bnQoUmVxdWVzdEFjdGl2YXRpb25MaW5rLCAncmVxdWVzdC1hY3RpdmF0aW9uLWxpbmstbW91bnQnLCBmYWxzZSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpyZXF1ZXN0LWFjdGl2YXRpb24tbGluaycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IFJlcXVlc3RQYXNzd29yZFJlc2V0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LW1vdW50JykpIHtcbiAgICBtb3VudChSZXF1ZXN0UGFzc3dvcmRSZXNldCwgJ3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQtbW91bnQnLCBmYWxzZSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgUmVzZXRQYXNzd29yZEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybSc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXBhc3N3b3JkLWZvcm0tbW91bnQnKSkge1xuICAgIG1vdW50KFJlc2V0UGFzc3dvcmRGb3JtLCAncmVzZXQtcGFzc3dvcmQtZm9ybS1tb3VudCcsIGZhbHNlKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnJlc2V0LXBhc3N3b3JkLWZvcm0nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBTbmFja2Jhciwgc2VsZWN0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc25hY2tiYXInO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKFNuYWNrYmFyKSwgJ3NuYWNrYmFyLW1vdW50Jyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6c25hY2tiYXInLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc25hY2tiYXInXG59KTtcbiIsImltcG9ydCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ1RIUkVBRCcpICYmIGNvbnRleHQuaGFzKCdQT1NUUycpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKCksXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp0aHJlYWQnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdUSFJFQURTJykgJiYgY29udGV4dC5oYXMoJ0NBVEVHT1JJRVMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocyhjb250ZXh0LmdldCgndXNlcicpKSxcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnRocmVhZHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBVc2VyTWVudSwgQ29tcGFjdFVzZXJNZW51LCBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoVXNlck1lbnUpLCAndXNlci1tZW51LW1vdW50Jyk7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDb21wYWN0VXNlck1lbnUpLCAndXNlci1tZW51LWNvbXBhY3QtbW91bnQnKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp1c2VyLW1lbnUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBVc2VycywgeyBwYXRocyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ1VTRVJTX0xJU1RTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpLFxuICAgICAgY29tcG9uZW50OiBVc2VycyxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp1c2VycycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGluY2x1ZGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2luY2x1ZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGluY2x1ZGUuaW5pdChjb250ZXh0LmdldCgnU1RBVElDX1VSTCcpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2luY2x1ZGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmFnZS5pbml0KCdtaXNhZ29fJyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdsb2NhbC1zdG9yYWdlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBkcm9wZG93biBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93bic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2JpbGUtbmF2YmFyLWRyb3Bkb3duLW1vdW50Jyk7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgZHJvcGRvd24uaW5pdChlbGVtZW50KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnZHJvcGRvd24nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLW1vdW50Jyk7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgbW9kYWwuaW5pdChlbGVtZW50KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnbW9kYWwnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb21lbnQubG9jYWxlKCQoJ2h0bWwnKS5hdHRyKCdsYW5nJykpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnbW9tZW50JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgdGl0bGUuaW5pdChcbiAgICBjb250ZXh0LmdldCgnU0VUVElOR1MnKS5mb3J1bV9pbmRleF90aXRsZSxcbiAgICBjb250ZXh0LmdldCgnU0VUVElOR1MnKS5mb3J1bV9uYW1lXG4gICk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdwYWdlLXRpdGxlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBwb2xscy5pbml0KGFqYXgsIHNuYWNrYmFyKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3BvbGxzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgcG9zdGluZy5pbml0KGFqYXgsIHNuYWNrYmFyLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGluZy1wbGFjZWhvbGRlcicpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3Bvc3RpbmcnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcignYXV0aCcsIHJlZHVjZXIsIE9iamVjdC5hc3NpZ24oe1xuICAgIGlzQXV0aGVudGljYXRlZDogY29udGV4dC5nZXQoJ2lzQXV0aGVudGljYXRlZCcpLFxuICAgIGlzQW5vbnltb3VzOiAhY29udGV4dC5nZXQoJ2lzQXV0aGVudGljYXRlZCcpLFxuXG4gICAgdXNlcjogY29udGV4dC5nZXQoJ3VzZXInKVxuICB9LCBpbml0aWFsU3RhdGUpKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6YXV0aCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgaWYgKG1pc2Fnby5oYXMoJ1BPU1RTJykpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoJ1BPU1RTJykpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigncG9zdHMnLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwb3N0cycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChtaXNhZ28uaGFzKCdQUk9GSUxFJykpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKG1pc2Fnby5nZXQoJ1BST0ZJTEUnKSkpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnByb2ZpbGUtaHlkcmF0ZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCdwcm9maWxlJywgcmVkdWNlciwge30pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwcm9maWxlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3NlbGVjdGlvbicsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6c2VsZWN0aW9uJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcignc25hY2tiYXInLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpzbmFja2JhcicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdUSFJFQUQnKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldCgnVEhSRUFEJykpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigndGhyZWFkJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGhyZWFkJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aHJlYWRzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp0aHJlYWRzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RpY2snO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aWNrJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGljaycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcigndXNlcm5hbWUtaGlzdG9yeScsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dXNlcm5hbWUtaGlzdG9yeScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3VzZXJzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp1c2VycycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzbmFja2Jhci5pbml0KHN0b3JlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3NuYWNrYmFyJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmluaXQoKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3N0b3JlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdfZW5kJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBkb1RpY2sgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGljayc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuY29uc3QgVElDS19QRVJJT0QgPSA1MCAqIDEwMDA7IC8vZG8gdGhlIHRpY2sgZXZlcnkgNTBzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZG9UaWNrKCkpO1xuICB9LCBUSUNLX1BFUklPRCk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd0aWNrLXN0YXJ0JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5pbXBvcnQgenhjdmJuIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy96eGN2Ym4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgenhjdmJuLmluaXQoaW5jbHVkZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd6eGN2Ym4nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcblxuZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHNpZ25lZEluOiBmYWxzZSxcbiAgc2lnbmVkT3V0OiBmYWxzZVxufTtcblxuZXhwb3J0IGNvbnN0IFBBVENIX1VTRVIgPSAnUEFUQ0hfVVNFUic7XG5leHBvcnQgY29uc3QgU0lHTl9JTiA9ICdTSUdOX0lOJztcbmV4cG9ydCBjb25zdCBTSUdOX09VVCA9ICdTSUdOX09VVCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1VTRVIsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9JTixcbiAgICB1c2VyXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KHNvZnQ9ZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSUdOX09VVCxcbiAgICBzb2Z0XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGU9aW5pdGlhbFN0YXRlLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9VU0VSOlxuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCBhY3Rpb24ucGF0Y2gpO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG5cbiAgICBjYXNlIFNJR05fSU46XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgc2lnbmVkSW46IGFjdGlvbi51c2VyXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0lHTl9PVVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbm9ueW1vdXM6IHRydWUsXG4gICAgICAgIHNpZ25lZE91dDogIWFjdGlvbi5zb2Z0XG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgJiYgc3RhdGUudXNlci5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCB7XG4gICAgICAgICAgJ2F2YXRhcl9oYXNoJzogYWN0aW9uLmF2YXRhckhhc2hcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCAmJiBzdGF0ZS51c2VyLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcbiAgICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBoeWRyYXRlVXNlciB9IGZyb20gJy4vdXNlcnMnO1xuXG5leHBvcnQgY29uc3QgUEFUQ0hfUE9TVCA9ICdQQVRDSF9QT1NUJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcbiAgICB1cGRhdGVkX29uOiBtb21lbnQoanNvbi51cGRhdGVkX29uKSxcbiAgICBoaWRkZW5fb246IG1vbWVudChqc29uLmhpZGRlbl9vbiksXG5cbiAgICBwb3N0ZXI6IGpzb24ucG9zdGVyID8gaHlkcmF0ZVVzZXIoanNvbi5wb3N0ZXIpIDogbnVsbCxcblxuICAgIGlzU2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNEZWxldGVkOiBmYWxzZVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBvc3QsIHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUE9TVCxcbiAgICBwb3N0LFxuICAgIHBhdGNoXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvc3Qoc3RhdGU9e30sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBpZiAoc3RhdGUuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24ucGF0Y2gpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBwb3N0UmVkdWNlciwgeyBQQVRDSF9QT1NULCBoeWRyYXRlIGFzIGh5ZHJhdGVQb3N0IH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuXG5leHBvcnQgY29uc3QgU0VMRUNUX1BPU1QgPSAnU0VMRUNUX1BPU1QnO1xuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1QgPSAnREVTRUxFQ1RfUE9TVCc7XG5leHBvcnQgY29uc3QgREVTRUxFQ1RfUE9TVFMgPSAnREVTRUxFQ1RfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IExPQURfUE9TVFMgPSAnTE9BRF9QT1NUUyc7XG5leHBvcnQgY29uc3QgVU5MT0FEX1BPU1RTID0gJ1VOTE9BRF9QT1NUUyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QocG9zdCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9QT1NULFxuICAgIHBvc3RcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0KHBvc3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERVNFTEVDVF9QT1NULFxuICAgIHBvc3RcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0QWxsKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFU0VMRUNUX1BPU1RTLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgcmVzdWx0czoganNvbi5yZXN1bHRzLm1hcChoeWRyYXRlUG9zdCksXG4gICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgaXNCdXN5OiBmYWxzZSxcbiAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQobmV3U3RhdGUsIGh5ZHJhdGVkPWZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogTE9BRF9QT1NUUyxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVubG9hZCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVTkxPQURfUE9TVFNcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdHMoc3RhdGU9e30sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNFTEVDVF9QT1NUOlxuICAgICAgY29uc3Qgc2VsZWN0ZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIGlmIChwb3N0LmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBvc3QsIHtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBzZWxlY3RlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVDpcbiAgICAgIGNvbnN0IGRlc2VsZXRlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRQb3N0c1xuICAgICAgfSk7XG5cbiAgICBjYXNlIERFU0VMRUNUX1BPU1RTOlxuICAgICAgY29uc3QgZGVzZWxldGVkQWxsUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRBbGxQb3N0c1xuICAgICAgfSk7XG5cbiAgICBjYXNlIExPQURfUE9TVFM6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVTkxPQURfUE9TVFM6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBjb25zdCByZWR1Y2VkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICByZXR1cm4gcG9zdFJlZHVjZXIocG9zdCwgYWN0aW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogcmVkdWNlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBVUERBVEVfQVZBVEFSLCBVUERBVEVfVVNFUk5BTUUsIGh5ZHJhdGVTdGF0dXMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuXG5leHBvcnQgY29uc3QgSFlEUkFURV9QUk9GSUxFID0gJ0hZRFJBVEVfUFJPRklMRSc7XG5leHBvcnQgY29uc3QgUEFUQ0hfUFJPRklMRSA9ICdQQVRDSF9QUk9GSUxFJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUocHJvZmlsZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfUFJPRklMRSxcbiAgICBwcm9maWxlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1BST0ZJTEUsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aChzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgSFlEUkFURV9QUk9GSUxFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5wcm9maWxlLCB7XG4gICAgICAgIGpvaW5lZF9vbjogbW9tZW50KGFjdGlvbi5wcm9maWxlLmpvaW5lZF9vbiksXG4gICAgICAgIHN0YXR1czogaHlkcmF0ZVN0YXR1cyhhY3Rpb24ucHJvZmlsZS5zdGF0dXMpXG4gICAgICB9KTtcblxuICAgIGNhc2UgUEFUQ0hfUFJPRklMRTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnBhdGNoKTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICBhdmF0YXJfaGFzaDogYWN0aW9uLmF2YXRhckhhc2hcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdG9nZ2xlIH0gZnJvbSAnbWlzYWdvL3V0aWxzL3NldHMnO1xuXG5leHBvcnQgY29uc3QgU0VMRUNUX0FMTCA9ICdTRUxFQ1RfQUxMJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RfTk9ORSA9ICdTRUxFQ1RfTk9ORSc7XG5leHBvcnQgY29uc3QgU0VMRUNUX0lURU0gPSAnU0VMRUNUX0lURU0nO1xuXG5leHBvcnQgZnVuY3Rpb24gYWxsKGl0ZW1zSWRzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0FMTCxcbiAgICBpdGVtczogaXRlbXNJZHNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX05PTkVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGl0ZW0oaXRlbUlkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0lURU0sXG4gICAgaXRlbTogaXRlbUlkXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbGVjdGlvbihzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX0FMTDpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXM7XG5cbiAgICBjYXNlIFNFTEVDVF9OT05FOlxuICAgICAgcmV0dXJuIFtdO1xuXG4gICAgY2FzZSBTRUxFQ1RfSVRFTTpcbiAgICAgIHJldHVybiB0b2dnbGUoc3RhdGUsIGFjdGlvbi5pdGVtKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJleHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdHlwZTogJ2luZm8nLFxuICBtZXNzYWdlOiAnJyxcbiAgaXNWaXNpYmxlOiBmYWxzZVxufTtcblxuZXhwb3J0IGNvbnN0IFNIT1dfU05BQ0tCQVIgPSAnU0hPV19TTkFDS0JBUic7XG5leHBvcnQgY29uc3QgSElERV9TTkFDS0JBUiA9ICdISURFX1NOQUNLQkFSJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dTbmFja2JhcihtZXNzYWdlLCB0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0hPV19TTkFDS0JBUixcbiAgICBtZXNzYWdlLFxuICAgIG1lc3NhZ2VUeXBlOiB0eXBlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlU25hY2tiYXIoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSElERV9TTkFDS0JBUlxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbmFja2JhcihzdGF0ZT1pbml0aWFsU3RhdGUsIGFjdGlvbj1udWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0hPV19TTkFDS0JBUikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBhY3Rpb24ubWVzc2FnZVR5cGUsXG4gICAgICBtZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgIH07XG4gIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IEhJREVfU05BQ0tCQVIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5leHBvcnQgY29uc3QgQlVTWV9USFJFQUQgPSAnQlVTWV9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFJFTEVBU0VfVEhSRUFEID0gJ1JFTEVBU0VfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBSRVBMQUNFX1RIUkVBRCA9ICdSRVBMQUNFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRCA9ICdVUERBVEVfVEhSRUFEJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHN0YXJ0ZWRfb246IG1vbWVudChqc29uLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KGpzb24ubGFzdF9wb3N0X29uKSxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXN5KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEJVU1lfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTEVBU0VfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfVEhSRUFELFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1RIUkVBRCxcbiAgICBkYXRhXG4gIH07XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyZWFkKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogdHJ1ZX0pO1xuXG4gICAgY2FzZSBSRUxFQVNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogZmFsc2V9KTtcblxuICAgIGNhc2UgUkVQTEFDRV9USFJFQUQ6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfVEhSRUFEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IGNvbmNhdFVuaXF1ZSBmcm9tICdtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZSc7XG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVEhSRUFEUyA9ICdBUFBFTkRfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgREVMRVRFX1RIUkVBRCA9ICdERUxFVEVfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBGSUxURVJfVEhSRUFEUyA9ICdGSUxURVJfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgSFlEUkFURV9USFJFQURTID0gJ0hZRFJBVEVfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgUEFUQ0hfVEhSRUFEID0gJ1BBVENIX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgUkVBRF9USFJFQURTID0gJ1JFQURfVEhSRUFEUyc7XG5leHBvcnQgY29uc3QgU09SVF9USFJFQURTID0gJ1NPUlRfVEhSRUFEUyc7XG5cbmV4cG9ydCBjb25zdCBNT0RFUkFUSU9OX1BFUk1JU1NJT05TID0gW1xuICAnY2FuX2Fubm91bmNlJyxcbiAgJ2Nhbl9hcHByb3ZlJyxcbiAgJ2Nhbl9jbG9zZScsXG4gICdjYW5faGlkZScsXG4gICdjYW5fbW92ZScsXG4gICdjYW5fbWVyZ2UnLFxuICAnY2FuX3BpbicsXG4gICdjYW5fcmV2aWV3J1xuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcywgc29ydGluZykge1xuIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1RIUkVBRFMsXG4gICAgaXRlbXMsXG4gICAgc29ydGluZ1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlVGhyZWFkKHRocmVhZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFTEVURV9USFJFQUQsXG4gICAgdGhyZWFkXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJUaHJlYWRzKGNhdGVnb3J5LCBjYXRlZ29yaWVzTWFwKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogRklMVEVSX1RIUkVBRFMsXG4gICAgY2F0ZWdvcnksXG4gICAgY2F0ZWdvcmllc01hcFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfVEhSRUFEUyxcbiAgICBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2godGhyZWFkLCBwYXRjaCwgc29ydGluZz1udWxsKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfVEhSRUFELFxuICAgIHRocmVhZCxcbiAgICBwYXRjaCxcbiAgICBzb3J0aW5nXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkKGNhdGVnb3JpZXNNYXAsIGNhdGVnb3J5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVBRF9USFJFQURTLFxuICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgY2F0ZWdvcnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnQoc29ydGluZykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNPUlRfVEhSRUFEUyxcbiAgICBzb3J0aW5nXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaHJlYWRNb2RlcmF0aW9uT3B0aW9ucyh0aHJlYWRfYWNsKSB7XG4gIGxldCBvcHRpb25zID0gW107XG4gIE1PREVSQVRJT05fUEVSTUlTU0lPTlMuZm9yRWFjaChmdW5jdGlvbihwZXJtKSB7XG4gICAgaWYgKHRocmVhZF9hY2xbcGVybV0pIHtcbiAgICAgIG9wdGlvbnMucHVzaChwZXJtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVUaHJlYWQodGhyZWFkKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aHJlYWQsIHtcbiAgICBzdGFydGVkX29uOiBtb21lbnQodGhyZWFkLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KHRocmVhZC5sYXN0X3Bvc3Rfb24pLFxuICAgIG1vZGVyYXRpb246IGdldFRocmVhZE1vZGVyYXRpb25PcHRpb25zKHRocmVhZC5hY2wpXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJlYWQoc3RhdGU9W10sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFQUEVORF9USFJFQURTOlxuICAgICAgY29uc3QgbWVyZ2VkU3RhdGUgPSBjb25jYXRVbmlxdWUoYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVGhyZWFkKSwgc3RhdGUpO1xuICAgICAgcmV0dXJuIG1lcmdlZFN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpO1xuXG4gICAgY2FzZSBERUxFVEVfVEhSRUFEOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkICE9PSBhY3Rpb24udGhyZWFkLmlkO1xuICAgICAgfSk7XG5cbiAgICBjYXNlIEZJTFRFUl9USFJFQURTOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1DYXRlZ29yeSA9IGFjdGlvbi5jYXRlZ29yaWVzTWFwW2l0ZW0uY2F0ZWdvcnldO1xuICAgICAgICBpZiAoaXRlbUNhdGVnb3J5LmxmdCA+PSBhY3Rpb24uY2F0ZWdvcnkubGZ0ICYmIGl0ZW1DYXRlZ29yeS5yZ2h0IDw9IGFjdGlvbi5jYXRlZ29yeS5yZ2h0KSB7XG4gICAgICAgICAgLy8gc2FtZSBvciBzdWIgY2F0ZWdvcnlcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLndlaWdodCA9PSAyKSB7XG4gICAgICAgICAgLy8gZ2xvYmFsbHkgcGlubmVkXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdGhyZWFkIG1vdmVkIG91dHNpZGUgZGlzcGxheWVkIHNjb3BlLCBoaWRlIGl0XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGNhc2UgSFlEUkFURV9USFJFQURTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVRocmVhZCk7XG5cbiAgICBjYXNlIFBBVENIX1RIUkVBRDpcbiAgICAgIGNvbnN0IHBhdGNoZWRTdGF0ZSA9IHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24udGhyZWFkLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIGFjdGlvbi5wYXRjaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWN0aW9uLnNvcnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHBhdGNoZWRTdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRjaGVkU3RhdGU7XG5cbiAgICBjYXNlIFJFQURfVEhSRUFEUzpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBjb25zdCBpdGVtQ2F0ZWdvcnkgPSBhY3Rpb24uY2F0ZWdvcmllc01hcFtpdGVtLmNhdGVnb3J5XTtcbiAgICAgICAgaWYgKGl0ZW1DYXRlZ29yeS5sZnQgPj0gYWN0aW9uLmNhdGVnb3J5LmxmdCAmJiBpdGVtQ2F0ZWdvcnkucmdodCA8PSBhY3Rpb24uY2F0ZWdvcnkucmdodCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBpc19yZWFkOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY2FzZSBTT1JUX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUuc29ydChhY3Rpb24uc29ydGluZyk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHRpY2s6IDBcbn07XG5cbmV4cG9ydCBjb25zdCBUSUNLID0gJ1RJQ0snO1xuXG5leHBvcnQgZnVuY3Rpb24gZG9UaWNrKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFRJQ0tcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGljayhzdGF0ZT1pbml0aWFsU3RhdGUsIGFjdGlvbj1udWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gVElDSykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICB0aWNrOiBzdGF0ZS50aWNrICsgMVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQUREX05BTUVfQ0hBTkdFID0gJ0FERF9OQU1FX0NIQU5HRSc7XG5leHBvcnQgY29uc3QgQVBQRU5EX0hJU1RPUlkgPSAnQVBQRU5EX0hJU1RPUlknO1xuZXhwb3J0IGNvbnN0IEhZRFJBVEVfSElTVE9SWSA9ICdIWURSQVRFX0hJU1RPUlknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTmFtZUNoYW5nZShjaGFuZ2UsIHVzZXIsIGNoYW5nZWRCeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFERF9OQU1FX0NIQU5HRSxcbiAgICBjaGFuZ2UsXG4gICAgdXNlcixcbiAgICBjaGFuZ2VkQnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9ISVNUT1JZLFxuICAgIGl0ZW1zOiBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfSElTVE9SWSxcbiAgICBpdGVtczogaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVOYW1lY2hhbmdlKG5hbWVjaGFuZ2UpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG5hbWVjaGFuZ2UsIHtcbiAgICBjaGFuZ2VkX29uOiBtb21lbnQobmFtZWNoYW5nZS5jaGFuZ2VkX29uKVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcm5hbWUoc3RhdGU9W10sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFERF9OQU1FX0NIQU5HRTpcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHN0YXRlLnNsaWNlKCk7XG4gICAgICBuZXdTdGF0ZS51bnNoaWZ0KHtcbiAgICAgICAgaWQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCAvLyBqdXN0IHNtYWxsIGhheCBmb3IgZ2V0dGluZyBpZFxuICAgICAgICBjaGFuZ2VkX2J5OiBhY3Rpb24uY2hhbmdlZEJ5LFxuICAgICAgICBjaGFuZ2VkX2J5X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlZEJ5LnVzZXJuYW1lLFxuICAgICAgICBjaGFuZ2VkX29uOiBtb21lbnQoKSxcbiAgICAgICAgbmV3X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlLnVzZXJuYW1lLFxuICAgICAgICBvbGRfdXNlcm5hbWU6IGFjdGlvbi51c2VyLnVzZXJuYW1lXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcblxuICAgIGNhc2UgQVBQRU5EX0hJU1RPUlk6XG4gICAgICByZXR1cm4gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKSk7XG5cbiAgICBjYXNlIEhZRFJBVEVfSElTVE9SWTpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgIGlmIChpdGVtLmNoYW5nZWRfYnkgJiYgaXRlbS5jaGFuZ2VkX2J5LmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5jaGFuZ2VkX2J5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbS5jaGFuZ2VkX2J5LCB7XG4gICAgICAgICAgICAnYXZhdGFyX2hhc2gnOiBhY3Rpb24uYXZhdGFySGFzaFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgaWYgKGl0ZW0uY2hhbmdlZF9ieSAmJiBpdGVtLmNoYW5nZWRfYnkuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmNoYW5nZWRfYnkgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLmNoYW5nZWRfYnksIHtcbiAgICAgICAgICAgICd1c2VybmFtZSc6IGFjdGlvbi51c2VybmFtZSxcbiAgICAgICAgICAgICdzbHVnJzogYWN0aW9uLnNsdWdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQVBQRU5EX1VTRVJTID0gJ0FQUEVORF9VU0VSUyc7XG5leHBvcnQgY29uc3QgSFlEUkFURV9VU0VSUyA9ICdIWURSQVRFX1VTRVJTJztcbmV4cG9ydCBjb25zdCBVUERBVEVfQVZBVEFSID0gJ1VQREFURV9BVkFUQVInO1xuZXhwb3J0IGNvbnN0IFVQREFURV9VU0VSTkFNRSA9ICdVUERBVEVfVVNFUk5BTUUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9VU0VSUyxcbiAgICBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMsIHtcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrID8gbW9tZW50KHN0YXR1cy5sYXN0X2NsaWNrKSA6IG51bGwsXG4gICAgICBiYW5uZWRfdW50aWw6IHN0YXR1cy5iYW5uZWRfdW50aWwgPyBtb21lbnQoc3RhdHVzLmJhbm5lZF91bnRpbCkgOiBudWxsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVVc2VyKHVzZXIpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHVzZXIsIHtcbiAgICBqb2luZWRfb246IG1vbWVudCh1c2VyLmpvaW5lZF9vbiksXG4gICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKHVzZXIuc3RhdHVzKVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF2YXRhcih1c2VyLCBhdmF0YXJIYXNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX0FWQVRBUixcbiAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgYXZhdGFySGFzaFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVXNlcm5hbWUodXNlciwgdXNlcm5hbWUsIHNsdWcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVVNFUk5BTUUsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIHVzZXJuYW1lLFxuICAgIHNsdWdcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcihzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1VTRVJTOlxuICAgICAgbGV0IG1lcmdlZFN0YXRlID0gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVVc2VyKSk7XG5cbiAgICAgIHJldHVybiBtZXJnZWRTdGF0ZS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgaWYgKGEudXNlcm5hbWUgPCBiLnVzZXJuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2UgaWYgKGEudXNlcm5hbWUgPiBiLnVzZXJuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY2FzZSBIWURSQVRFX1VTRVJTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVVzZXIpO1xuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmF2YXRhcl9oYXNoID0gYWN0aW9uLmF2YXRhckhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBBamF4IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IG51bGw7XG4gICAgdGhpcy5fY3NyZlRva2VuID0gbnVsbDtcbiAgICB0aGlzLl9sb2NrcyA9IHt9O1xuICB9XG5cbiAgaW5pdChjb29raWVOYW1lKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IGNvb2tpZU5hbWU7XG4gICAgdGhpcy5fY3NyZlRva2VuID0gdGhpcy5nZXRDc3JmVG9rZW4oKTtcbiAgfVxuXG4gIGdldENzcmZUb2tlbigpIHtcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YodGhpcy5fY29va2llTmFtZSkgIT09IC0xKSB7XG4gICAgICBsZXQgY29va2llUmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuX2Nvb2tpZU5hbWUgKyAnXFw9KFteO10qKScpO1xuICAgICAgbGV0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChjb29raWVSZWdleClbMF07XG4gICAgICByZXR1cm4gY29va2llID8gY29va2llLnNwbGl0KCc9JylbMV0gOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0KG1ldGhvZCwgdXJsLCBkYXRhKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCB4aHIgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdYLUNTUkZUb2tlbic6IHNlbGYuX2NzcmZUb2tlblxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IChkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsKSxcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUikge1xuICAgICAgICAgIGxldCByZWplY3Rpb24gPSBqcVhIUi5yZXNwb25zZUpTT04gfHwge307XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzO1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiTG9zdCBjb25uZWN0aW9uIHdpdGggYXBwbGljYXRpb24uXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGlmICghcmVqZWN0aW9uLmRldGFpbCB8fCByZWplY3Rpb24uZGV0YWlsID09PSAnTk9UIEZPVU5EJykge1xuICAgICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA1MDAgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1c1RleHQgPSBqcVhIUi5zdGF0dXNUZXh0O1xuXG4gICAgICAgICAgcmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICQuYWpheCh4aHIpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0KHVybCwgcGFyYW1zLCBsb2NrKSB7XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgdXJsICs9ICc/JyArICQucGFyYW0ocGFyYW1zKTtcbiAgICB9XG5cbiAgICBpZiAobG9jaykge1xuICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyB1cGRhdGUgdXJsIGluIGV4aXN0aW5nIGxvY2s/XG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10pIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10udXJsID0gdXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBpbW1lZGlhdGVseSBkZXJlZmVyZW5jZSBwcm9taXNlIGhhbmRsZXJzIHdpdGhvdXQgZG9pbmcgYW55dGhpbmdcbiAgICAgIC8vIHdlIGFyZSBhbHJlYWR5IHdhaXRpbmcgZm9yIGV4aXN0aW5nIHJlc3BvbnNlIHRvIHJlc29sdmVcbiAgICAgIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgIC8vIHJldHVybiBwcm9taXNlIHRoYXQgd2lsbCBiZWdpbiB3aGVuIG9yaWdpbmFsIG9uZSByZXNvbHZlc1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0KSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGxldCB3YWl0ID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHdhaXRpbmcgb24gcHJvbWlzZVxuICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLndhaXQpIHtcbiAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2FpdCh1cmwpO1xuICAgICAgICAgICAgICB9LCAzMDApO1xuXG4gICAgICAgICAgICAvLyBwb2xsIGZvciBuZXcgdXJsXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCAhPT0gdXJsKSB7XG4gICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKTtcblxuICAgICAgICAgICAgLy8gYWpheCBiYWNrZW5kIGZvciByZXNwb25zZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNlbGYucmVxdWVzdCgnR0VUJywgc2VsZi5fbG9ja3NbbG9ja10udXJsKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCh1cmwpO1xuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBzZXR1cCBuZXcgbG9jayB3aXRob3V0IHdhaXRlclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10gPSB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHdhaXQ6IHRydWUsXG4gICAgICAgICAgd2FpdGVyOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBzZWxmLnJlcXVlc3QoJ0dFVCcsIHVybCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ0dFVCcsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgcG9zdCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQT1NUJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIHBhdGNoKHVybCwgZGF0YSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ1BBVENIJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIHB1dCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQVVQnLCB1cmwsIGRhdGEpO1xuICB9XG5cbiAgZGVsZXRlKHVybCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ0RFTEVURScsIHVybCk7XG4gIH1cblxuICB1cGxvYWQodXJsLCBkYXRhLCBwcm9ncmVzcykge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsZXQgeGhyID0ge1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBzZWxmLl9jc3JmVG9rZW5cbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcblxuICAgICAgICB4aHI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxldCB4aHIgPSBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICBpZiAoZXZ0Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgICAgcHJvZ3Jlc3MoTWF0aC5yb3VuZChldnQubG9hZGVkIC8gZXZ0LnRvdGFsICogMTAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB4aHI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICBsZXQgcmVqZWN0aW9uID0ganFYSFIucmVzcG9uc2VKU09OIHx8IHt9O1xuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1cyA9IGpxWEhSLnN0YXR1cztcblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkxvc3QgY29ubmVjdGlvbiB3aXRoIGFwcGxpY2F0aW9uLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gJ05PVCBGT1VORCcpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dDtcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkLmFqYXgoeGhyKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWpheCgpO1xuIiwiaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0IH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEF1dGgge1xuICBpbml0KHN0b3JlLCBsb2NhbCwgbW9kYWwpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuX2xvY2FsID0gbG9jYWw7XG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbDtcblxuICAgIC8vIHRlbGwgb3RoZXIgdGFicyB3aGF0IGF1dGggc3RhdGUgaXMgYmVjYXVzZSB3ZSBhcmUgbW9zdCBjdXJyZW50IHdpdGggaXRcbiAgICB0aGlzLnN5bmNTZXNzaW9uKCk7XG5cbiAgICAvLyBsaXN0ZW4gZm9yIG90aGVyIHRhYnMgdG8gdGVsbCB1cyB0aGF0IHN0YXRlIGNoYW5nZWRcbiAgICB0aGlzLndhdGNoU3RhdGUoKTtcbiAgfVxuXG4gIHN5bmNTZXNzaW9uKCkge1xuICAgIGxldCBzdGF0ZSA9IHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYXV0aDtcbiAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgICAgdXNlcm5hbWU6IHN0YXRlLnVzZXIudXNlcm5hbWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHdhdGNoU3RhdGUoKSB7XG4gICAgdGhpcy5fbG9jYWwud2F0Y2goJ2F1dGgnLCAobmV3U3RhdGUpID0+IHtcbiAgICAgIGlmIChuZXdTdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbkluKHtcbiAgICAgICAgICB1c2VybmFtZTogbmV3U3RhdGUudXNlcm5hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduSW4odXNlcikge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25Jbih1c2VyKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQoKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIHNvZnRTaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQodHJ1ZSkpO1xuICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKTsiLCIvKiBnbG9iYWwgZ3JlY2FwdGNoYSAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEJhc2VDYXB0Y2hhIHtcbiAgaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuX2FqYXggPSBhamF4O1xuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlO1xuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgLy8gaW1tZWRpYXRlbHkgcmVzb2x2ZSBhcyB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIHZhbGlkYXRlXG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFFBQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX2FqYXguZ2V0KHNlbGYuX2NvbnRleHQuZ2V0KCdDQVBUQ0hBX0FQSScpKS50aGVuKFxuICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBzZWxmLnF1ZXN0aW9uID0gZGF0YS5xdWVzdGlvbjtcbiAgICAgICAgc2VsZi5oZWxwVGV4dCA9IGRhdGEuaGVscF90ZXh0O1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZhaWxlZCB0byBsb2FkIENBUFRDSEEuXCIpKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17dGhpcy5xdWVzdGlvbn0gZm9yPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz17a3dhcmdzLmxhYmVsQ2xhc3MgfHwgXCJjb2wtc20tNFwifVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz17a3dhcmdzLmNvbnRyb2xDbGFzcyB8fCBcImNvbC1zbS04XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e3RoaXMuaGVscFRleHQgfHwgbnVsbH0+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX2NhcHRjaGFcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9jYXB0Y2hhX3N0YXR1c1wiXG4gICAgICAgICAgICAgZGlzYWJsZWQ9e2t3YXJncy5mb3JtLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICBvbkNoYW5nZT17a3dhcmdzLmZvcm0uYmluZElucHV0KCdjYXB0Y2hhJyl9XG4gICAgICAgICAgICAgdmFsdWU9e2t3YXJncy5mb3JtLnN0YXRlLmNhcHRjaGF9IC8+XG4gICAgPC9Gb3JtR3JvdXA+O1xuICB9XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59XG5cblxuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGdyZWNhcHRjaGEucmVuZGVyKCdyZWNhcHRjaGEnLCB7XG4gICAgICAnc2l0ZWtleSc6IHRoaXMucHJvcHMuc2l0ZUtleSxcbiAgICAgICdjYWxsYmFjayc6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAvLyBmaXJlIGZha2V5IGV2ZW50IHRvIGJpbmRpbmdcbiAgICAgICAgdGhpcy5wcm9wcy5iaW5kaW5nKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGlkPVwicmVjYXB0Y2hhXCIgLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZSgnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzJywgdHJ1ZSk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KCk7XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3YWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXB0Y2hhXCIpfSBmb3I9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcImNvbC1zbS00XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbENsYXNzPXtrd2FyZ3MuY29udHJvbENsYXNzIHx8IFwiY29sLXNtLThcIn1cbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXtrd2FyZ3MuZm9ybS5zdGF0ZS5lcnJvcnMuY2FwdGNoYX1cbiAgICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIlBsZWFzZSBzb2x2ZSB0aGUgcXVpY2sgdGVzdC5cIil9PlxuICAgICAgPFJlQ2FwdGNoYUNvbXBvbmVudCBzaXRlS2V5PXt0aGlzLl9jb250ZXh0LmdldCgnU0VUVElOR1MnKS5yZWNhcHRjaGFfc2l0ZV9rZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmc9e2t3YXJncy5mb3JtLmJpbmRJbnB1dCgnY2FwdGNoYScpfSAvPlxuICAgIDwvRm9ybUdyb3VwPjtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xufVxuXG5leHBvcnQgY2xhc3MgQ2FwdGNoYSB7XG4gIGluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpIHtcbiAgICBzd2l0Y2goY29udGV4dC5nZXQoJ1NFVFRJTkdTJykuY2FwdGNoYV90eXBlKSB7XG4gICAgICBjYXNlICdubyc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgTm9DYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdxYSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUUFDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyZSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUmVDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuX2NhcHRjaGEuaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcik7XG4gIH1cblxuICAvLyBhY2Nlc3NvcnMgZm9yIHVuZGVybHlpbmcgc3RyYXRlZ3lcblxuICBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmxvYWQoKTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS52YWxpZGF0b3IoKTtcbiAgfVxuXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS5jb21wb25lbnQoa3dhcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FwdGNoYSgpOyIsImV4cG9ydCBjbGFzcyBJbmNsdWRlIHtcbiAgaW5pdChzdGF0aWNVcmwpIHtcbiAgICB0aGlzLl9zdGF0aWNVcmwgPSBzdGF0aWNVcmw7XG4gICAgdGhpcy5faW5jbHVkZWQgPSBbXTtcbiAgfVxuXG4gIGluY2x1ZGUoc2NyaXB0LCByZW1vdGU9ZmFsc2UpIHtcbiAgICBpZiAodGhpcy5faW5jbHVkZWQuaW5kZXhPZihzY3JpcHQpID09PSAtMSkge1xuICAgICAgdGhpcy5faW5jbHVkZWQucHVzaChzY3JpcHQpO1xuICAgICAgdGhpcy5faW5jbHVkZShzY3JpcHQsIHJlbW90ZSk7XG4gICAgfVxuICB9XG5cbiAgX2luY2x1ZGUoc2NyaXB0LCByZW1vdGUpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAoIXJlbW90ZSA/IHRoaXMuX3N0YXRpY1VybCA6ICcnKSArIHNjcmlwdCxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgZGF0YVR5cGU6ICdzY3JpcHQnXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEluY2x1ZGUoKTsiLCJsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2Uge1xuICBpbml0KHByZWZpeCkge1xuICAgIHRoaXMuX3ByZWZpeCA9IHByZWZpeDtcbiAgICB0aGlzLl93YXRjaGVycyA9IFtdO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCAoZSkgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlSnNvbiA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICB0aGlzLl93YXRjaGVycy5mb3JFYWNoKGZ1bmN0aW9uKHdhdGNoZXIpIHtcbiAgICAgICAgaWYgKHdhdGNoZXIua2V5ID09PSBlLmtleSAmJiBlLm9sZFZhbHVlICE9PSBlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgd2F0Y2hlci5jYWxsYmFjayhuZXdWYWx1ZUpzb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgc3RvcmFnZS5zZXRJdGVtKHRoaXMuX3ByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBsZXQgaXRlbVN0cmluZyA9IHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9wcmVmaXggKyBrZXkpO1xuICAgIGlmIChpdGVtU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtU3RyaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgd2F0Y2goa2V5LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3dhdGNoZXJzLnB1c2goe1xuICAgICAga2V5OiB0aGlzLl9wcmVmaXggKyBrZXksXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9jYWxTdG9yYWdlKCk7IiwiaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgTW9iaWxlTmF2YmFyRHJvcGRvd24ge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9jb21wb25lbnQgPSBudWxsO1xuICB9XG5cbiAgc2hvdyhjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBjb21wb25lbnQpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIHNob3dDb25uZWN0ZWQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudCA9PT0gbmFtZSkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudCA9IG5hbWU7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQsIHRydWUpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vYmlsZU5hdmJhckRyb3Bkb3duKCk7XG4iLCJpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIE1vZGFsIHtcbiAgaW5pdChlbGVtZW50KSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICB0aGlzLl9tb2RhbCA9ICQoZWxlbWVudCkubW9kYWwoe3Nob3c6IGZhbHNlfSk7XG5cbiAgICB0aGlzLl9tb2RhbC5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3coY29tcG9uZW50KSB7XG4gICAgbW91bnQoY29tcG9uZW50LCB0aGlzLl9lbGVtZW50LmlkKTtcbiAgICB0aGlzLl9tb2RhbC5tb2RhbCgnc2hvdycpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLl9tb2RhbC5tb2RhbCgnaGlkZScpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBNb2RhbCgpO1xuIiwiZXhwb3J0IGNsYXNzIFBhZ2VUaXRsZSB7XG4gIGluaXQoaW5kZXhUaXRsZSwgZm9ydW1OYW1lKSB7XG4gICAgdGhpcy5faW5kZXhUaXRsZSA9IGluZGV4VGl0bGU7XG4gICAgdGhpcy5fZm9ydW1OYW1lID0gZm9ydW1OYW1lO1xuICB9XG5cbiAgc2V0KHRpdGxlKSB7XG4gICAgaWYgKCF0aXRsZSkge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLl9pbmRleFRpdGxlIHx8IHRoaXMuX2ZvcnVtTmFtZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGl0bGUgPSB7dGl0bGU6IHRpdGxlfTtcbiAgICB9XG5cbiAgICBsZXQgZmluYWxUaXRsZSA9IHRpdGxlLnRpdGxlO1xuXG4gICAgaWYgKHRpdGxlLnBhZ2UgPiAxKSB7XG4gICAgICBjb25zdCBwYWdlTGFiZWwgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KCdwYWdlOiAlKHBhZ2UpcycpLCB7XG4gICAgICAgIHBhZ2U6IHRpdGxlLnBhZ2VcbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICBmaW5hbFRpdGxlICs9ICcgKCcgKyBwYWdlTGFiZWwgKyAnKSc7XG4gICAgfVxuXG4gICAgaWYgKHRpdGxlLnBhcmVudCkge1xuICAgICAgZmluYWxUaXRsZSArPSAnIHwgJyArIHRpdGxlLnBhcmVudDtcbiAgICB9XG5cbiAgICBkb2N1bWVudC50aXRsZSA9IGZpbmFsVGl0bGUgKyAnIHwgJyArIHRoaXMuX2ZvcnVtTmFtZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUGFnZVRpdGxlKCk7XG4iLCJleHBvcnQgY2xhc3MgUG9sbHMge1xuICBpbml0KGFqYXgsIHNuYWNrYmFyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcblxuICAgIHRoaXMuX3BvbGxzID0ge307XG4gIH1cblxuICBzdGFydChrd2FyZ3MpIHtcbiAgICB0aGlzLnN0b3Aoa3dhcmdzLnBvbGwpO1xuXG4gICAgY29uc3QgcG9vbFNlcnZlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXSA9IGt3YXJncztcblxuICAgICAgdGhpcy5fYWpheC5nZXQoa3dhcmdzLnVybCwga3dhcmdzLmRhdGEgfHwgbnVsbCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgIGt3YXJncy51cGRhdGUoZGF0YSk7XG5cbiAgICAgICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0udGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpO1xuICAgICAgICB9XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLl9zdG9wcGVkKSB7XG4gICAgICAgICAgaWYgKGt3YXJncy5lcnJvcikge1xuICAgICAgICAgICAga3dhcmdzLmVycm9yKHJlamVjdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKGt3YXJncy5kZWxheWVkKSB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSB7XG4gICAgICAgIHRpbWVvdXQ6IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwb29sU2VydmVyKCk7XG4gICAgfVxuICB9XG5cbiAgc3RvcChwb2xsSWQpIHtcbiAgICBpZiAodGhpcy5fcG9sbHNbcG9sbElkXSkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9wb2xsc1twb2xsSWRdLnRpbWVvdXQpO1xuICAgICAgdGhpcy5fcG9sbHNbcG9sbElkXS5fc3RvcHBlZCA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb2xscygpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdGluZ0NvbXBvbmVudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIsIHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcbiAgICB0aGlzLl9wbGFjZWhvbGRlciA9ICQocGxhY2Vob2xkZXIpO1xuXG4gICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5faXNDbG9zaW5nID0gZmFsc2U7XG4gIH1cblxuICBvcGVuKHByb3BzKSB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLmNvbmZpZztcbiAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2lzT3BlbiAhPT0gcHJvcHMuY29uZmlnKSB7XG4gICAgICBjb25zdCBjaGFuZ2VGb3JtID0gY29uZmlybShnZXR0ZXh0KFwiWW91IGFyZSBhbHJlYWR5IHdvcmtpbmcgb24gb3RoZXIgbWVzc2FnZS4gRG8geW91IHdhbnQgdG8gZGlzY2FyZCBpdD9cIikpO1xuICAgICAgaWYgKGNoYW5nZUZvcm0pIHtcbiAgICAgICAgdGhpcy5faXNPcGVuID0gcHJvcHMuY29uZmlnO1xuICAgICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICBfcmVhbE9wZW4ocHJvcHMpIHtcbiAgICBtb3VudChcbiAgICAgIDxQb3N0aW5nQ29tcG9uZW50IHsuLi5wcm9wc30gLz4sXG4gICAgICAncG9zdGluZy1tb3VudCdcbiAgICApO1xuXG4gICAgdGhpcy5fcGxhY2Vob2xkZXIuYWRkQ2xhc3MoJ3NsaWRlLWluJyk7XG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNPcGVuICYmICF0aGlzLl9pc0Nsb3NpbmcpIHtcbiAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IHRydWU7XG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci5yZW1vdmVDbGFzcygnc2xpZGUtaW4nKTtcblxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0aW5nLW1vdW50JykpO1xuICAgICAgICB0aGlzLl9pc0Nsb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcbiAgLy8ganNoaW50IGlnbm9yZTplbmRcbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFBvc3RpbmcoKTtcbiIsImltcG9ydCB7IHNob3dTbmFja2JhciwgaGlkZVNuYWNrYmFyIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NuYWNrYmFyJztcblxuY29uc3QgSElERV9BTklNQVRJT05fTEVOR1RIID0gMzAwO1xuY29uc3QgTUVTU0FHRV9TSE9XX0xFTkdUSCA9IDUwMDA7XG5cbmV4cG9ydCBjbGFzcyBTbmFja2JhciB7XG4gIGluaXQoc3RvcmUpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICB9XG5cbiAgYWxlcnQobWVzc2FnZSwgdHlwZSkge1xuICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goaGlkZVNuYWNrYmFyKCkpO1xuXG4gICAgICB0aGlzLl90aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbGVydChtZXNzYWdlLCB0eXBlKTtcbiAgICAgIH0sIEhJREVfQU5JTUFUSU9OX0xFTkdUSCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNob3dTbmFja2JhcihtZXNzYWdlLCB0eXBlKSk7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICAgICAgfSwgTUVTU0FHRV9TSE9XX0xFTkdUSCk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2hvcnRoYW5kcyBmb3IgbWVzc2FnZSB0eXBlc1xuXG4gIGluZm8obWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgJ2luZm8nKTtcbiAgfVxuXG4gIHN1Y2Nlc3MobWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgJ3N1Y2Nlc3MnKTtcbiAgfVxuXG4gIHdhcm5pbmcobWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgJ3dhcm5pbmcnKTtcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdlcnJvcicpO1xuICB9XG5cbiAgLy8gc2hvcnRoYW5kIGZvciBhcGkgZXJyb3JzXG5cbiAgYXBpRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSByZWplY3Rpb24uZGV0YWlsO1xuXG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiQWN0aW9uIGxpbmsgaXMgaW52YWxpZC5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgbWVzc2FnZSA9PT0gXCJQZXJtaXNzaW9uIGRlbmllZFwiKSB7XG4gICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIllvdSBkb24ndCBoYXZlIHBlcm1pc3Npb24gdG8gcGVyZm9ybSB0aGlzIGFjdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5lcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU25hY2tiYXIoKTtcbiIsImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycywgY3JlYXRlU3RvcmUgfSBmcm9tICdyZWR1eCc7XG5cbmV4cG9ydCBjbGFzcyBTdG9yZVdyYXBwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdG9yZSA9IG51bGw7XG4gICAgdGhpcy5fcmVkdWNlcnMgPSB7fTtcbiAgICB0aGlzLl9pbml0aWFsU3RhdGUgPSB7fTtcbiAgfVxuXG4gIGFkZFJlZHVjZXIobmFtZSwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKSB7XG4gICAgdGhpcy5fcmVkdWNlcnNbbmFtZV0gPSByZWR1Y2VyO1xuICAgIHRoaXMuX2luaXRpYWxTdGF0ZVtuYW1lXSA9IGluaXRpYWxTdGF0ZTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICAgIGNvbWJpbmVSZWR1Y2Vycyh0aGlzLl9yZWR1Y2VycyksIHRoaXMuX2luaXRpYWxTdGF0ZSk7XG4gIH1cblxuICBnZXRTdG9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmU7XG4gIH1cblxuICAvLyBTdG9yZSBBUElcblxuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKTtcbiAgfVxuXG4gIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTdG9yZVdyYXBwZXIoKTtcbiIsIi8qIGdsb2JhbCB6eGN2Ym4gKi9cbmV4cG9ydCBjbGFzcyBaeGN2Ym4ge1xuICBpbml0KGluY2x1ZGUpIHtcbiAgICB0aGlzLl9pbmNsdWRlID0gaW5jbHVkZTtcbiAgfVxuXG4gIHNjb3JlUGFzc3dvcmQocGFzc3dvcmQsIGlucHV0cykge1xuICAgIC8vIDAtNCBzY29yZSwgdGhlIG1vcmUgdGhlIHN0cm9uZ2VyIHBhc3N3b3JkXG4gICAgcmV0dXJuIHp4Y3ZibihwYXNzd29yZCwgaW5wdXRzKS5zY29yZTtcbiAgfVxuXG4gIGxvYWQoKSB7XG4gICAgaWYgKHR5cGVvZiB6eGN2Ym4gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZSgnbWlzYWdvL2pzL3p4Y3Zibi5qcycpO1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWRpbmdQcm9taXNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkZWRQcm9taXNlKCk7XG4gICAgfVxuICB9XG5cbiAgX2xvYWRpbmdQcm9taXNlKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICB2YXIgd2FpdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mIHp4Y3ZibiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCgpO1xuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgd2FpdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgX2xvYWRlZFByb21pc2UoKSB7XG4gICAgLy8gd2UgaGF2ZSBhbHJlYWR5IGxvYWRlZCB6eGN2Ym4uanMsIHJlc29sdmUgYXdheSFcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBaeGN2Ym4oKTsiLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFByb3ZpZGVyLCBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Jhbm5lZC1wYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmxldCBzZWxlY3QgPSBmdW5jdGlvbihzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUudGljaztcbn07XG5cbmxldCBSZWRyYXdlZEJhbm5lZFBhZ2UgPSBjb25uZWN0KHNlbGVjdCkoQmFubmVkUGFnZSk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihiYW4sIGNoYW5nZVN0YXRlKSB7XG4gIFJlYWN0RE9NLnJlbmRlcihcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZS5nZXRTdG9yZSgpfT5cbiAgICAgIDxSZWRyYXdlZEJhbm5lZFBhZ2UgbWVzc2FnZT17YmFuLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXM9e2Jhbi5leHBpcmVzX29uID8gbW9tZW50KGJhbi5leHBpcmVzX29uKSA6IG51bGx9IC8+XG4gICAgPC9Qcm92aWRlcj4sXG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1tb3VudCcpXG4gICk7XG5cbiAgaWYgKHR5cGVvZiBjaGFuZ2VTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY2hhbmdlU3RhdGUpIHtcbiAgICBsZXQgZm9ydW1OYW1lID0gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9uYW1lO1xuICAgIGRvY3VtZW50LnRpdGxlID0gZ2V0dGV4dChcIllvdSBhcmUgYmFubmVkXCIpICsgJyB8ICcgKyBmb3J1bU5hbWU7XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCBcIlwiLCBtaXNhZ28uZ2V0KCdCQU5ORURfVVJMJykpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obGlzdCwgcm93V2lkdGgsIHBhZGRpbmc9ZmFsc2UpIHtcbiAgbGV0IHJvd3MgPSBbXTtcbiAgbGV0IHJvdyA9IFtdO1xuXG4gIGxpc3QuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcm93LnB1c2goZWxlbWVudCk7XG4gICAgaWYgKHJvdy5sZW5ndGggPT09IHJvd1dpZHRoKSB7XG4gICAgICByb3dzLnB1c2gocm93KTtcbiAgICAgIHJvdyA9IFtdO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcGFkIHJvdyB0byByZXF1aXJlZCBsZW5ndGg/XG4gIGlmIChwYWRkaW5nICE9PSBmYWxzZSAmJiByb3cubGVuZ3RoID4gMCAmJiByb3cubGVuZ3RoIDwgcm93V2lkdGgpIHtcbiAgICBmb3IgKGxldCBpID0gcm93Lmxlbmd0aDsgaSA8IHJvd1dpZHRoOyBpICsrKSB7XG4gICAgICByb3cucHVzaChwYWRkaW5nKTtcbiAgICB9XG4gIH1cblxuICBpZiAocm93Lmxlbmd0aCkge1xuICAgIHJvd3MucHVzaChyb3cpO1xuICB9XG5cbiAgcmV0dXJuIHJvd3M7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICBsZXQgaWRzID0gW107XG4gIHJldHVybiBhLmNvbmNhdChiKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChpZHMuaW5kZXhPZihpdGVtLmlkKSA9PT0gLTEpIHtcbiAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoY2FsbGJhY2ssIGNvdW50KSB7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLl9jb3VudCA9IGNvdW50O1xuICB9XG5cbiAgY291bnQoKSB7XG4gICAgdGhpcy5fY291bnQgLT0gMTtcbiAgICBpZiAodGhpcy5fY291bnQgPT09IDApIHtcbiAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59IiwiY29uc3QgbWFwID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMwMzk7J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bJjw+XCInXS9nLCBmdW5jdGlvbihtKSB7IHJldHVybiBtYXBbbV07IH0pO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gIGlmIChieXRlcyA+IDEwMDAgKiAxMDAwICogMTAwMCkge1xuICAgIHJldHVybiAoTWF0aC5yb3VuZChieXRlcyAqIDEwMCAvICgxMDAwICogMTAwMCAqIDEwMDApKSAvIDEwMCkgKyAnIEdCJztcbiAgfSBlbHNlIGlmIChieXRlcyA+IDEwMDAgKiAxMDAwKSB7XG4gICAgcmV0dXJuIChNYXRoLnJvdW5kKGJ5dGVzICogMTAwIC8gKDEwMDAgKiAxMDAwKSkgLyAxMDApICsgJyBNQic7XG4gIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDAwKSB7XG4gICAgcmV0dXJuIChNYXRoLnJvdW5kKGJ5dGVzICogMTAwIC8gMTAwMCkgLyAxMDApICsgJyBLQic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChNYXRoLnJvdW5kKGJ5dGVzICogMTAwKSAvIDEwMCkgKyAnIEInO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oQ29tcG9uZW50LCByb290RWxlbWVudElkLCBjb25uZWN0ZWQ9dHJ1ZSkge1xuICBsZXQgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb290RWxlbWVudElkKTtcblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxldCBmaW5hbENvbXBvbmVudCA9IENvbXBvbmVudC5wcm9wcyA/IENvbXBvbmVudCA6IDxDb21wb25lbnQgLz47XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgaWYgKHJvb3RFbGVtZW50KSB7XG4gICAgaWYgKGNvbm5lY3RlZCkge1xuICAgICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICAgICAge2ZpbmFsQ29tcG9uZW50fVxuICAgICAgICA8L1Byb3ZpZGVyPixcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgICAgcm9vdEVsZW1lbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIFJlYWN0RE9NLnJlbmRlcihmaW5hbENvbXBvbmVudCwgcm9vdEVsZW1lbnQpO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn1cbiIsImNsYXNzIE9yZGVyZWRMaXN0IHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtcykge1xuICAgICAgdGhpcy5pc09yZGVyZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXMgfHwgW107XG4gICAgfVxuXG4gICAgYWRkKGtleSwgaXRlbSwgb3JkZXIpIHtcbiAgICAgIHRoaXMuX2l0ZW1zLnB1c2goe1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgaXRlbTogaXRlbSxcblxuICAgICAgICBhZnRlcjogb3JkZXIgPyBvcmRlci5hZnRlciB8fCBudWxsIDogbnVsbCxcbiAgICAgICAgYmVmb3JlOiBvcmRlciA/IG9yZGVyLmJlZm9yZSB8fCBudWxsIDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zW2ldLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2ldLml0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGhhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChrZXkpICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZXMucHVzaCh0aGlzLl9pdGVtc1tpXS5pdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgb3JkZXIodmFsdWVzX29ubHkpIHtcbiAgICAgIGlmICghdGhpcy5pc09yZGVyZWQpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB0aGlzLl9vcmRlcih0aGlzLl9pdGVtcyk7XG4gICAgICAgIHRoaXMuaXNPcmRlcmVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlc19vbmx5IHx8IHR5cGVvZiB2YWx1ZXNfb25seSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb3JkZXJlZFZhbHVlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLm9yZGVyKHRydWUpO1xuICAgIH1cblxuICAgIF9vcmRlcih1bm9yZGVyZWQpIHtcbiAgICAgIC8vIEluZGV4IG9mIHVub3JkZXJlZCBpdGVtc1xuICAgICAgdmFyIGluZGV4ID0gW107XG4gICAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpbmRleC5wdXNoKGl0ZW0ua2V5KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcmRlcmVkIGl0ZW1zXG4gICAgICB2YXIgb3JkZXJlZCA9IFtdO1xuICAgICAgdmFyIG9yZGVyaW5nID0gW107XG5cbiAgICAgIC8vIEZpcnN0IHBhc3M6IHJlZ2lzdGVyIGl0ZW1zIHRoYXRcbiAgICAgIC8vIGRvbid0IHNwZWNpZnkgdGhlaXIgb3JkZXJcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmICghaXRlbS5hZnRlciAmJiAhaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgICBvcmRlcmVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgb3JkZXJpbmcucHVzaChpdGVtLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWNvbmQgcGFzczogcmVnaXN0ZXIgaXRlbXMgdGhhdFxuICAgICAgLy8gc3BlY2lmeSB0aGVpciBiZWZvcmUgdG8gXCJfZW5kXCJcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmJlZm9yZSA9PT0gXCJfZW5kXCIpIHtcbiAgICAgICAgICBvcmRlcmVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgb3JkZXJpbmcucHVzaChpdGVtLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlyZCBwYXNzOiBrZWVwIGl0ZXJhdGluZyBpdGVtc1xuICAgICAgLy8gdW50aWwgd2UgaGl0IGl0ZXJhdGlvbnMgbGltaXQgb3IgZmluaXNoXG4gICAgICAvLyBvcmRlcmluZyBsaXN0XG4gICAgICBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW0pIHtcbiAgICAgICAgdmFyIGluc2VydEF0ID0gLTE7XG4gICAgICAgIGlmIChvcmRlcmluZy5pbmRleE9mKGl0ZW0ua2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICBpZiAoaXRlbS5hZnRlcikge1xuICAgICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYWZ0ZXIpO1xuICAgICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgICBpbnNlcnRBdCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgICAgIGluc2VydEF0ID0gb3JkZXJpbmcuaW5kZXhPZihpdGVtLmJlZm9yZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgb3JkZXJlZC5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0pO1xuICAgICAgICAgICAgb3JkZXJpbmcuc3BsaWNlKGluc2VydEF0LCAwLCBpdGVtLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMjAwO1xuICAgICAgd2hpbGUgKGl0ZXJhdGlvbnMgPiAwICYmIGluZGV4Lmxlbmd0aCAhPT0gb3JkZXJpbmcubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMgLT0gMTtcbiAgICAgICAgdW5vcmRlcmVkLmZvckVhY2goaW5zZXJ0SXRlbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmRlcmVkO1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBkZWZhdWx0IE9yZGVyZWRMaXN0O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGludChtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkpICsgbWluO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UobWluLCBtYXgpIHtcbiAgbGV0IGFycmF5ID0gbmV3IEFycmF5KGludChtaW4sIG1heCkpO1xuICBmb3IobGV0IGk9MDsgaTxhcnJheS5sZW5ndGg7IGkrKyl7XG4gICAgYXJyYXlbaV0gPSBpO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBSb3V0ZXIsdXNlUm91dGVySGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgeyBjcmVhdGVIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSdcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1tb3VudCcpO1xuXG5jb25zdCBicm93c2VySGlzdG9yeSA9IHVzZVJvdXRlckhpc3RvcnkoY3JlYXRlSGlzdG9yeSkoe1xuICBiYXNlbmFtZTogJy8nXG59KVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGxldCByb3V0ZXMgPSB7XG4gICAgcGF0aDonZm9ydW0vJyxcbiAgICBjb21wb25lbnQ6IG9wdGlvbnMuY29tcG9uZW50IHx8IG51bGwsXG4gICAgY2hpbGRSb3V0ZXM6IFtdXG4gIH07XG5cbiAgaWYgKG9wdGlvbnMucm9vdCkge1xuICAgIHJvdXRlcy5jaGlsZFJvdXRlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgcGF0aDogb3B0aW9ucy5yb290LFxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbihuZXh0U3RhdGUsIHJlcGxhY2VTdGF0ZSkge1xuICAgICAgICAgIHJlcGxhY2VTdGF0ZShudWxsLCBvcHRpb25zLnBhdGhzWzBdLnBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXS5jb25jYXQob3B0aW9ucy5wYXRocyk7XG4gIH0gZWxzZSB7XG4gICAgcm91dGVzLmNoaWxkUm91dGVzID0gb3B0aW9ucy5wYXRocztcbiAgfVxuXG4gIFJlYWN0RE9NLnJlbmRlcihcbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlLmdldFN0b3JlKCl9PlxuICAgICAgPFJvdXRlciByb3V0ZXM9e3JvdXRlc30gaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IC8+XG4gICAgPC9Qcm92aWRlcj4sXG4gICAgcm9vdEVsZW1lbnRcbiAgKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwdXNoKGFycmF5LCB2YWx1ZSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgbGV0IGNvcHkgPSBhcnJheS5zbGljZSgpO1xuICAgIGNvcHkucHVzaCh2YWx1ZSk7XG4gICAgcmV0dXJuIGNvcHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gaSAhPT0gdmFsdWU7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBsZXQgY29weSA9IGFycmF5LnNsaWNlKCk7XG4gICAgY29weS5wdXNoKHZhbHVlKTtcbiAgICByZXR1cm4gY29weTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cmluZywgc3ViU3RyaW5nKSB7XG4gIHN0cmluZyA9IChzdHJpbmcgKyBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICBzdWJTdHJpbmcgPSAoc3ViU3RyaW5nICsgXCJcIikudG9Mb3dlckNhc2UoKTtcblxuICBpZiAoc3ViU3RyaW5nLmxlbmd0aCA8PSAwKSByZXR1cm4gMDtcblxuICBsZXQgbiA9IDA7XG4gIGxldCBwb3MgPSAwO1xuICBsZXQgc3RlcCA9IHN1YlN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZihzdWJTdHJpbmcsIHBvcyk7XG4gICAgaWYgKHBvcyA+PSAwKSB7XG4gICAgICBuICs9IDE7XG4gICAgICBwb3MgKz0gc3RlcDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG47XG59IiwiY29uc3QgRU1BSUwgPSAvXigoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rXFwuKStbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdezIsfSkkL2k7XG5jb25zdCBVU0VSTkFNRSA9IG5ldyBSZWdFeHAoJ15bMC05YS16XSskJywgJ2knKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkKCkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoJC50cmltKHZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1haWwobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIUVNQUlMLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZSB8fCBnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaW5MZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9ICcnO1xuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPCBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgbGltaXRWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUocmV0dXJuTWVzc2FnZSwge1xuICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXhMZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9ICcnO1xuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPiBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IG1vc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBtb3N0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIGxpbWl0VmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKHJldHVybk1lc3NhZ2UsIHtcbiAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNaW5MZW5ndGgoc2V0dGluZ3MpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsaW1pdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZy5cIixcbiAgICAgIFwiVXNlcm5hbWUgbXVzdCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG4gIH07XG4gIHJldHVybiB0aGlzLm1pbkxlbmd0aChzZXR0aW5ncy51c2VybmFtZV9sZW5ndGhfbWluLCBtZXNzYWdlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZXJuYW1lTWF4TGVuZ3RoKHNldHRpbmdzKSB7XG4gIHZhciBtZXNzYWdlID0gZnVuY3Rpb24obGltaXRWYWx1ZSkge1xuICAgIHJldHVybiBuZ2V0dGV4dChcbiAgICAgIFwiVXNlcm5hbWUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIuXCIsXG4gICAgICBcIlVzZXJuYW1lIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycy5cIixcbiAgICAgIGxpbWl0VmFsdWUpO1xuICB9O1xuICByZXR1cm4gdGhpcy5tYXhMZW5ndGgoc2V0dGluZ3MudXNlcm5hbWVfbGVuZ3RoX21heCwgbWVzc2FnZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZUNvbnRlbnQoKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghVVNFUk5BTUUudGVzdCgkLnRyaW0odmFsdWUpKSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJVc2VybmFtZSBjYW4gb25seSBjb250YWluIGxhdGluIGFscGhhYmV0IGxldHRlcnMgYW5kIGRpZ2l0cy5cIik7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFzc3dvcmRNaW5MZW5ndGgoc2V0dGluZ3MpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsaW1pdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJWYWxpZCBwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZy5cIixcbiAgICAgIFwiVmFsaWQgcGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG4gIH07XG4gIHJldHVybiB0aGlzLm1pbkxlbmd0aChzZXR0aW5ncy5wYXNzd29yZF9sZW5ndGhfbWluLCBtZXNzYWdlKTtcbn0iXX0=
